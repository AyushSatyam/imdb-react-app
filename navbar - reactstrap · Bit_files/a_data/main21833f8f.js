(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1020:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n.n(a),i=n(88),o=n.n(i),s=(n(796),n(798),n(800),n(802),n(582));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(s.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(433),r=n(434),i=n(341),o=n(435),s=n(57),c=new(n(618).a);c.register([{name:s.CapsuleType.react,factory:s.createRemote,generateDefaultCode:a.makeTemplate,mainFile:a.mainFile,wrkDir:"/capsule/src/App",logoUrl:"/img/logo-react.svg",hmrEnabled:!0},{name:s.CapsuleType.vue,factory:s.createRemote,generateDefaultCode:r.makeTemplate,mainFile:r.mainFile,wrkDir:"/capsule/src/components",logoUrl:"/img/logo-vue.svg",hmrEnabled:!0},{name:s.CapsuleType.angular,factory:s.createRemote,generateDefaultCode:i.b,mainFile:i.a,wrkDir:"/capsule/src/app",logoUrl:"/img/logo-angular.svg",hmrEnabled:!0},{name:s.CapsuleType.node,factory:s.createRemote,generateDefaultCode:i.b,mainFile:"index.js",wrkDir:"/capsule",logoUrl:"/img/logo-node.svg",hmrEnabled:!1},{name:s.CapsuleType.react_native,factory:s.createRemote,generateDefaultCode:o.makeReactNativeTemplate,mainFile:o.mainFile,wrkDir:"/capsule/src/App",logoUrl:"/img/logo-react-native.svg",hmrEnabled:!0}])},216:function(e,t,n){"use strict";var a=n(586),r=n.n(a)()({development:{orchestratorUrl:"https://stg-capsule.bitsrc.io",feature_bonusLoaderTexts:!0,feature_markStaticSite:!0},stage:{orchestratorUrl:"https://stg-capsule.bit.dev",feature_bonusLoaderTexts:!0,feature_markStaticSite:!0},production:{orchestratorUrl:"https://capsule.bit.dev"},default:{orchestratorUrl:"https://capsule.bit.dev",staticBucket:"https://static.bit.dev",cookieName:"cocyclesSession",feature_bonusLoaderTexts:!1,feature_markStaticSite:!1}},"production");t.a=r},244:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"WRITE_FILE",(function(){return i})),n.d(a,"HARD_RESET",(function(){return o})),n.d(a,"SET_FILES",(function(){return s})),n.d(a,"ADD_FOLDER",(function(){return c})),n.d(a,"DEL_FILE",(function(){return l})),n.d(a,"RENAME_FILE",(function(){return u}));var r=n(26),i="WRITE_FILE",o="HARD_RESET",s="SET_FILES",c="ADD_FOLDER",l="DEL_FILE",u="RENAME_FILE",d=n(126),f=n(174),p=n(68),m=n(89),h=n(322);var v=n(27),b=n(52),g=n.n(b),y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(r.a)(this,e),this.isFile=!0,this.source=n,this.name=g.a.basename(t),this.path=t,this.relativePath=t}return Object(v.a)(e,[{key:"toObj",value:function(){return{isFile:this.isFile,name:this.name,source:this.source,path:this.path,relativePath:this.relativePath}}}]),e}();var O,j=n(321),E={files:void 0},w=(O={},Object(p.a)(O,i,(function(e,t){return function(e,t){var n=t,a=n.fileId,r=n.content,i=(e.files||{})[a]||new y(a).toObj(),o=Object(m.a)({},e.files,Object(p.a)({},a,Object(m.a)({},i,{source:r})));return Object(m.a)({},e,{files:o})}(e,t)})),Object(p.a)(O,c,(function(e,t){var n=t.fileId,a=e.files;return a&&a[n]?e:Object(m.a)({},e,{files:Object(m.a)({},e.files,Object(p.a)({},n+"/",{}))})})),Object(p.a)(O,s,(function(e,t){var n=t.files;return Object(m.a)({},e,{files:n})})),Object(p.a)(O,o,(function(e,t){return E})),Object(p.a)(O,l,(function(e,t){var n=t.fileId;if(!e.files)return e;var a=Object.keys(e.files).filter((function(e){return!e.startsWith(n)})),r=Object.assign.apply(Object,[{}].concat(Object(f.a)(a.map((function(t){return Object(p.a)({},t,e.files[t])})))));return Object(m.a)({},e,{files:r})})),Object(p.a)(O,u,(function(e,t){var n=t,a=n.prevId,r=n.nextId,i=e.files;if(!i)return e;var o=Object.entries(i).map((function(e){var t=Object(d.a)(e,2),n=t[0],i=t[1],o=Object(j.renamePathPrefix)(n,a,r),s=function(e,t){return e.path===t?e:Object(m.a)({},e,{name:g.a.basename(t),path:t,relativePath:t})}(i,o);return Object(p.a)({},o,s)})),s=Object.assign.apply(Object,[{}].concat(Object(f.a)(o)));return Object(m.a)({},e,{files:s})})),O);var F=function e(){var t=this;Object(r.a)(this,e),this.store=function(){var e=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(a.type)?t[a.type](n,a):n}}(E,w);return Object(h.a)(e)}(),this.promises=new C(this),this.readdirSync=function(e){var n=t.store.getState().files;return n?Promise.resolve(Object.keys(n)):Promise.resolve([])},this.writeFileSync=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.store.dispatch({type:i,fileId:e,content:n})},this.readFileSync=function(e){var n=t.store.getState().files;if(n&&n.hasOwnProperty(e)){var a=n[e];if(a&&a.isFile&&"string"===typeof a.source)return a.source}},this.mkdirSync=function(e){if("."!==e)return t.store.dispatch({type:c,fileId:e})},this.unlinkSync=function(e){t.store.dispatch({type:l,fileId:e})},this.renameSync=function(e,n){t.store.dispatch({type:u,prevId:e,nextId:n})},this.subscribe=function(e){return t.store.subscribe(e)}},C=function e(t){var n=this;Object(r.a)(this,e),this.fs=t,this.readdir=function(e){return Promise.resolve().then((function(){return n.fs.readdirSync(e)}))},this.writeFile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Promise.resolve().then((function(){return n.fs.writeFileSync(e,t)}))},this.readFile=function(e){return Promise.resolve().then((function(){return n.fs.readFileSync(e)}))},this.mkdir=function(e){return Promise.resolve().then((function(){return n.fs.mkdirSync(e)}))},this.unlink=function(e){return Promise.resolve().then((function(){return n.fs.unlinkSync(e)}))},this.rename=function(e,t){return Promise.resolve().then((function(){return n.fs.renameSync(e,t)}))}};n(495);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.keys(e).map((function(n){var a=e[n];if(!a||!0!==a.isFile||"string"!==typeof a.source)return null;var r=g.a.join(t,n);return Object(p.a)({},r,a.source)})).filter((function(e){return!!e}));return Object.assign.apply(Object,[{}].concat(Object(f.a)(n)))}n(496);var _=n(37),k=n(36),x=n(38),R=function(e){function t(e){var n;return Object(r.a)(this,t),n=Object(_.a)(this,Object(k.a)(t).call(this)),e&&n.store.dispatch({type:a.SET_FILES,files:e}),n}return Object(x.a)(t,e),Object(v.a)(t,[{key:"files",get:function(){return this.store.getState().files}}]),t}(F);n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return R}))},250:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="inside-preview",r="static-site"},258:function(e,t,n){e.exports={treeRoot:"file-explorer_treeRoot__FIIeb",fileExplorer:"file-explorer_fileExplorer__tPVLV",running:"file-explorer_running__2Qcp2",fileTree:"file-explorer_fileTree__3AakM","folder-icon":"file-explorer_folder-icon__qnWg1",keyBindings:"file-explorer_keyBindings__89C1I"}},279:function(e,t,n){e.exports={folderItem:"folder-view_folderItem__1ZzqF",folderIcon:"folder-view_folderIcon__2pIi0",dropHover:"folder-view_dropHover__RaCOV"}},283:function(e,t,n){e.exports={editor:"editor_editor__17xbM",showEditor:"editor_showEditor__2wj8G",monacoEditor:"editor_monacoEditor__3Wqc2"}},284:function(e,t,n){e.exports={file:"file-view_file__2lB88",activeFile:"file-view_activeFile__1CdVI",filetypeIcon:"file-view_filetypeIcon__1p9zy",keyBindings:"file-view_keyBindings__1jCd8"}},329:function(e,t,n){e.exports={pageLayout:"homepage-template_pageLayout__Her_v"}},330:function(e,t,n){"use strict";var a=n(26),r=n(27),i=n(37),o=n(36),s=n(38),c=n(7),l=n.n(c),u=n(149),d=n.n(u),f=n(319),p=n.n(f),m=n(57),h=n(68),v=n(89),b=n(61),g=n.n(b),y=n(94),O=n(52),j=n.n(O),E=n(42),w=n.n(E),F=n(280),C=n(283),S=n.n(C),_={automaticLayout:!1,scrollBeyondLastLine:!1,lineNumbersMinChars:2,lineDecorationsWidth:"6.8px",minimap:{enabled:!1}},k={tabSize:2,insertSpaces:!1},x=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={content:"",isLoading:!1},n.handleCodeChange=function(){var e=Object(y.a)(g.a.mark((function e(t,a){var r,i,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,i=r.fs,o=r.filepath,s=n.state.content,i&&o&&void 0!==s&&t!==s){e.next=4;break}return e.abrupt("return");case 4:n.setState({content:t}),n._writeFile(i,o,t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.__writeFile=function(){var e=Object(y.a)(g.a.mark((function e(t,n,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir(j.a.dirname(n),{recursive:!0});case 2:return e.next=4,t.writeFile(n,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),n._writeFile=d()(n.__writeFile,600),n._loadFileFromFs=Object(y.a)(g.a.mark((function e(){var t,a,r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.fs,r=t.filepath,a&&r){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,a.readFile(r);case 6:if("string"===typeof(i=e.sent)){e.next=9;break}throw new TypeError("non string file content: ".concat(i&&i.toString()));case 9:n.setState({content:i,isLoading:!1}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),n.setState({content:void 0,isLoading:!1}),console.debug('got error trying to read: "'.concat(r,'"'),e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,12]])}))),n._loadFileFromFs(),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.filepath!==e.filepath&&this.setState({isLoading:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props;e.fs===t.fs&&e.filepath===t.filepath||(this._writeFile.flush(),this._loadFileFromFs())}},{key:"getOptions",value:function(){var e=this.props,t=e.fontSize,n=e.canWrite,a=void 0===n||n;return Object(v.a)({},_,{fontSize:t,readOnly:!a})}},{key:"getSuffix",value:function(e){if(void 0!==e)return e.concat().split(".").pop()}},{key:"render",value:function(){var e=this.props,t=e.filepath,n=e.fs,a=this.state,r=a.content,i=a.isLoading,o=n&&t&&void 0!==r&&!i,s=this.getSuffix(t)||"js",c=F.suffixToLanguage.get(s)||F.suffixToLanguage.get("default");return l.a.createElement("div",{className:w()(S.a.editor,Object(h.a)({},S.a.showEditor,o))},l.a.createElement(F.default,{className:w()(S.a.monacoEditor,Object(h.a)({},S.a.hidden,!o)),language:c,theme:"bit-vs-dark",value:r,editorOptions:this.getOptions(),textOptions:k,path:i?void 0:t,onChange:this.handleCodeChange}))}}]),t}(c.Component);x.defaultProps={fontSize:13};var R=n(613),D=n(250),N=n(589),A=n.n(N),I=n(216);function T(e){var t=e.url,n=e.className;return l.a.createElement(l.a.Fragment,null,I.a.feature_markStaticSite&&l.a.createElement("div",{className:A.a.staticSiteMarker},"static"),l.a.createElement("iframe",{src:t,id:D.b,name:D.b,height:"100%",width:"100%",sandbox:"allow-forms allow-scripts allow-same-origin",className:n,style:{background:"white"}}))}var L=n(136),M=n(157),P=n(325),V=n(344),U=n.n(V),W=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={renameValue:"",isValid:!0},n._inputRef=l.a.createRef(),n.handleRenameBlur=function(e){var t=n.props.onSubmit;n.state.isValid?t&&t(n.state.renameValue):n.handleAbort()},n.handleAbort=function(){var e=n.props,t=e.onAbort,a=e.value,r=void 0===a?"":a;n.setState({renameValue:r},(function(){return t&&t()}))},n.handleValueChanged=function(e){var t=e.target.value,a=!n.props.validate||n.props.validate(t,n.props.value);n.setState({renameValue:t,isValid:a})},n.handleKeyDown=function(e){var t=e.key,a=n.state,r=a.isValid,i=a.renameValue,o=n.props.onSubmit;switch(t){case"Escape":return n.handleAbort();case"Enter":if(!r)return;return o&&o(i);default:return}},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.value,n=void 0===t?"":t,a=new Promise((function(t){return e.setState({renameValue:n},t)})),r=this._inputRef;a.then((function(){var e=r.current;if(e){e.focus();var t=n.indexOf("."),a=-1<t?t:n.length;e.setSelectionRange(0,a,"forward")}}))}},{key:"render",value:function(){var e=this.props.className,t=this.state,n=t.renameValue,a=t.isValid;return l.a.createElement("div",{className:w()(U.a.filenameForm,e)},l.a.createElement("input",{ref:this._inputRef,onBlur:this.handleRenameBlur,onKeyDown:this.handleKeyDown,className:w()(U.a.filenameInput,Object(h.a)({},U.a.renameInvalid,!a)),onChange:this.handleValueChanged,value:n}))}}]),t}(c.PureComponent);W.defaultProps={validate:function(e){return!0}};var B=n(593),H=n.n(B);function z(e){return l.a.createElement("div",{className:H.a.newFileNamer},l.a.createElement("i",{className:"playcon-text"}),l.a.createElement(W,e))}var K=n(594),q=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fileName,n=e.className,a=Object(K.getIconForFile)(t),r="".concat("https://static.bit.dev","/file-icons/").concat(a),i=j.a.extname(t)||"?";return l.a.createElement("img",{className:n,src:r,alt:i})}}]),t}(c.PureComponent),J=n(332),G=n(142);function X(e){var t=e.depth,n=Object(G.a)(e,["depth"]),a={paddingLeft:"".concat(8*t+4,"px")};return l.a.createElement("div",Object.assign({},n,{style:a}))}var Z=n(284),Q=n.n(Z),Y=n(445),$=n.n(Y);function ee(e){var t=e.className,n=Object(G.a)(e,["className"]);return l.a.createElement("div",Object.assign({className:w()($.a.actionBox,t)},n))}function te(e){var t=e.className,n=Object(G.a)(e,["className"]);return l.a.createElement("span",Object.assign({className:w()($.a.action,t)},n))}var ne=n(139),ae=n(599),re=n.n(ae);function ie(e){var t=e.children;return l.a.createElement("div",{className:re.a.filename},t)}var oe=n(245),se=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={isRenaming:!1,showDeleteConfirmation:!1},n.handleSelect=function(){var e=n.props.node;n.context.selectFile(e.id)},n.handleDelete=function(e){e&&e.stopPropagation(),n.setState({showDeleteConfirmation:!0})},n.handleStartRename=function(){n.setState({isRenaming:!0})},n.handleRenameFile=function(e){var t=n.context,a=n.props.node.id;if(n.setState({isRenaming:!1}),n.refocus(),e){var r=j.a.basename(a),i=j.a.dirname(a);if(e!==r){var o=j.a.join(i,e);return t.rename(a,o)}}},n.handleAbortRename=function(){n.setState({isRenaming:!1}),n.refocus()},n.handleValidateRename=function(e,t){if(e===t)return!0;var a=n.props.node.id,r=j.a.dirname(a),i=n.context;return i.isValidFilename(e)&&i.canRename(j.a.join(r,e),j.a.join(r,t))},n.handleCancelDelete=function(){n.setState({showDeleteConfirmation:!1})},n.handleConfirmDelete=function(){n.setState({showDeleteConfirmation:!1});var e=n.props.node.id;n.context.unlink(e)},n.refocus=function(){var e=n.hotkeysRef.current;e&&e.focus()},n.keyHandlers={rename:function(e){return n.setState({isRenaming:!0})},delete:function(e){n.state.isRenaming||n.handleDelete()}},n.hotkeysRef=l.a.createRef(),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.isRenaming,t=this.props,n=t.node,a=t.depth,r=n.id,i=j.a.basename(r),o=this.context.selectedFile===r;return l.a.createElement(P.HotKeys,{focusOnMount:!1,className:Q.a.keyBindings,ref:this.hotkeysRef,handlers:this.keyHandlers},l.a.createElement(oe.a,{node:n},l.a.createElement(X,{className:w()(Q.a.file,Object(h.a)({},Q.a.activeFile,o)),depth:a,onClick:this.handleSelect},l.a.createElement(q,{className:Q.a.filetypeIcon,fileName:i}),e&&l.a.createElement(W,{value:i,validate:this.handleValidateRename,onSubmit:this.handleRenameFile,onAbort:this.handleAbortRename}),!e&&l.a.createElement(ie,null,i),l.a.createElement(ee,null,l.a.createElement(M.a,{overlay:"rename",placement:"bottom",mouseLeaveDelay:0},l.a.createElement(te,{onClick:this.handleStartRename},l.a.createElement(ne.Icon,{of:"pencil"}))),l.a.createElement(M.a,{overlay:"delete",placement:"bottom",mouseLeaveDelay:0},l.a.createElement(te,{onClick:this.handleDelete},l.a.createElement(ne.Icon,{of:"trash"})))))),l.a.createElement(J.a,{isOpen:this.state.showDeleteConfirmation,title:"Are you sure you want to delete this file?",confirm:"Delete",cancel:"Cancel",onCancel:this.handleCancelDelete,onConfirm:this.handleConfirmDelete},l.a.createElement("div",null,r)))}}]),t}(c.Component);se.contextType=L.c;var ce=n(279),le=n.n(ce),ue=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={showDeleteConfirmation:!1,isRenaming:!1},n.handleAddFile=function(e){e.stopPropagation(),n.props.onOpenChange&&n.props.onOpenChange(!0),n.props.onStartAdding(de.file)},n.handleAddFolder=function(e){e.stopPropagation(),n.props.onOpenChange&&n.props.onOpenChange(!0),n.props.onStartAdding(de.folder)},n.handleDeleteFolder=function(e){e.stopPropagation(),n.setState({showDeleteConfirmation:!0})},n.handleCancelDelete=function(){n.setState({showDeleteConfirmation:!1})},n.handleConfirmDelete=function(){n.setState({showDeleteConfirmation:!1});var e=n.props.node;n.context.unlink(e.id)},n.handleRename=function(e){var t=n.context,a=n.props.node.id;if(n.setState({isRenaming:!1}),e){var r=j.a.basename(a),i=j.a.dirname(a);if(e!==r){var o=j.a.join(i,e);return t.rename(a,o)}}},n.handleAbortRename=function(){n.setState({isRenaming:!1})},n.validateSelfRename=function(e,t){var a=n.context,r=n.props.node,i=j.a.dirname(r.id);return a.isValidFilename(e)&&a.canRename(j.a.join(i,e),j.a.join(i,t))},n.handleStartRename=function(e){e.stopPropagation(),n.setState({isRenaming:!0})},n.handleToggleOpenness=function(e){var t=n.props,a=t.onOpenChange,r=t.isOpen;a&&a(!r)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.depth,a=e.isOpen,r=this.state.isRenaming,i=t.id,o=j.a.basename(i)||i;return l.a.createElement(oe.a,{node:t},l.a.createElement(X,{depth:n,className:w()(le.a.folderItem),onClick:this.handleToggleOpenness},l.a.createElement(ne.Icon,{of:a?"folder-open":"folder-close",className:le.a.folderIcon}),r&&l.a.createElement(W,{value:o,validate:this.validateSelfRename,onSubmit:this.handleRename,onAbort:this.handleAbortRename}),!r&&l.a.createElement(ie,null,o),!r&&l.a.createElement(ee,null,l.a.createElement(M.a,{overlay:"new file",placement:"bottom",mouseLeaveDelay:0},l.a.createElement(te,{onClick:this.handleAddFile},l.a.createElement(ne.Icon,{of:"new-file"})))," ",l.a.createElement(M.a,{overlay:"new folder",placement:"bottom",mouseLeaveDelay:0},l.a.createElement(te,{onClick:this.handleAddFolder},l.a.createElement(ne.Icon,{of:"new-folder"})))," ",l.a.createElement(M.a,{overlay:"rename",placement:"bottom",mouseLeaveDelay:0},l.a.createElement(te,{onClick:this.handleStartRename},l.a.createElement(ne.Icon,{of:"pencil"})))," ",l.a.createElement(M.a,{overlay:"delete",placement:"bottom",mouseLeaveDelay:0},l.a.createElement(te,{onClick:this.handleDeleteFolder},l.a.createElement(ne.Icon,{of:"trash"}))))),l.a.createElement(J.a,{isOpen:this.state.showDeleteConfirmation,onCancel:this.handleCancelDelete,onConfirm:this.handleConfirmDelete,title:"Are you sure you want to delete this folder?",confirm:"Delete",cancel:"Cancel"},l.a.createElement("div",null,i)))}}]),t}(c.Component);ue.contextType=L.c;var de;!function(e){e[e.file=0]="file",e[e.folder=1]="folder"}(de||(de={}));var fe=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={isRenaming:!1,isAdding:void 0,showDeleteConfirmation:!1},n.handleStartAdd=function(e){n.setState({isAdding:e})},n.handleSubmitNew=function(){var e=Object(y.a)(g.a.mark((function e(t){var a,r,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({isAdding:void 0}),t){e.next=3;break}return e.abrupt("return");case 3:if(a=n.props.node,r=n.state.isAdding,i=n.context,o=j.a.join(a.id,t),r!=de.file){e.next=11;break}return e.next=10,i.writeFile(o);case 10:i.selectFile(o);case 11:if(r!=de.folder){e.next=13;break}return e.abrupt("return",i.mkdir(o));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAbortNewFile=function(){n.setState({isAdding:void 0})},n.validateNewFilename=function(e){var t=n.context,a=n.props.node.id;return t.isValidFilename(e)&&t.canRename(j.a.join(a,e))},n.open=function(){var e=n.props.onOpenChange;e&&e(!0)},n.handleDrop=function(e){var t=n.props.node.id,a=n.context,r=j.a.basename(e),i=j.a.join(t,r);a.rename(e,i),n.open()},n._hoverDropTimeout=void 0,n.handleDropHoverIn=function(){n._hoverDropTimeout||(n._hoverDropTimeout=setTimeout(n.open,480))},n.handleDropHoverOut=function(){n._hoverDropTimeout&&(clearTimeout(n._hoverDropTimeout),n._hoverDropTimeout=void 0)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.depth,a=e.children,r=e.className,i=e.Title,o=void 0===i?ue:i,s=this.state.isAdding;return l.a.createElement(oe.b,{node:t,onDrop:this.handleDrop,onDropHoverIn:this.handleDropHoverIn,onDropHoverOut:this.handleDropHoverOut,className:r,classWhenDragged:le.a.dropHover},o&&l.a.createElement(o,{node:t,isOpen:this.props.isOpen,onOpenChange:this.props.onOpenChange,depth:n,onStartAdding:this.handleStartAdd}),a,s===de.file&&l.a.createElement(X,{depth:n+1},l.a.createElement(z,{onSubmit:this.handleSubmitNew,onAbort:this.handleAbortNewFile,validate:this.validateNewFilename})),s===de.folder&&l.a.createElement(X,{depth:n+1},l.a.createElement(z,{onSubmit:this.handleSubmitNew,onAbort:this.handleAbortNewFile,validate:this.validateNewFilename})))}}]),t}(c.Component);fe.contextType=L.c;var pe=function(e){function t(e,n){var r;Object(a.a)(this,t),(r=Object(i.a)(this,Object(o.a)(t).call(this,e,n))).updateOpen=function(e){return r.setState({isOpen:e})};var s=n,c=s.selectedFile&&s.selectedFile.startsWith(e.node.id)||!1;return r.state={isOpen:c},r}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.depth,a=e.getTreeNodeComponent,r=this.state.isOpen;return l.a.createElement(fe,Object.assign({isOpen:r,onOpenChange:this.updateOpen},this.props),r&&t.children&&l.a.createElement(L.a,{childNodes:t.children,depth:n,getTreeNodeComponent:a}))}}]),t}(c.Component);pe.contextType=L.c;var me=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.depth,a=e.getTreeNodeComponent;return t.children?l.a.createElement(fe,Object.assign({},this.props,{isOpen:!0,Title:null}),l.a.createElement(L.a,{childNodes:t.children,depth:n-1,getTreeNodeComponent:a})):null}}]),t}(c.Component);me.defaultProps={depth:0};var he=n(258),ve=n.n(he),be=n(602),ge=n.n(be),ye=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={isAdding:void 0},n.handleAddFile=function(e){e.stopPropagation(),n.setState({isAdding:"file"})},n.handleAddFolder=function(e){e.stopPropagation(),n.setState({isAdding:"folder"})},n.handleSubmitNew=function(e){var t=n.state.isAdding;if(n.setState({isAdding:void 0}),e){var a=n.props,r=a.onFileAdded,i=a.onFolderAdded;return"file"==t?r(e):"folder"==t?i(e):void 0}},n.handleAbortNewFile=function(){n.setState({isAdding:void 0})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.validateRename,n=(e.className,e.children),a=this.state.isAdding;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:ge.a.title},l.a.createElement("div",{className:"stretcher"},n),l.a.createElement(ee,null,this.props.onRefresh&&l.a.createElement(M.a,{overlay:"refresh",placement:"bottom",mouseLeaveDelay:0},l.a.createElement(te,{onClick:this.props.onRefresh},"\u267a"))," ",l.a.createElement(M.a,{overlay:"new file",placement:"bottom",mouseLeaveDelay:0},l.a.createElement(te,{onClick:this.handleAddFile},l.a.createElement(ne.Icon,{of:"new-file"})))," ",l.a.createElement(M.a,{overlay:"new folder",placement:"bottom",mouseLeaveDelay:0},l.a.createElement(te,{onClick:this.handleAddFolder},l.a.createElement(ne.Icon,{of:"new-folder"})))," ")),"file"===a&&l.a.createElement(X,{depth:0},l.a.createElement(z,{onSubmit:this.handleSubmitNew,onAbort:this.handleAbortNewFile,validate:t})),"folder"===a&&l.a.createElement(X,{depth:0},l.a.createElement(z,{onSubmit:this.handleSubmitNew,onAbort:this.handleAbortNewFile,validate:t})))}}]),t}(c.PureComponent),Oe={rename:"enter",delete:["del","backspace"]},je=function(e){function t(e){var n;if(Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={refresh:0,treeModel:void 0},n.makeModel=function(e,t,a){var r=new L.b({fs:e,workDir:t,selectedFile:a});return r._onFileSelected=n.props.onFileSelected,r.onTreeChange=n.reload,r},n.reload=function(){n.setState({refresh:n.state.refresh+1})},n.getNodeComponent=function(e){return e?e.children?pe:se:function(){return null}},n.validateNewFilename=function(e){var t=n.props.workDir,a=n.state.treeModel;return!a||a.isValidFilename(e)&&a.canRename(j.a.join(t,e))},e.fs){var r=n.makeModel(e.fs,e.workDir,e.selectedFile);n.state.treeModel=r}return n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.fs!==e.fs&&e.fs){var t=this.makeModel(e.fs,e.workDir,e.selectedFile);this.setState({treeModel:t})}}},{key:"render",value:function(){var e=this.state.treeModel;if(!e)return l.a.createElement("div",{className:ve.a.fileExplorer});var t=e.fileTree;return l.a.createElement(L.c.Provider,{value:e},l.a.createElement(P.HotKeys,{focusOnMount:!1,keyMap:Oe,className:ve.a.keyBindings},l.a.createElement("div",{className:w()(ve.a.fileExplorer,ve.a.running)},l.a.createElement(ye,{validateRename:this.validateNewFilename,onFileAdded:e.writeFile,onFolderAdded:e.mkdir},"Files"),l.a.createElement(me,{className:ve.a.treeRoot,node:t,getTreeNodeComponent:this.getNodeComponent}))))}}]),t}(c.Component),Ee=n(603),we=n(120),Fe=n(334),Ce=n(253),Se=n(218),_e=n(329),ke=n.n(_e),xe=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.layout;return l.a.createElement("div",{className:ke.a.pageLayout},this.props.controlBoard,l.a.createElement(Se.a,{min:3.4,max:38,ratio:14.5,layout:we.Layout.row,Splitter:Ce.a},this.props.fileExplorer,l.a.createElement(Se.a,{min:14.5,ratio:76.4,layout:we.Layout.column,Splitter:Ce.a},l.a.createElement(Se.a,{min:3.4,max:85,ratio:62,layout:e,Splitter:Fe.a},this.props.editor,this.props.player),this.props.terminal)))}}]),t}(c.Component),Re=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:ke.a.pageLayout},l.a.createElement(Se.a,{min:9,max:85,ratio:62,layout:we.Layout.column,Splitter:Ce.a},l.a.createElement(Se.a,{min:9,max:85,ratio:38,layout:we.Layout.row,Splitter:Ce.a},this.props.fileExplorer,this.props.player),this.props.editor))}}]),t}(c.Component);function De(e){return Object(Ee.isMobile)()?l.a.createElement(Re,e):l.a.createElement(xe,e)}var Ne=n(104),Ae=n(607),Ie=n(608),Te=n(318),Le=n(609),Me=(n(1015),n(447)),Pe=n.n(Me),Ve={disableStdin:!0,cursorBlink:!1,cursorStyle:"bar",fontSize:13,theme:{background:"#1E1E1E",foreground:"#EDEDED"}},Ue=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).anchorRef=l.a.createRef(),n.state={connectionState:void 0},n._resizeObserver=new Te.a((function(e,t){return n.handleResize()})),n.handleResize=d()((function(){var e=Object(Ne.a)(Object(Ne.a)(n))._fitter;e&&e.fit()}),300),n.setupXterm=function(){if(n.anchorRef.current){var e=new Ae.Terminal(Ve);n.xterm=e,e.open(n.anchorRef.current),n._fitter=new Ie.FitAddon,e.loadAddon(n._fitter),n._fitter.fit(),n._resizeObserver.observe(n.anchorRef.current)}},n.handleConnectionChanged=function(e){var t=n.state.connectionState;t!==e&&(n.setState({connectionState:e}),e===m.Lifecycle.Connected&&t!==m.Lifecycle.Connected&&n.start())},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._handleNewCapsule(this.props.capsule)}},{key:"componentWillUnmount",value:function(){this.xterm&&(this.xterm.dispose(),this.xterm=void 0),this.anchorRef.current&&this._resizeObserver.unobserve(this.anchorRef.current),this._fitter=void 0}},{key:"componentDidUpdate",value:function(e){var t=this.props;e.capsule!==t.capsule&&this._handleNewCapsule(t.capsule,e.capsule)}},{key:"_handleNewCapsule",value:function(e,t){var n=this;if(this.xterm&&this.xterm.dispose(),e){this.setupXterm();var a=e.connectionState;this.setState({connectionState:a}),Object.values(m.Lifecycle).map((function(e){return e})).forEach((function(t){return e.on(t,(function(){return n.handleConnectionChanged(t)}))})),a===m.Lifecycle.Connected&&this.start()}}},{key:"start",value:function(){var e=this.xterm,t=this.props.capsule;t&&e&&t.log().then((function(t){var n=new Le.CapsuleTermAddon(t);e.loadAddon(n)}))}},{key:"render",value:function(){var e=this.props.capsule;return l.a.createElement("div",{ref:this.anchorRef,className:w()(!!e&&Pe.a.running,Pe.a.terminal)})}}]),t}(c.Component),We=n(320),Be=n.n(We),He=n(244),ze=n(215);function Ke(e,t){if(e&&t){var n,a,r=function(e){if(void 0===e)return"/capsule";var t=ze.a.get(e);return t?t.wrkDir:"/capsule"}(t&&t.renderer),i=Object(He.c)(e.files);return n=i,a=r,Be()(n,(function(e,t){return[j.a.join(a,e),t]}))}}var qe=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).capsuleRef=Object(c.createRef)(),n.player=new p.a({selfFrameId:window.name,targetFrameId:void 0,isDebugging:!1}),n.handlePlaygroundFsChanged=function(){var e=n.props,t=e.overrideFs,a=e.example;t&&n.setState({files:Ke(t,a),isModified:!0})},n.reloadPreview=d()((function(){n.capsuleRef.current&&(n.capsuleRef.current.reload(),n.setState({isModified:!0}))}),1e3),n.handleCapsuleChange=function(e){n.setState({capsule:e})},n.handleCapsuleFsChange=function(e){n.setState({capsuleFs:e})},n.handleFileSelected=function(e){n.setState({currentFilepath:e})},n._fsUnsubscribe=e.overrideFs&&e.overrideFs.subscribe(n.handlePlaygroundFsChanged),n.state={files:e.files||Ke(e.overrideFs,e.example),currentFilepath:e.example&&e.example.mainFile,isModified:!1,rendered:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props;(t.example&&t.example.codeId)!==(e.example&&e.example.codeId)&&this.setState({isModified:!1}),e.example&&(t.example&&t.example.mainFile)!==(e.example&&e.example.mainFile)&&this.setState({currentFilepath:e.example.mainFile}),t.overrideFs!==e.overrideFs&&e.overrideFs&&this.setState({files:Ke(e.overrideFs,e.example)})}},{key:"componentDidUpdate",value:function(e){var t=this.props;e.overrideFs!==t.overrideFs&&t.overrideFs&&(this._fsUnsubscribe&&this._fsUnsubscribe(),this._fsUnsubscribe=t.overrideFs.subscribe(this.handlePlaygroundFsChanged))}},{key:"componentDidMount",value:function(){this.registerPlayerEvents()}},{key:"registerPlayerEvents",value:function(){var e=this;this.player.onMessage("devServerDisconnected",(function(){(e.capsuleRef.current&&e.capsuleRef.current.status)===m.Lifecycle.Connected&&setTimeout((function(){e.reloadPreview()}),200)}))}},{key:"render",value:function(){var e=this.props,t=e.example,n=void 0===t?{}:t,a=e.config,r=e.overrideFs,i=e.bitId,o=this.state,s=o.files,c=o.currentFilepath,u=o.isModified,d=o.capsuleFs,f=o.capsule,p=r&&r.promises||d,m=l.a.createElement(x,{fs:p,filepath:c,canWrite:a.canWrite}),h=l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{ref:this.capsuleRef,isVisible:u||!n.staticUrl,type:n.renderer,codeId:n.codeId,bitId:i,files:s,onFsChange:this.handleCapsuleFsChange,onCapsuleChange:this.handleCapsuleChange}),!u&&n.staticUrl&&l.a.createElement(T,{url:n.staticUrl})),v=l.a.createElement(Ue,{capsule:f}),b=l.a.createElement(je,{fs:p,workDir:this.rootViewDir,selectedFile:c,onFileSelected:this.handleFileSelected});return l.a.createElement(De,{layout:a.layout,fileExplorer:b,editor:m,player:h,terminal:v,controlBoard:null})}},{key:"rootViewDir",get:function(){return this.props.overrideFs?".":"/capsule"}}]),t}(c.PureComponent);n(536);n.d(t,"a",(function(){return qe}))},336:function(e,t,n){"use strict";var a=n(7),r=n.n(a),i=n(42),o=n.n(i),s=n(199),c=n(597),l=n.n(c);function u(e){var t=e.children,n=e.actionsClass,a=e.title,i=e.TitleComponent,c=void 0===i?"div":i,u=e.CancelButton,d=void 0===u?s.a:u,f=e.cancel,p=void 0===f?"Cancel":f,m=e.onCancel,h=e.ConfirmButton,v=void 0===h?s.a:h,b=e.confirm,g=void 0===b?"OK":b,y=e.onConfirm;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(c,null,a),t,r.a.createElement("div",{className:o()(l.a.actions,n)},p&&r.a.createElement(d,{onClick:m,className:"cancel-button"},p),g&&r.a.createElement(v,{onClick:y,className:"confirm-button",autoFocus:!0},g)))}n(531);n.d(t,"a",(function(){return u}))},344:function(e,t,n){e.exports={filenameForm:"renamer_filenameForm__VR-hK",filenameInput:"renamer_filenameInput__2pYWJ",renameInvalid:"renamer_renameInvalid__3nzbW"}},444:function(e,t,n){e.exports={genTitle:"gen-confirmation-template_genTitle__2LZ6J","genesis-confirmation-modal":"gen-confirmation-template_genesis-confirmation-modal__9KyVK",actions:"gen-confirmation-template_actions__2qw54"}},445:function(e,t,n){e.exports={actionBox:"action-box_actionBox__J9V5g",action:"action-box_action__2UlWe"}},447:function(e,t,n){e.exports={terminal:"terminal_terminal__3emu1",running:"terminal_running__3MpGa"}},466:function(e,t){},495:function(e,t){},496:function(e,t){},515:function(e,t){},531:function(e,t){},536:function(e,t){},589:function(e,t,n){e.exports={staticSiteMarker:"static-preview_staticSiteMarker__3A6at"}},593:function(e,t,n){e.exports={newFileNamer:"new-file-namer_newFileNamer__3RUdt"}},597:function(e,t,n){e.exports={actions:"confirmation-template_actions__10S-5"}},599:function(e,t,n){e.exports={filename:"filename_filename__2Okry"}},602:function(e,t,n){e.exports={title:"title_title__3xL_q"}},606:function(e,t,n){"use strict";function a(e,t,n){return Math.max(e,Math.min(t,n))}n.d(t,"a",(function(){return a}))},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(7),r=n.n(a),i=n(1021),o=n(612),s=n(620);function c(e){var t=e.children;return r.a.createElement(i.a,{backend:o.a},r.a.createElement(s.a,null),t)}},616:function(e,t,n){"use strict";var a=n(89),r=n(26),i=n(27),o=n(37),s=n(36),c=n(38),l=n(104),u=n(7),d=n.n(u),f=n(120),p=n(319),m=n.n(p),h=n(68),v=n(126),b=n(174);n(466);var g=n(57);var y=n(142),O=n(320),j=n.n(O),E=n(215),w=n(244);function F(e){var t=function(e){var t=e.capsuleType,n=e.targetComponent;if(!n||!n.id)return{files:{},mainFile:"index.js"};var a=E.a.get(t);if(!a)throw new Error('no such capsule type as "'.concat(t,'"'));var r=a.generateDefaultCode;if(!r)throw new Error("missing default code generator");return r({npmId:n.id})}({capsuleType:e.capsuleType,targetComponent:e.targetComponent}),n=(t.files,Object(y.a)(t,["files"]));return Object(a.a)({},n,{files:j()(t.files,(function(e,t){return[e,new w.a(e,t).toObj()]}))})}var C=n(330),S=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).playgroundRef=Object(u.createRef)(),n.isSubscribedToModel=!1,n.registerParentEvents=function(){var e=Object(l.a)(Object(l.a)(n)).parent;e&&(e.onMessage("updateConf",n.handleUpdateConf),e.onMessage("setModel",n.handleSetModel),e.onMessage("triggerReload",(function(){return n.playgroundRef.current&&n.playgroundRef.current.reloadPreview()})),e.onMessage("subscribeToModel",(function(){return n.isSubscribedToModel=!0})),e.onMessage("unsubscribeToModel",(function(){return n.isSubscribedToModel=!1})))},n.handleUpdateConf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canWrite,r=e.layout,i=Object(a.a)({},n.state.config);!0!==t&&!1!==t||(i.canWrite=t),r&&(i.layout=r),n.setState({config:i})},n.handleSetModel=function(e){var t=e.targetComponent,a=e.staticUrl,r=e.renderer,i=e.mainFile,o=e.files,s=e.id,c=function(e){switch(e){case"bit.rendering/renderers/react@0.0.1":case"bit.rendering/renderers/react":case"bit.rendering/renderers/vanilla@0.0.1":case"bit.rendering/renderers/vanilla":case"react":return g.CapsuleType.react;default:return e}}(r);if(void 0===o)throw new TypeError("setModel: expected files to be defined. Set a value, or use NULL to request default example.");var u=void 0;if(null===o){u=F({capsuleType:c,targetComponent:t});var d=Object(l.a)(Object(l.a)(n)).parent;d&&d.sendMessage("modelDidChange",u)}var f=function(e){var t=E.a.get(e);if(t)return t.mainFile}(r)||i,p=o||u&&u.files,m={renderer:c,targetComponent:t,staticUrl:a,codeId:s,mainFile:f};n.setState({example:m,fs:n.makeFs(p,f)})},n.makeFs=function(e,t){var a=new w.b(e);return t&&e&&!e[t]&&a.writeFileSync(t,""),n.fsUnsubscribe&&n.fsUnsubscribe(),n.fsUnsubscribe=a.subscribe((function(){return n.handlePlaygroundFsChanged(a)})),a},n.handlePlaygroundFsChanged=function(e){var t=Object(l.a)(Object(l.a)(n)).parent,a=n.state.example;if(t&&a){var r=a.mainFile,i=void 0===r?"index.js":r;if(n.isSubscribedToModel){var o=function(e,t){var n=e.files;return n?{files:Object.assign.apply(Object,[{}].concat(Object(b.a)(Object.entries(n).filter((function(e){var t=Object(v.a)(e,2);t[0];return!!t[1].isFile})).map((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1];return Object(h.a)({},n,a)}))))),mainFile:t}:{files:void 0}}(e,i);t.sendMessage("modelDidChange",o)}}},n.state={config:{layout:Object(f.layoutByWindowWidth)()||f.default_layout,canWrite:!0},example:void 0},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.parent=new m.a({selfFrameId:window.name,targetFrameId:void 0,isDebugging:!1}),this.registerParentEvents(),this.parent.sendMessage("didMount",{})}},{key:"render",value:function(){var e=this.state,t=e.example,n=e.config,a=e.fs;return d.a.createElement(C.a,{ref:this.playgroundRef,example:t,config:n,overrideFs:a})}}]),t}(u.Component);n.d(t,"a",(function(){return S}))},617:function(e,t,n){"use strict";var a=n(126),r=n(7),i=n.n(r),o=n(120),s=n(421),c=n.n(s),l=n(330),u=n(57),d=n(68);function f(){return"import React from 'react';\nimport csf from './story-link';\n\nexport default <RenderCsf csf={csf}/>\n\n// : { csf: ICompactStoryFormat }\nfunction RenderCsf({ csf }) {\n\tconst description = csf['default'];\n\tconst stories = { ...csf };\n\tdelete stories['default'];\n\t\n\treturn (\n\t\t<div>\n\t\t\t{description && <h1>{description.title}</h1>}\n\t\t\n\t\t\t{Object.entries(stories).map(([key, story]) => (\n\t\t\t\t<RenderStory key={key} name={key} Story={story}/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\n// IStory\nfunction RenderStory({name, Story}) {\n\tif (!Story) return null;\n\n\ttry {\n\t\tif (React.isValidElement(Story) || ['string', 'number'].includes(typeof Story)) {\n\t\t\treturn <div>\n\t\t\t\t{name && <h2>{name}</h2>}\n\t\t\t\t{Story}\n\t\t\t</div>;\n\t\t}\n\n\t\t//hopefully function or class component\n\t\t//could use:\n\t\t// string(component).includes('return React.createElement')\n\t\t//\t(~= function component)\n\t\t// !!component.prototype.isReactComponent\n\t\t//\t(~= class component)\n\t\tif (typeof Story === 'function') {\n\t\t\treturn <div>\n\t\t\t\t{name && <h2>{name}</h2>}\n\t\t\t\t<Story />\n\t\t\t</div>;\n\t\t}\n\t} catch (e) {\n\t\tconsole.error('failed rendering story', e, Story);\n\t}\n\treturn null;\n}"}function p(e,t){var n;if(t&&e)return n={},Object(d.a)(n,"/capsule/src/App/index.js",function(e){switch(e){case u.CapsuleType.react:return f;case u.CapsuleType.angular:case u.CapsuleType.node:case u.CapsuleType.vue:default:return function(){return""}}}(e)()),Object(d.a)(n,"/capsule/src/App/story-link.js",function(e){if(e.includes("'"))throw new TypeError('module name is illegal: ( "'.concat(e,'" )'));return"import * as csf from '".concat(e,"';\nexport default csf;\n")}(t)),n}function m(e){var t=e.bitId,n=t&&c.a.fromBitId(t),s=n&&n.toNpmId({includeVersion:!1})+"/dist/examples",d=Object(r.useState)((function(){return p(u.CapsuleType.react,s)})),f=Object(a.a)(d,2),m=f[0];f[1];return i.a.createElement(l.a,{config:{layout:o.Layout.row,canWrite:!0},example:{renderer:u.CapsuleType.react,mainFile:"/capsule/src/App/index.js",targetComponent:void 0,staticUrl:void 0,codeId:void 0},files:m,bitId:t})}n.d(t,"a",(function(){return m}))},623:function(e,t,n){"use strict";var a=n(26),r=n(27),i=new Set(["readdir","readFile","readlink","realpath","lstat","stat"]),o=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.observers,o=void 0===r?[]:r;Object(a.a)(this,e),this.middleware=function(e){var n=e.targetResult,a=e.propKey;if(i.has(a))return n;var r=Promise.resolve(n);return t.triggerCallbacks(r),n};var s=Array.isArray(o)?o:[o];this.observers=new Set(s)}return Object(r.a)(e,[{key:"triggerCallbacks",value:function(e){this.observers.forEach((function(t){return t(e)}))}}]),e}();n.d(t,"a",(function(){return o}))},624:function(e,t,n){"use strict";n(515);var a=n(588),r=n.n(a);function i(e,t){return new Proxy(e,{get:function(n,a,i){var o=Reflect.get(n,a,i);return r()(o)?function(){var n=e[a].apply(e,arguments),r=t({targetResult:n,propKey:a});return r}:o}})}n.d(t,"a",(function(){return i}))},629:function(e,t,n){"use strict";var a=n(7),r=n.n(a),i=n(336),o=n(452),s=n(444),c=n.n(s);function l(e){return r.a.createElement(i.a,Object.assign({},e,{TitleComponent:u,CancelButton:o.a,ConfirmButton:o.b,actionsClass:c.a.actions}))}function u(e){return r.a.createElement("div",Object.assign({},e,{className:c.a.genTitle}))}n.d(t,"a",(function(){return l}))},796:function(e,t,n){},800:function(e,t,n){},860:function(e,t){var n={emitWarning:function(){},env:{NODE_PATH:0},browser:!0,platform:"browser",getuid:function(){return 100},getgid:function(){return 100}};e.exports=n,e.exports.default=n}},[[1031,6,8,7,20,27,33,28,15,31,16,17,21,14,29,12,30,19,13,32,22,26,24,18,10,11,37,9,23,3,5,2,4]]]);
//# sourceMappingURL=main~21833f8f.f164f102.chunk.js.map