(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{208:function(e,t,i){"use strict";i.r(t);var o=i(0),n=i(18),r=i(2),s=i(9),a=i(5),d=i(8),l=i(58),c=i(10),u=i(3),h=i(24),g=i(114),p=i(56),_=i(31),f=i(4),m=i(19),b=function(){function e(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return e.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype.getCount=function(){return this._decorations.length},e.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},e.prototype.getStartPosition=function(){return this._startPosition},e.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},e.prototype._getDecorationIndex=function(e){var t=this._decorations.indexOf(e);return t>=0?t+1:1},e.prototype.getCurrentMatchesPosition=function(t){for(var i=0,o=this._editor.getModel().getDecorationsInRange(t);i<o.length;i++){var n=o[i],r=n.options;if(r===e._FIND_MATCH_DECORATION||r===e._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 1},e.prototype.setCurrentFindMatch=function(t){var i=this,o=null,n=0;if(t)for(var r=0,s=this._decorations.length;r<s;r++){var a=this._editor.getModel().getDecorationRange(this._decorations[r]);if(t.equalsRange(a)){o=this._decorations[r],n=r+1;break}}return null===this._highlightedDecorationId&&null===o||this._editor.changeDecorations((function(t){if(null!==i._highlightedDecorationId&&(t.changeDecorationOptions(i._highlightedDecorationId,e._FIND_MATCH_DECORATION),i._highlightedDecorationId=null),null!==o&&(i._highlightedDecorationId=o,t.changeDecorationOptions(i._highlightedDecorationId,e._CURRENT_FIND_MATCH_DECORATION)),null!==i._rangeHighlightDecorationId&&(t.removeDecoration(i._rangeHighlightDecorationId),i._rangeHighlightDecorationId=null),null!==o){var n=i._editor.getModel().getDecorationRange(o);if(n.startLineNumber!==n.endLineNumber&&1===n.endColumn){var r=n.endLineNumber-1,s=i._editor.getModel().getLineMaxColumn(r);n=new u.a(n.startLineNumber,n.startColumn,r,s)}i._rangeHighlightDecorationId=t.addDecoration(n,e._RANGE_HIGHLIGHT_DECORATION)}})),n},e.prototype.set=function(t,i){var o=this;this._editor.changeDecorations((function(n){var r=e._FIND_MATCH_DECORATION,s=[];if(t.length>1e3){r=e._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var a=o._editor.getModel().getLineCount(),d=o._editor.getLayoutInfo().height/a,l=Math.max(2,Math.ceil(3/d)),c=t[0].range.startLineNumber,h=t[0].range.endLineNumber,g=1,p=t.length;g<p;g++){var _=t[g].range;h+l>=_.startLineNumber?_.endLineNumber>h&&(h=_.endLineNumber):(s.push({range:new u.a(c,1,h,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),c=_.startLineNumber,h=_.endLineNumber)}s.push({range:new u.a(c,1,h,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}var f=new Array(t.length);for(g=0,p=t.length;g<p;g++)f[g]={range:t[g].range,options:r};o._decorations=n.deltaDecorations(o._decorations,f),o._overviewRulerApproximateDecorations=n.deltaDecorations(o._overviewRulerApproximateDecorations,s),o._rangeHighlightDecorationId&&(n.removeDecoration(o._rangeHighlightDecorationId),o._rangeHighlightDecorationId=null),o._findScopeDecorationId&&(n.removeDecoration(o._findScopeDecorationId),o._findScopeDecorationId=null),i&&(o._findScopeDecorationId=n.addDecoration(i,e._FIND_SCOPE_DECORATION))}))},e.prototype.matchBeforePosition=function(e){if(0===this._decorations.length)return null;for(var t=this._decorations.length-1;t>=0;t--){var i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(o&&!(o.endLineNumber>e.lineNumber)){if(o.endLineNumber<e.lineNumber)return o;if(!(o.endColumn>e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},e.prototype.matchAfterPosition=function(e){if(0===this._decorations.length)return null;for(var t=0,i=this._decorations.length;t<i;t++){var o=this._decorations[t],n=this._editor.getModel().getDecorationRange(o);if(n&&!(n.startLineNumber<e.lineNumber)){if(n.startLineNumber>e.lineNumber)return n;if(!(n.startColumn<e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])},e.prototype._allDecorations=function(){var e=[];return e=(e=e.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&e.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e},e._CURRENT_FIND_MATCH_DECORATION=_.a.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(m.f)(f.Lb),position:p.d.Center},minimap:{color:Object(m.f)(f.Hb),position:p.c.Inline}}),e._FIND_MATCH_DECORATION=_.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(m.f)(f.Lb),position:p.d.Center},minimap:{color:Object(m.f)(f.Hb),position:p.c.Inline}}),e._FIND_MATCH_NO_OVERVIEW_DECORATION=_.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),e._FIND_MATCH_ONLY_OVERVIEW_DECORATION=_.a.register({stickiness:1,overviewRuler:{color:Object(m.f)(f.Lb),position:p.d.Center}}),e._RANGE_HIGHLIGHT_DECORATION=_.a.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),e._FIND_SCOPE_DECORATION=_.a.register({className:"findScope",isWholeLine:!0}),e}(),v=function(){function e(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var i=[],o=0;o<this._ranges.length;o++)i.push({range:this._ranges[o],text:this._replaceStrings[o]});i.sort((function(e,t){return u.a.compareRangesUsingStarts(e.range,t.range)}));var n=[],r=i[0];for(o=1;o<i.length;o++)r.range.endLineNumber===i[o].range.startLineNumber&&r.range.endColumn===i[o].range.startColumn?(r.range=r.range.plusRange(i[o].range),r.text=r.text+i[o].text):(n.push(r),r=i[o]);n.push(r);for(var s=0,a=n;s<a.length;s++){var d=a[s];t.addEditOperation(d.range,d.text)}}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},e}(),y=i(540),C=function(e){this.staticValue=e,this.kind=0},S=function(e){this.pieces=e,this.kind=1},R=function(){function e(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new C(e[0].staticValue):this._state=new S(e):this._state=new C("")}return e.fromStaticValue=function(t){return new e([w.staticValue(t)])},Object.defineProperty(e.prototype,"hasReplacementPatterns",{get:function(){return 1===this._state.kind},enumerable:!0,configurable:!0}),e.prototype.buildReplaceString=function(t,i){if(0===this._state.kind)return i?Object(y.a)(t,this._state.staticValue):this._state.staticValue;for(var o="",n=0,r=this._state.pieces.length;n<r;n++){var s=this._state.pieces[n];null===s.staticValue?o+=e._substitute(s.matchIndex,t):o+=s.staticValue}return o},e._substitute=function(e,t){if(null===t)return"";if(0===e)return t[0];for(var i="";e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i},e}(),w=function(){function e(e,t){this.staticValue=e,this.matchIndex=t}return e.staticValue=function(t){return new e(t,-1)},e.matchIndex=function(t){return new e(null,t)},e}(),I=function(){function e(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return e.prototype.emitUnchanged=function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e},e.prototype.emitStatic=function(e,t){this._emitStatic(e),this._lastCharIndex=t},e.prototype._emitStatic=function(e){0!==e.length&&(this._currentStaticPiece+=e)},e.prototype.emitMatchIndex=function(e,t){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=w.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=w.matchIndex(e),this._lastCharIndex=t},e.prototype.finalize=function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=w.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new R(this._result)},e}();var O=i(11),N=new O.d("findWidgetVisible",!1),x=new O.d("findInputFocussed",!1),F=new O.d("replaceInputFocussed",!1),M={primary:545,mac:{primary:2593}},D={primary:565,mac:{primary:2613}},E={primary:560,mac:{primary:2608}},L={primary:554,mac:{primary:2602}},P="actions.find",T="actions.findWithSelection",k="editor.action.nextMatchFindAction",A="editor.action.previousMatchFindAction",W="editor.action.nextSelectionMatchFindAction",j="editor.action.previousSelectionMatchFindAction",V="editor.action.startFindReplaceAction",B="closeFindWidget",H="toggleFindCaseSensitive",U="toggleFindWholeWord",q="toggleFindRegex",Z="toggleFindInSelection",K="editor.action.replaceOne",z="editor.action.replaceAll",G="editor.action.selectAllMatches",X=function(){function e(e,t){var i=this;this._toDispose=new r.b,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new n.e,this._decorations=new b(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new n.d((function(){return i.research(!1)}),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((function(e){3!==e.reason&&5!==e.reason&&6!==e.reason||i._decorations.setStartPosition(i._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((function(e){i._ignoreModelContentChanged||(e.isFlush&&i._decorations.reset(),i._decorations.setStartPosition(i._editor.getPosition()),i._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((function(e){return i._onStateChanged(e)}))),this.research(!1,this._state.searchScope)}return e.prototype.dispose=function(){this._isDisposed=!0,Object(r.f)(this._startSearchingTimer),this._toDispose.dispose()},e.prototype._onStateChanged=function(e){var t=this;this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)}),240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))},e._getSearchRange=function(e,t){return t||e.getFullModelRange()},e.prototype.research=function(e,t){var i=null;null!==(i="undefined"!==typeof t?t:this._decorations.getFindScope())&&i.startLineNumber!==i.endLineNumber&&(i=1===i.endColumn?new u.a(i.startLineNumber,1,i.endLineNumber-1,this._editor.getModel().getLineMaxColumn(i.endLineNumber-1)):new u.a(i.startLineNumber,1,i.endLineNumber,this._editor.getModel().getLineMaxColumn(i.endLineNumber)));var o=this._findMatches(i,!1,19999);this._decorations.set(o,i),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},e.prototype._hasMatches=function(){return this._state.matchesCount>0},e.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1},e.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)},e.prototype._prevSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),i=e.lineNumber,o=e.column,n=this._editor.getModel();return t||1===o?(1===i?i=n.getLineCount():i--,o=n.getLineMaxColumn(i)):o--,new c.a(i,o)},e.prototype._moveToPrevMatch=function(t,i){if(void 0===i&&(i=!1),this._decorations.getCount()<19999){var o=this._decorations.matchBeforePosition(t);return o&&o.isEmpty()&&o.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),o=this._decorations.matchBeforePosition(t)),void(o&&this._setCurrentFindMatch(o))}if(!this._cannotFind()){var n=this._decorations.getFindScope(),r=e._getSearchRange(this._editor.getModel(),n);r.getEndPosition().isBefore(t)&&(t=r.getEndPosition()),t.isBefore(r.getStartPosition())&&(t=r.getEndPosition());var s=t.lineNumber,a=t.column,d=this._editor.getModel(),l=new c.a(s,a),u=d.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,!1);if(u&&u.range.isEmpty()&&u.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),u=d.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,!1)),u)return i||r.containsRange(u.range)?void this._setCurrentFindMatch(u.range):this._moveToPrevMatch(u.range.getStartPosition(),!0)}},e.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},e.prototype._nextSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),i=e.lineNumber,o=e.column,n=this._editor.getModel();return t||o===n.getLineMaxColumn(i)?(i===n.getLineCount()?i=1:i++,o=1):o++,new c.a(i,o)},e.prototype._moveToNextMatch=function(e){if(this._decorations.getCount()<19999){var t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}var i=this._getNextMatch(e,!1,!0);i&&this._setCurrentFindMatch(i.range)},e.prototype._getNextMatch=function(t,i,o,n){if(void 0===n&&(n=!1),this._cannotFind())return null;var r=this._decorations.getFindScope(),s=e._getSearchRange(this._editor.getModel(),r);s.getEndPosition().isBefore(t)&&(t=s.getStartPosition()),t.isBefore(s.getStartPosition())&&(t=s.getStartPosition());var a=t.lineNumber,d=t.column,l=this._editor.getModel(),u=new c.a(a,d),h=l.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,i);return o&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(u)&&(u=this._nextSearchPosition(u),h=l.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,i)),h?n||s.containsRange(h.range)?h:this._getNextMatch(h.range.getEndPosition(),i,o,!0):null},e.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},e.prototype._getReplacePattern=function(){return this._state.isRegex?function(e){if(!e||0===e.length)return new R(null);for(var t=new I(e),i=0,o=e.length;i<o;i++){var n=e.charCodeAt(i);if(92!==n){if(36===n){if(++i>=o)break;if(36===(a=e.charCodeAt(i))){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(48===a||38===a){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1);continue}if(49<=a&&a<=57){var r=a-48;if(i+1<o){var s=e.charCodeAt(i+1);if(48<=s&&s<=57){i++,r=10*r+(s-48),t.emitUnchanged(i-2),t.emitMatchIndex(r,i+1);continue}}t.emitUnchanged(i-1),t.emitMatchIndex(r,i+1);continue}}}else{if(++i>=o)break;var a;switch(a=e.charCodeAt(i)){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic("\n",i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("\t",i+1)}}}return t.finalize()}(this._state.replaceString):R.fromStaticValue(this._state.replaceString)},e.prototype.replace=function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){var o=e.buildReplaceString(i.matches,this._state.preserveCase),n=new l.a(t,o);this._executeEditorCommand("replace",n),this._decorations.setStartPosition(new c.a(t.startLineNumber,t.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}},e.prototype._findMatches=function(t,i,o){var n=e._getSearchRange(this._editor.getModel(),t);return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,i,o)},e.prototype.replaceAll=function(){if(this._hasMatches()){var e=this._decorations.getFindScope();null===e&&this._state.matchesCount>=19999?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}},e.prototype._largeReplaceAll=function(){var e=new g.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null).parseSearchRequest();if(e){var t=e.regex;if(!t.multiline){var i="mu";t.ignoreCase&&(i+="i"),t.global&&(i+="g"),t=new RegExp(t.source,i)}var o,n=this._editor.getModel(),r=n.getValue(1),s=n.getFullModelRange(),a=this._getReplacePattern(),d=this._state.preserveCase;o=a.hasReplacementPatterns||d?r.replace(t,(function(){return a.buildReplaceString(arguments,d)})):r.replace(t,a.buildReplaceString(null,d));var c=new l.b(s,o,this._editor.getSelection());this._executeEditorCommand("replaceAll",c)}},e.prototype._regularReplaceAll=function(e){for(var t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[],n=0,r=i.length;n<r;n++)o[n]=t.buildReplaceString(i[n].matches,this._state.preserveCase);var s=new v(this._editor.getSelection(),i.map((function(e){return e.range})),o);this._executeEditorCommand("replaceAll",s)},e.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,!1,1073741824).map((function(e){return new h.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})),i=this._editor.getSelection(),o=0,n=t.length;o<n;o++){if(t[o].equalsRange(i)){t=[i].concat(t.slice(0,o)).concat(t.slice(o+1));break}}this._editor.setSelections(t)}},e.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},e}(),Y=i(1),Q=i(201),$=i(82),J=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ee=function(e){function t(t,i,o,r){var s=e.call(this)||this;s._hideSoon=s._register(new n.d((function(){return s._hide()}),2e3)),s._isVisible=!1,s._editor=t,s._state=i,s._keybindingService=o,s._domNode=document.createElement("div"),s._domNode.className="findOptionsWidget",s._domNode.style.display="none",s._domNode.style.top="10px",s._domNode.setAttribute("role","presentation"),s._domNode.setAttribute("aria-hidden","true");var a=r.getTheme().getColor(f.Y),d=r.getTheme().getColor(f.X);return s.caseSensitive=s._register(new Q.a({appendTitle:s._keybindingLabelFor(H),isChecked:s._state.matchCase,inputActiveOptionBorder:a,inputActiveOptionBackground:d})),s._domNode.appendChild(s.caseSensitive.domNode),s._register(s.caseSensitive.onChange((function(){s._state.change({matchCase:s.caseSensitive.checked},!1)}))),s.wholeWords=s._register(new Q.c({appendTitle:s._keybindingLabelFor(U),isChecked:s._state.wholeWord,inputActiveOptionBorder:a,inputActiveOptionBackground:d})),s._domNode.appendChild(s.wholeWords.domNode),s._register(s.wholeWords.onChange((function(){s._state.change({wholeWord:s.wholeWords.checked},!1)}))),s.regex=s._register(new Q.b({appendTitle:s._keybindingLabelFor(q),isChecked:s._state.isRegex,inputActiveOptionBorder:a,inputActiveOptionBackground:d})),s._domNode.appendChild(s.regex.domNode),s._register(s.regex.onChange((function(){s._state.change({isRegex:s.regex.checked},!1)}))),s._editor.addOverlayWidget(s),s._register(s._state.onFindReplaceStateChange((function(e){var t=!1;e.isRegex&&(s.regex.checked=s._state.isRegex,t=!0),e.wholeWord&&(s.wholeWords.checked=s._state.wholeWord,t=!0),e.matchCase&&(s.caseSensitive.checked=s._state.matchCase,t=!0),!s._state.isRevealed&&t&&s._revealTemporarily()}))),s._register(Y.k(s._domNode,(function(e){return s._onMouseOut()}))),s._register(Y.j(s._domNode,"mouseover",(function(e){return s._onMouseOver()}))),s._applyTheme(r.getTheme()),s._register(r.onThemeChange(s._applyTheme.bind(s))),s}return J(t,e),t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:0}},t.prototype.highlightFindOptions=function(){this._revealTemporarily()},t.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},t.prototype._onMouseOut=function(){this._hideSoon.schedule()},t.prototype._onMouseOver=function(){this._hideSoon.cancel()},t.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},t.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(f.Y),inputActiveOptionBackground:e.getColor(f.X)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)},t.ID="editor.contrib.findOptionsWidget",t}($.a);Object(m.e)((function(e,t){var i=e.getColor(f.Q);i&&t.addRule(".monaco-editor .findOptionsWidget { background-color: "+i+"; }");var o=e.getColor(f.S);o&&t.addRule(".monaco-editor .findOptionsWidget { color: "+o+"; }");var n=e.getColor(f.gc);n&&t.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+n+"; }");var r=e.getColor(f.e);r&&t.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+r+"; }")}));var te=i(6),ie=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();function oe(e,t){return 1===e||2!==e&&t}var ne=function(e){function t(){var t=e.call(this)||this;return t._onFindReplaceStateChange=t._register(new te.a),t.onFindReplaceStateChange=t._onFindReplaceStateChange.event,t._searchString="",t._replaceString="",t._isRevealed=!1,t._isReplaceRevealed=!1,t._isRegex=!1,t._isRegexOverride=0,t._wholeWord=!1,t._wholeWordOverride=0,t._matchCase=!1,t._matchCaseOverride=0,t._preserveCase=!1,t._preserveCaseOverride=0,t._searchScope=null,t._matchesPosition=0,t._matchesCount=0,t._currentMatch=null,t}return ie(t,e),Object.defineProperty(t.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRegex",{get:function(){return oe(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wholeWord",{get:function(){return oe(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchCase",{get:function(){return oe(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveCase",{get:function(){return oe(this._preserveCaseOverride,this._preserveCase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualPreserveCase",{get:function(){return this._preserveCase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),t.prototype.changeMatchInfo=function(e,t,i){var o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},n=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,o.matchesPosition=!0,n=!0),this._matchesCount!==t&&(this._matchesCount=t,o.matchesCount=!0,n=!0),"undefined"!==typeof i&&(u.a.equalsRange(this._currentMatch,i)||(this._currentMatch=i,o.currentMatch=!0,n=!0)),n&&this._onFindReplaceStateChange.fire(o)},t.prototype.change=function(e,t,i){void 0===i&&(i=!0);var o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},n=!1,r=this.isRegex,s=this.wholeWord,a=this.matchCase,d=this.preserveCase;"undefined"!==typeof e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,n=!0),"undefined"!==typeof e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,n=!0),"undefined"!==typeof e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,n=!0),"undefined"!==typeof e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,n=!0),"undefined"!==typeof e.isRegex&&(this._isRegex=e.isRegex),"undefined"!==typeof e.wholeWord&&(this._wholeWord=e.wholeWord),"undefined"!==typeof e.matchCase&&(this._matchCase=e.matchCase),"undefined"!==typeof e.preserveCase&&(this._preserveCase=e.preserveCase),"undefined"!==typeof e.searchScope&&(u.a.equalsRange(this._searchScope,e.searchScope)||(this._searchScope=e.searchScope,o.searchScope=!0,n=!0)),this._isRegexOverride="undefined"!==typeof e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride="undefined"!==typeof e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride="undefined"!==typeof e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride="undefined"!==typeof e.preserveCaseOverride?e.preserveCaseOverride:0,r!==this.isRegex&&(n=!0,o.isRegex=!0),s!==this.wholeWord&&(n=!0,o.wholeWord=!0),a!==this.matchCase&&(n=!0,o.matchCase=!0),d!==this.preserveCase&&(n=!0,o.preserveCase=!0),n&&this._onFindReplaceStateChange.fire(o)},t}(r.a),re=(i(660),i(72)),se=i(195),ae=i(189),de=i(13),le=i(15),ce=i(425),ue=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),he=o.a("label.find","Find"),ge=o.a("placeholder.find","Find"),pe=o.a("label.previousMatchButton","Previous match"),_e=o.a("label.nextMatchButton","Next match"),fe=o.a("label.toggleSelectionFind","Find in selection"),me=o.a("label.closeButton","Close"),be=o.a("label.replace","Replace"),ve=o.a("placeholder.replace","Replace"),ye=o.a("label.replaceButton","Replace"),Ce=o.a("label.replaceAllButton","Replace All"),Se=o.a("label.toggleReplaceButton","Toggle Replace mode"),Re=o.a("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",19999),we=o.a("label.matchesLocation","{0} of {1}"),Ie=o.a("label.noResults","No Results"),Oe=69,Ne=le.e?256:2048,xe=function(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"};function Fe(e,t,i){var o=!!t.match(/\n/);i&&o&&i.selectionStart>0&&e.stopPropagation()}function Me(e,t,i){var o=!!t.match(/\n/);i&&o&&i.selectionEnd<i.value.length&&e.stopPropagation()}var De=function(e){function t(t,i,o,s,a,d,l,c,u){var h=e.call(this)||this;return h._cachedHeight=null,h._codeEditor=t,h._controller=i,h._state=o,h._contextViewProvider=s,h._keybindingService=a,h._contextKeyService=d,h._storageService=c,h._notificationService=u,h._ctrlEnterReplaceAllWarningPrompted=!!c.getBoolean("ctrlEnterReplaceAll.windows.donotask",0),h._isVisible=!1,h._isReplaceVisible=!1,h._ignoreChangeEvent=!1,h._updateHistoryDelayer=new n.a(500),h._register(Object(r.h)((function(){return h._updateHistoryDelayer.cancel()}))),h._register(h._state.onFindReplaceStateChange((function(e){return h._onStateChanged(e)}))),h._buildDomNode(),h._updateButtons(),h._tryUpdateWidgetWidth(),h._findInput.inputBox.layout(),h._register(h._codeEditor.onDidChangeConfiguration((function(e){if(e.hasChanged(65)&&(h._codeEditor.getOption(65)&&h._state.change({isReplaceRevealed:!1},!1),h._updateButtons()),e.hasChanged(103)&&h._tryUpdateWidgetWidth(),e.hasChanged(2)&&h.updateAccessibilitySupport(),e.hasChanged(27)){var t=h._codeEditor.getOption(27).addExtraSpaceOnTop;t&&!h._viewZone&&(h._viewZone=new xe(0),h._showViewZone()),!t&&h._viewZone&&h._removeViewZone()}}))),h.updateAccessibilitySupport(),h._register(h._codeEditor.onDidChangeCursorSelection((function(){h._isVisible&&h._updateToggleSelectionFindButton()}))),h._register(h._codeEditor.onDidFocusEditorWidget((function(){if(h._isVisible){var e=h._controller.getGlobalBufferTerm();e&&e!==h._state.searchString&&(h._state.change({searchString:e},!0),h._findInput.select())}}))),h._findInputFocused=x.bindTo(d),h._findFocusTracker=h._register(Y.W(h._findInput.inputBox.inputElement)),h._register(h._findFocusTracker.onDidFocus((function(){h._findInputFocused.set(!0),h._updateSearchScope()}))),h._register(h._findFocusTracker.onDidBlur((function(){h._findInputFocused.set(!1)}))),h._replaceInputFocused=F.bindTo(d),h._replaceFocusTracker=h._register(Y.W(h._replaceInput.inputBox.inputElement)),h._register(h._replaceFocusTracker.onDidFocus((function(){h._replaceInputFocused.set(!0),h._updateSearchScope()}))),h._register(h._replaceFocusTracker.onDidBlur((function(){h._replaceInputFocused.set(!1)}))),h._codeEditor.addOverlayWidget(h),h._codeEditor.getOption(27).addExtraSpaceOnTop&&(h._viewZone=new xe(0)),h._applyTheme(l.getTheme()),h._register(l.onThemeChange(h._applyTheme.bind(h))),h._register(h._codeEditor.onDidChangeModel((function(){h._isVisible&&(h._viewZoneId=void 0)}))),h._register(h._codeEditor.onDidScrollChange((function(e){e.scrollTopChanged?h._layoutViewZone():setTimeout((function(){h._layoutViewZone()}),0)}))),h}return ue(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},t.prototype._onStateChanged=function(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(65)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=Y.F(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;Y.V(this._domNode,"no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory()},t.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},t.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()},t.prototype._updateMatchesCount=function(){var e;if(this._matchesCount.style.minWidth=Oe+"px",this._state.matchesCount>=19999?this._matchesCount.title=Re:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=19999&&(t+="+");var i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=s.r(we,i,t)}else e=Ie;this._matchesCount.appendChild(document.createTextNode(e)),Object(re.a)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString),!0),Oe=Math.max(Oe,this._matchesCount.clientWidth)},t.prototype._getAriaLabel=function(e,t,i){return e===Ie?""===i?o.a("ariaSearchNoResultEmpty","{0} found",e):o.a("ariaSearchNoResult","{0} found for {1}",e,i):t?o.a("ariaSearchNoResultWithLineNum","{0} found for {1} at {2}",e,i,t.startLineNumber+":"+t.startColumn):o.a("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for {1}",e,i)},t.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()},t.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t),this._nextBtn.setEnabled(this._isVisible&&e&&t),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),Y.V(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var i=!this._codeEditor.getOption(65);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)},t.prototype._reveal=function(){var e=this;if(!this._isVisible){this._isVisible=!0;var t=this._codeEditor.getSelection();switch(this._codeEditor.getOption(27).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":var i=!!t&&t.startLineNumber!==t.endLineNumber;this._toggleSelectionFind.checked=i}this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout((function(){Y.f(e._domNode,"visible"),e._domNode.setAttribute("aria-hidden","false")}),0),setTimeout((function(){e._findInput.validate()}),200),this._codeEditor.layoutOverlayWidget(this);var o=!0;if(this._codeEditor.getOption(27).seedSearchStringFromSelection&&t){var n=this._codeEditor.getDomNode();if(n){var r=Y.B(n),s=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),a=r.left+(s?s.left:0),d=s?s.top:0;if(this._viewZone&&d<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(o=!1);var l=Y.D(this._domNode).left;a>l&&(o=!1);var c=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition());r.left+(c?c.left:0)>l&&(o=!1)}}}this._showViewZone(o)}},t.prototype._hide=function(e){this._isVisible&&(this._isVisible=!1,this._updateButtons(),Y.M(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())},t.prototype._layoutViewZone=function(){var e=this;if(this._codeEditor.getOption(27).addExtraSpaceOnTop){if(this._isVisible){var t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones((function(i){t.heightInPx=e._getHeight(),e._viewZoneId=i.addZone(t),e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+t.heightInPx)}))}}else this._removeViewZone()},t.prototype._showViewZone=function(e){var t=this;if((void 0===e&&(e=!0),this._isVisible)&&this._codeEditor.getOption(27).addExtraSpaceOnTop){void 0===this._viewZone&&(this._viewZone=new xe(0));var i=this._viewZone;this._codeEditor.changeViewZones((function(o){if(void 0!==t._viewZoneId){var n=t._getHeight();if(n===i.heightInPx)return;var r=n-i.heightInPx;return i.heightInPx=n,o.layoutZone(t._viewZoneId),void(e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r))}r=t._getHeight();i.heightInPx=r,t._viewZoneId=o.addZone(i),e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r)}))}},t.prototype._removeViewZone=function(){var e=this;this._codeEditor.changeViewZones((function(t){void 0!==e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0,e._viewZone&&(e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()-e._viewZone.heightInPx),e._viewZone=void 0))}))},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(f.Y),inputActiveOptionBackground:e.getColor(f.X),inputBackground:e.getColor(f.Z),inputForeground:e.getColor(f.bb),inputBorder:e.getColor(f.ab),inputValidationInfoBackground:e.getColor(f.fb),inputValidationInfoForeground:e.getColor(f.hb),inputValidationInfoBorder:e.getColor(f.gb),inputValidationWarningBackground:e.getColor(f.ib),inputValidationWarningForeground:e.getColor(f.kb),inputValidationWarningBorder:e.getColor(f.jb),inputValidationErrorBackground:e.getColor(f.cb),inputValidationErrorForeground:e.getColor(f.eb),inputValidationErrorBorder:e.getColor(f.db)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)},t.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible&&Y.K(this._domNode)){var e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)Y.f(this._domNode,"hiddenEditor");else{Y.G(this._domNode,"hiddenEditor")&&Y.M(this._domNode,"hiddenEditor");var t=e.width,i=e.minimapWidth,o=!1,n=!1,r=!1;if(this._resized)if(Y.F(this._domNode)>419)return this._domNode.style.maxWidth=t-28-i-15+"px",void(this._replaceInput.width=Y.F(this._findInput.domNode));if(447+i>=t&&(n=!0),447+i-Oe>=t&&(r=!0),447+i-Oe>=t+50&&(o=!0),Y.V(this._domNode,"collapsed-find-widget",o),Y.V(this._domNode,"narrow-find-widget",r),Y.V(this._domNode,"reduced-find-widget",n),r||o||(this._domNode.style.maxWidth=t-28-i-15+"px"),this._resized){this._findInput.inputBox.layout();var s=this._findInput.inputBox.element.clientWidth;s>0&&(this._replaceInput.width=s)}else this._isReplaceVisible&&(this._replaceInput.width=Y.F(this._findInput.domNode))}}},t.prototype._getHeight=function(){var e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4},t.prototype._tryUpdateHeight=function(){var e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=e+"px",!0)},t.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},t.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()},t.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},t.prototype._updateSearchScope=function(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var e=this._codeEditor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));var t=this._state.currentMatch;e.startLineNumber!==e.endLineNumber&&(u.a.equalsRange(e,t)||this._state.change({searchScope:e},!0))}},t.prototype._onFindInputMouseDown=function(e){e.middleButton&&e.stopPropagation()},t.prototype._onFindInputKeyDown=function(e){return e.equals(3|Ne)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Fe(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?Me(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0},t.prototype._onReplaceInputKeyDown=function(e){return e.equals(3|Ne)?(le.h&&le.f&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(o.a("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store("ctrlEnterReplaceAll.windows.donotask",!0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Fe(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?Me(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0},t.prototype.getHorizontalSashTop=function(e){return 0},t.prototype.getHorizontalSashLeft=function(e){return 0},t.prototype.getHorizontalSashWidth=function(e){return 500},t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype._buildDomNode=function(){var e=this;this._findInput=this._register(new ce.a(null,this._contextViewProvider,{width:221,label:he,placeholder:ge,appendCaseSensitiveLabel:this._keybindingLabelFor(H),appendWholeWordsLabel:this._keybindingLabelFor(U),appendRegexLabel:this._keybindingLabelFor(q),validation:function(t){if(0===t.length||!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(i){return{content:i.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((function(t){return e._onFindInputKeyDown(t)}))),this._register(this._findInput.inputBox.onDidChange((function(){e._ignoreChangeEvent||e._state.change({searchString:e._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInput.focus(),t.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceInput.focusOnPreserve(),t.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((function(t){e._tryUpdateHeight()&&e._showViewZone()}))),le.d&&this._register(this._findInput.onMouseDown((function(t){return e._onFindInputMouseDown(t)}))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ee({label:pe+this._keybindingLabelFor(A),className:"codicon codicon-arrow-up",onTrigger:function(){e._codeEditor.getAction(A).run().then(void 0,de.e)}})),this._nextBtn=this._register(new Ee({label:_e+this._keybindingLabelFor(k),className:"codicon codicon-arrow-down",onTrigger:function(){e._codeEditor.getAction(k).run().then(void 0,de.e)}}));var t=document.createElement("div");t.className="find-part",t.appendChild(this._findInput.domNode);var i=document.createElement("div");i.className="find-actions",t.appendChild(i),i.appendChild(this._matchesCount),i.appendChild(this._prevBtn.domNode),i.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new se.a({actionClassName:"codicon codicon-selection",title:fe+this._keybindingLabelFor(Z),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((function(){if(e._toggleSelectionFind.checked){if(e._codeEditor.hasModel()){var t=e._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()||e._state.change({searchScope:t},!0)}}else e._state.change({searchScope:null},!0)}))),i.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ee({label:me+this._keybindingLabelFor(B),className:"codicon codicon-close",onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),i.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new ce.b(null,void 0,{label:be,placeholder:ve,history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((function(t){return e._onReplaceInputKeyDown(t)}))),this._register(this._replaceInput.inputBox.onDidChange((function(){e._state.change({replaceString:e._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((function(t){e._isReplaceVisible&&e._tryUpdateHeight()&&e._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((function(){e._state.change({preserveCase:e._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((function(t){t.equals(2)&&(e._prevBtn.isEnabled()?e._prevBtn.focus():e._nextBtn.isEnabled()?e._nextBtn.focus():e._toggleSelectionFind.enabled?e._toggleSelectionFind.focus():e._closeBtn.isEnabled()&&e._closeBtn.focus(),t.preventDefault())}))),this._replaceBtn=this._register(new Ee({label:ye+this._keybindingLabelFor(K),className:"codicon codicon-replace",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new Ee({label:Ce+this._keybindingLabelFor(z),className:"codicon codicon-replace-all",onTrigger:function(){e._controller.replaceAll()}}));var o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);var n=document.createElement("div");n.className="replace-actions",o.appendChild(n),n.appendChild(this._replaceBtn.domNode),n.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ee({label:Se,className:"codicon toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1),e._isReplaceVisible&&(e._replaceInput.width=Y.F(e._findInput.domNode),e._replaceInput.inputBox.layout()),e._showViewZone()}})),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(o),this._resizeSash=new ae.a(this._domNode,this,{orientation:0}),this._resized=!1;var r=419;this._register(this._resizeSash.onDidStart((function(){r=Y.F(e._domNode)}))),this._register(this._resizeSash.onDidChange((function(t){e._resized=!0;var i=r+t.startX-t.currentX;i<419||(i>(parseFloat(Y.y(e._domNode).maxWidth)||0)||(e._domNode.style.width=i+"px",e._isReplaceVisible&&(e._replaceInput.width=Y.F(e._findInput.domNode)),e._findInput.inputBox.layout(),e._tryUpdateHeight()))}))),this._register(this._resizeSash.onDidReset((function(){var t=Y.F(e._domNode);if(!(t<419)){var i=419;if(!e._resized||419===t){var o=e._codeEditor.getLayoutInfo();i=o.width-28-o.minimapWidth-15,e._resized=!0}e._domNode.style.width=i+"px",e._isReplaceVisible&&(e._replaceInput.width=Y.F(e._findInput.domNode)),e._findInput.inputBox.layout()}})))},t.prototype.updateAccessibilitySupport=function(){var e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)},t.ID="editor.contrib.findWidget",t}($.a),Ee=function(e){function t(t){var i=e.call(this)||this;return i._opts=t,i._domNode=document.createElement("div"),i._domNode.title=i._opts.label,i._domNode.tabIndex=0,i._domNode.className="button "+i._opts.className,i._domNode.setAttribute("role","button"),i._domNode.setAttribute("aria-label",i._opts.label),i.onclick(i._domNode,(function(e){i._opts.onTrigger(),e.preventDefault()})),i.onkeydown(i._domNode,(function(e){if(e.equals(10)||e.equals(3))return i._opts.onTrigger(),void e.preventDefault();i._opts.onKeyDown&&i._opts.onKeyDown(e)})),i}return ue(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},t.prototype.focus=function(){this._domNode.focus()},t.prototype.setEnabled=function(e){Y.V(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},t.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(!!e))},t.prototype.toggleClass=function(e,t){Y.V(this._domNode,e,t)},t}($.a);Object(m.e)((function(e,t){var i=function(e,i){i&&t.addRule(".monaco-editor "+e+" { background-color: "+i+"; }")};i(".findMatch",e.getColor(f.t)),i(".currentFindMatch",e.getColor(f.r)),i(".findScope",e.getColor(f.v)),i(".find-widget",e.getColor(f.Q));var o=e.getColor(f.gc);o&&t.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+o+"; }");var n=e.getColor(f.u);n&&t.addRule(".monaco-editor .findMatch { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+n+"; box-sizing: border-box; }");var r=e.getColor(f.s);r&&t.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+r+"; padding: 1px; box-sizing: border-box; }");var s=e.getColor(f.w);s&&t.addRule(".monaco-editor .findScope { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+s+"; }");var a=e.getColor(f.e);a&&t.addRule(".monaco-editor .find-widget { border: 1px solid "+a+"; }");var d=e.getColor(f.S);d&&t.addRule(".monaco-editor .find-widget { color: "+d+"; }");var l=e.getColor(f.U);l&&t.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+l+"; }");var c=e.getColor(f.T);if(c)t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+c+"; width: 3px !important; margin-left: -4px;}");else{var u=e.getColor(f.R);u&&t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+u+"; width: 3px !important; margin-left: -4px;}")}var h=e.getColor(f.V);h&&t.addRule(".monaco-workbench .monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: "+h+"; }")}));var Le=i(211),Pe=i(86),Te=i(20),ke=i(54),Ae=i(111),We=i(59);i.d(t,"getSelectionSearchString",(function(){return He})),i.d(t,"CommonFindController",(function(){return Ue})),i.d(t,"FindController",(function(){return qe})),i.d(t,"StartFindAction",(function(){return Ze})),i.d(t,"StartFindWithSelectionAction",(function(){return Ke})),i.d(t,"MatchFindAction",(function(){return ze})),i.d(t,"NextMatchFindAction",(function(){return Ge})),i.d(t,"NextMatchFindAction2",(function(){return Xe})),i.d(t,"PreviousMatchFindAction",(function(){return Ye})),i.d(t,"PreviousMatchFindAction2",(function(){return Qe})),i.d(t,"SelectionMatchFindAction",(function(){return $e})),i.d(t,"NextSelectionMatchFindAction",(function(){return Je})),i.d(t,"PreviousSelectionMatchFindAction",(function(){return et})),i.d(t,"StartFindReplaceAction",(function(){return tt}));var je=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ve=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Be=function(e,t){return function(i,o){t(i,o,e)}};function He(e){if(!e.hasModel())return null;var t=e.getSelection();if(t.startLineNumber===t.endLineNumber)if(t.isEmpty()){var i=e.getModel().getWordAtPosition(t.getStartPosition());if(i)return i.word}else if(e.getModel().getValueLengthInRange(t)<524288)return e.getModel().getValueInRange(t);return null}var Ue=function(e){function t(t,i,o,r){var s=e.call(this)||this;return s._editor=t,s._findWidgetVisible=N.bindTo(i),s._contextKeyService=i,s._storageService=o,s._clipboardService=r,s._updateHistoryDelayer=new n.a(500),s._state=s._register(new ne),s.loadQueryState(),s._register(s._state.onFindReplaceStateChange((function(e){return s._onStateChanged(e)}))),s._model=null,s._register(s._editor.onDidChangeModel((function(){var e=s._editor.getModel()&&s._state.isRevealed;s.disposeModel(),s._state.change({searchScope:null,matchCase:s._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:s._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:s._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:s._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&s._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1})}))),s}return je(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){this.disposeModel(),e.prototype.dispose.call(this)},t.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},t.prototype._onStateChanged=function(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)},t.prototype.saveQueryState=function(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)},t.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)},t.prototype.isFindInputFocused=function(){return!!x.getValue(this._contextKeyService)},t.prototype.getState=function(){return this._state},t.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},t.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()},t.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()},t.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()},t.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var e=this._editor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()||this._state.change({searchScope:e},!0)}},t.prototype.setSearchString=function(e){this._state.isRegex&&(e=s.p(e)),this._state.change({searchString:e},!1)},t.prototype.highlightFindOptions=function(){},t.prototype._start=function(e){if(this.disposeModel(),this._editor.hasModel()){var t,i={isRevealed:!0};if(e.seedSearchStringFromSelection)(t=He(this._editor))&&(this._state.isRegex?i.searchString=s.p(t):i.searchString=t);if(!i.searchString&&e.seedSearchStringFromGlobalClipboard)(t=this.getGlobalBufferTerm())&&(i.searchString=t);if(e.forceRevealReplace?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){var o=this._editor.getSelection();o.isEmpty()||(i.searchScope=o)}this._state.change(i,!1),this._model||(this._model=new X(this._editor,this._state))}},t.prototype.start=function(e){this._start(e)},t.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},t.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},t.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},t.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},t.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},t.prototype.getGlobalBufferTerm=function(){return this._editor.getOption(27).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},t.prototype.setGlobalBufferTerm=function(e){this._editor.getOption(27).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)},t.ID="editor.contrib.findController",t=Ve([Be(1,O.c),Be(2,Ae.a),Be(3,Le.a)],t)}(r.a),qe=function(e){function t(t,i,o,n,r,s,a,d){var l=e.call(this,t,o,a,d)||this;return l._contextViewService=i,l._keybindingService=n,l._themeService=r,l._notificationService=s,l._widget=null,l._findOptionsWidget=null,l}return je(t,e),t.prototype._start=function(t){this._widget||this._createFindWidget();var i=this._editor.getSelection(),o=!1;switch(this._editor.getOption(27).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":o=!!i&&i.startLineNumber!==i.endLineNumber}t.updateSearchScope=o,e.prototype._start.call(this,t),2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput()},t.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},t.prototype._createFindWidget=function(){this._widget=this._register(new De(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new ee(this._editor,this._state,this._keybindingService,this._themeService))},t=Ve([Be(1,Pe.b),Be(2,O.c),Be(3,ke.a),Be(4,m.c),Be(5,We.a),Be(6,Ae.a),Be(7,Object(Te.d)(Le.a))],t)}(Ue),Ze=function(e){function t(){return e.call(this,{id:P,label:o.a("startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:15,group:"3_find",title:o.a({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}return je(t,e),t.prototype.run=function(e,t){var i=Ue.get(t);i&&i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(27).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(27).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1})},t}(a.b),Ke=function(e){function t(){return e.call(this,{id:T,label:o.a("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})||this}return je(t,e),t.prototype.run=function(e,t){var i=Ue.get(t);i&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),i.setGlobalBufferTerm(i.getState().searchString))},t}(a.b),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return je(t,e),t.prototype.run=function(e,t){var i=Ue.get(t);i&&!this._run(i)&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===i.getState().searchString.length&&t.getOption(27).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))},t}(a.b),Ge=function(e){function t(){return e.call(this,{id:k,label:o.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:d.a.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})||this}return je(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(ze),Xe=function(e){function t(){return e.call(this,{id:k,label:o.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:O.a.and(d.a.focus,x),primary:3,weight:100}})||this}return je(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(ze),Ye=function(e){function t(){return e.call(this,{id:A,label:o.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:d.a.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})||this}return je(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(ze),Qe=function(e){function t(){return e.call(this,{id:A,label:o.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:O.a.and(d.a.focus,x),primary:1027,weight:100}})||this}return je(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(ze),$e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return je(t,e),t.prototype.run=function(e,t){var i=Ue.get(t);if(i){var o=He(t);o&&i.setSearchString(o),this._run(i)||(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(27).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))}},t}(a.b),Je=function(e){function t(){return e.call(this,{id:W,label:o.a("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:d.a.focus,primary:2109,weight:100}})||this}return je(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}($e),et=function(e){function t(){return e.call(this,{id:j,label:o.a("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:d.a.focus,primary:3133,weight:100}})||this}return je(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}($e),tt=function(e){function t(){return e.call(this,{id:V,label:o.a("startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:15,group:"3_find",title:o.a({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}return je(t,e),t.prototype.run=function(e,t){if(t.hasModel()&&!t.getOption(65)){var i=Ue.get(t),o=t.getSelection(),n=i.isFindInputFocused(),r=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&t.getOption(27).seedSearchStringFromSelection&&!n,s=n||r?2:1;i&&i.start({forceRevealReplace:!0,seedSearchStringFromSelection:r,seedSearchStringFromGlobalClipboard:t.getOption(27).seedSearchStringFromSelection,shouldFocus:s,shouldAnimate:!0,updateSearchScope:!1})}},t}(a.b);Object(a.h)(Ue.ID,qe),Object(a.f)(Ze),Object(a.f)(Ke),Object(a.f)(Ge),Object(a.f)(Xe),Object(a.f)(Ye),Object(a.f)(Qe),Object(a.f)(Je),Object(a.f)(et),Object(a.f)(tt);var it=a.c.bindToContribution(Ue.get);Object(a.g)(new it({id:B,precondition:N,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:105,kbExpr:d.a.focus,primary:9,secondary:[1033]}})),Object(a.g)(new it({id:H,precondition:void 0,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:d.a.focus,primary:M.primary,mac:M.mac,win:M.win,linux:M.linux}})),Object(a.g)(new it({id:U,precondition:void 0,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:105,kbExpr:d.a.focus,primary:D.primary,mac:D.mac,win:D.win,linux:D.linux}})),Object(a.g)(new it({id:q,precondition:void 0,handler:function(e){return e.toggleRegex()},kbOpts:{weight:105,kbExpr:d.a.focus,primary:E.primary,mac:E.mac,win:E.win,linux:E.linux}})),Object(a.g)(new it({id:Z,precondition:void 0,handler:function(e){return e.toggleSearchScope()},kbOpts:{weight:105,kbExpr:d.a.focus,primary:L.primary,mac:L.mac,win:L.win,linux:L.linux}})),Object(a.g)(new it({id:K,precondition:N,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:d.a.focus,primary:3094}})),Object(a.g)(new it({id:K,precondition:N,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:O.a.and(d.a.focus,F),primary:3}})),Object(a.g)(new it({id:z,precondition:N,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:d.a.focus,primary:2563}})),Object(a.g)(new it({id:z,precondition:N,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:O.a.and(d.a.focus,F),primary:void 0,mac:{primary:2051}}})),Object(a.g)(new it({id:G,precondition:N,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:105,kbExpr:d.a.focus,primary:515}}))},405:function(e,t,i){"use strict";i.r(t);i(667);var o=i(0),n=i(23),r=i(9),s=i(18),a=i(46),d=i(2),l=i(5),c=i(6),u=function(){function e(e,t,i){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=i,this._parentsComputed=!1}return e.prototype.ensureParentIndices=function(){var e=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var t=[],i=function(i,o){var n=t[t.length-1];return e.getStartLineNumber(n)<=i&&e.getEndLineNumber(n)>=o},o=0,n=this._startIndexes.length;o<n;o++){var r=this._startIndexes[o],s=this._endIndexes[o];if(r>16777215||s>16777215)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");for(;t.length>0&&!i(r,s);)t.pop();var a=t.length>0?t[t.length-1]:-1;t.push(o),this._startIndexes[o]=r+((255&a)<<24),this._endIndexes[o]=s+((65280&a)<<16)}}},Object.defineProperty(e.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:!0,configurable:!0}),e.prototype.getStartLineNumber=function(e){return 16777215&this._startIndexes[e]},e.prototype.getEndLineNumber=function(e){return 16777215&this._endIndexes[e]},e.prototype.getType=function(e){return this._types?this._types[e]:void 0},e.prototype.hasTypes=function(){return!!this._types},e.prototype.isCollapsed=function(e){var t=e/32|0,i=e%32;return 0!==(this._collapseStates[t]&1<<i)},e.prototype.setCollapsed=function(e,t){var i=e/32|0,o=e%32,n=this._collapseStates[i];this._collapseStates[i]=t?n|1<<o:n&~(1<<o)},e.prototype.toRegion=function(e){return new h(this,e)},e.prototype.getParentIndex=function(e){this.ensureParentIndices();var t=((4278190080&this._startIndexes[e])>>>24)+((4278190080&this._endIndexes[e])>>>16);return 65535===t?-1:t},e.prototype.contains=function(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t},e.prototype.findIndex=function(e){var t=0,i=this._startIndexes.length;if(0===i)return-1;for(;t<i;){var o=Math.floor((t+i)/2);e<this.getStartLineNumber(o)?i=o:t=o+1}return t-1},e.prototype.findRange=function(e){var t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1},e.prototype.toString=function(){for(var e=[],t=0;t<this.length;t++)e[t]="["+(this.isCollapsed(t)?"+":"-")+"] "+this.getStartLineNumber(t)+"/"+this.getEndLineNumber(t);return e.join(", ")},e}(),h=function(){function e(e,t){this.ranges=e,this.index=t}return Object.defineProperty(e.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regionIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:!0,configurable:!0}),e.prototype.containedBy=function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber},e.prototype.containsLine=function(e){return this.startLineNumber<=e&&e<=this.endLineNumber},e}(),g=function(){function e(e,t){this._updateEventEmitter=new c.a,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new u(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return Object.defineProperty(e.prototype,"regions",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textModel",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype.toggleCollapseState=function(e){var t=this;if(e.length){var i={};this._decorationProvider.changeDecorations((function(o){for(var n=0,r=e;n<r.length;n++){var s=r[n].regionIndex,a=t._editorDecorationIds[s];if(a&&!i[a]){i[a]=!0;var d=!t._regions.isCollapsed(s);t._regions.setCollapsed(s,d),o.changeDecorationOptions(a,t._decorationProvider.getDecorationOption(d))}}})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}},e.prototype.update=function(e,t){var i=this;void 0===t&&(t=[]);for(var o=[],n=function(n,r){var s=e.getStartLineNumber(n);r&&function(e,i){for(var o=0,n=t;o<n.length;o++){var r=n[o];if(e<r&&r<=i)return!0}return!1}(s,e.getEndLineNumber(n))&&(r=!1),e.setCollapsed(n,r);var a=i._textModel.getLineMaxColumn(s),d={startLineNumber:s,startColumn:a,endLineNumber:s,endColumn:a};o.push({range:d,options:i._decorationProvider.getDecorationOption(r)})},r=0,s=function(){for(;r<i._regions.length;){var e=i._regions.isCollapsed(r);if(r++,e)return r-1}return-1},a=0,d=s();-1!==d&&a<e.length;){var l=this._textModel.getDecorationRange(this._editorDecorationIds[d]);if(l){var c=l.startLineNumber;if(this._textModel.getLineMaxColumn(c)===l.startColumn)for(;a<e.length;){var u=e.getStartLineNumber(a);if(!(c>=u))break;n(a,c===u),a++}}d=s()}for(;a<e.length;)n(a,!1),a++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,o),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},e.prototype.getMemento=function(){for(var e=[],t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){var i=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(i){var o=i.startLineNumber,n=i.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:o,endLineNumber:n})}}if(e.length>0)return e},e.prototype.applyMemento=function(e){if(Array.isArray(e)){for(var t=[],i=0,o=e;i<o.length;i++){var n=o[i],r=this.getRegionAtLine(n.startLineNumber);r&&!r.isCollapsed&&t.push(r)}this.toggleCollapseState(t)}},e.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},e.prototype.getAllRegionsAtLine=function(e,t){var i=[];if(this._regions)for(var o=this._regions.findRange(e),n=1;o>=0;){var r=this._regions.toRegion(o);t&&!t(r,n)||i.push(r),n++,o=r.parentIndex}return i},e.prototype.getRegionAtLine=function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null},e.prototype.getRegionsInside=function(e,t){var i=[],o=e?e.regionIndex+1:0,n=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length)for(var r=[],s=o,a=this._regions.length;s<a;s++){var d=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<n))break;for(;r.length>0&&!d.containedBy(r[r.length-1]);)r.pop();r.push(d),t(d,r.length)&&i.push(d)}else for(s=o,a=this._regions.length;s<a;s++){d=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<n))break;t&&!t(d)||i.push(d)}return i},e}();function p(e,t,i,o){void 0===i&&(i=Number.MAX_VALUE);var n=[];if(o&&o.length>0)for(var r=0,s=o;r<s.length;r++){var a=s[r],d=e.getRegionAtLine(a);if(d&&(d.isCollapsed!==t&&n.push(d),i>1)){var l=e.getRegionsInside(d,(function(e,o){return e.isCollapsed!==t&&o<i}));n.push.apply(n,l)}}else{l=e.getRegionsInside(null,(function(e,o){return e.isCollapsed!==t&&o<i}));n.push.apply(n,l)}e.toggleCollapseState(n)}function _(e,t,i,o){for(var n=[],r=0,s=o;r<s.length;r++){var a=s[r],d=e.getAllRegionsAtLine(a,(function(e,o){return e.isCollapsed!==t&&o<=i}));n.push.apply(n,d)}e.toggleCollapseState(n)}function f(e,t,i){for(var o=e.textModel,n=e.regions,r=[],s=n.length-1;s>=0;s--)if(i!==n.isCollapsed(s)){var a=n.getStartLineNumber(s);t.test(o.getLineContent(a))&&r.push(n.toRegion(s))}e.toggleCollapseState(r)}function m(e,t,i){for(var o=e.regions,n=[],r=o.length-1;r>=0;r--)i!==o.isCollapsed(r)&&t===o.getType(r)&&n.push(o.toRegion(r));e.toggleCollapseState(n)}var b=i(31),v=function(){function e(e){this.editor=e,this.autoHideFoldingControls=!0}return e.prototype.getDecorationOption=function(t){return t?e.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:e.EXPANDED_VISUAL_DECORATION},e.prototype.deltaDecorations=function(e,t){return this.editor.deltaDecorations(e,t)},e.prototype.changeDecorations=function(e){return this.editor.changeDecorations(e)},e.COLLAPSED_VISUAL_DECORATION=b.a.register({stickiness:1,afterContentClassName:"inline-folded",linesDecorationsClassName:"codicon codicon-chevron-right"}),e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=b.a.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down"}),e.EXPANDED_VISUAL_DECORATION=b.a.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down alwaysShowFoldIcons"}),e}(),y=i(8),C=i(3),S=i(17),R=function(){function e(e){var t=this;this._updateEventEmitter=new c.a,this._foldingModel=e,this._foldingModelListener=e.onDidChange((function(e){return t.updateHiddenRanges()})),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:!0,configurable:!0}),e.prototype.updateHiddenRanges=function(){for(var e=!1,t=[],i=0,o=0,n=Number.MAX_VALUE,r=-1,s=this._foldingModel.regions;i<s.length;i++)if(s.isCollapsed(i)){var a=s.getStartLineNumber(i)+1,d=s.getEndLineNumber(i);n<=a&&d<=r||(!e&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===a&&this._hiddenRanges[o].endLineNumber===d?(t.push(this._hiddenRanges[o]),o++):(e=!0,t.push(new C.a(a,1,d,1))),n=a,r=d)}(e||o<this._hiddenRanges.length)&&this.applyHiddenRanges(t)},e.prototype.applyMemento=function(e){if(!Array.isArray(e)||0===e.length)return!1;for(var t=[],i=0,o=e;i<o.length;i++){var n=o[i];if(!n.startLineNumber||!n.endLineNumber)return!1;t.push(new C.a(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(t),!0},e.prototype.getMemento=function(){return this._hiddenRanges.map((function(e){return{startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}}))},e.prototype.applyHiddenRanges=function(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)},e.prototype.hasRanges=function(){return this._hiddenRanges.length>0},e.prototype.isHidden=function(e){return null!==w(this._hiddenRanges,e)},e.prototype.adjustSelections=function(e){for(var t=this,i=!1,o=this._foldingModel.textModel,n=null,r=function(e){return n&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,n)||(n=w(t._hiddenRanges,e)),n?n.startLineNumber-1:null},s=0,a=e.length;s<a;s++){var d=e[s],l=r(d.startLineNumber);l&&(d=d.setStartPosition(l,o.getLineMaxColumn(l)),i=!0);var c=r(d.endLineNumber);c&&(d=d.setEndPosition(c,o.getLineMaxColumn(c)),i=!0),e[s]=d}return i},e.prototype.dispose=function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)},e}();function w(e,t){var i=Object(S.i)(e,(function(e){return t<e.startLineNumber}))-1;return i>=0&&e[i].endLineNumber>=t?e[i]:null}var I=i(35),O=function(){function e(e){this.editorModel=e,this.id="indent"}return e.prototype.dispose=function(){},e.prototype.compute=function(e){var t=I.a.getFoldingRules(this.editorModel.getLanguageIdentifier().id),i=t&&!!t.offSide,o=t&&t.markers;return Promise.resolve(function(e,t,i,o){void 0===o&&(o=5e3);var n=e.getOptions().tabSize,r=new N(o),s=void 0;i&&(s=new RegExp("("+i.start.source+")|(?:"+i.end.source+")"));var a=[],d=e.getLineCount()+1;a.push({indent:-1,endAbove:d,line:d});for(var l=e.getLineCount();l>0;l--){var c=e.getLineContent(l),u=b.b.computeIndentLevel(c,n),h=a[a.length-1];if(-1!==u){var g=void 0;if(s&&(g=c.match(s))){if(!g[1]){a.push({indent:-2,endAbove:l,line:l});continue}for(var p=a.length-1;p>0&&-2!==a[p].indent;)p--;if(p>0){a.length=p+1,h=a[p],r.insertFirst(l,h.line,u),h.line=l,h.indent=u,h.endAbove=l;continue}}if(h.indent>u){do{a.pop(),h=a[a.length-1]}while(h.indent>u);var _=h.endAbove-1;_-l>=1&&r.insertFirst(l,_,u)}h.indent===u?h.endAbove=l:a.push({indent:u,endAbove:l,line:l})}else t&&(h.endAbove=l)}return r.toIndentRanges(e)}(this.editorModel,i,o))},e}(),N=function(){function e(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}return e.prototype.insertFirst=function(e,t,i){if(!(e>16777215||t>16777215)){var o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}},e.prototype.toIndentRanges=function(e){if(this._length<=this._foldingRangesLimit){for(var t=new Uint32Array(this._length),i=new Uint32Array(this._length),o=this._length-1,n=0;o>=0;o--,n++)t[n]=this._startIndexes[o],i[n]=this._endIndexes[o];return new u(t,i)}var r=0,s=this._indentOccurrences.length;for(o=0;o<this._indentOccurrences.length;o++){var a=this._indentOccurrences[o];if(a){if(a+r>this._foldingRangesLimit){s=o;break}r+=a}}var d=e.getOptions().tabSize;for(t=new Uint32Array(this._foldingRangesLimit),i=new Uint32Array(this._foldingRangesLimit),o=this._length-1,n=0;o>=0;o--){var l=this._startIndexes[o],c=e.getLineContent(l),h=b.b.computeIndentLevel(c,d);(h<s||h===s&&r++<this._foldingRangesLimit)&&(t[n]=l,i[n]=this._endIndexes[o],n++)}return new u(t,i)},e}();var x=i(12),F=i(13),M={},D=function(){function e(e,t,i){void 0===i&&(i=5e3),this.editorModel=e,this.providers=t,this.limit=i,this.id="syntax"}return e.prototype.compute=function(e){var t=this;return function(e,t,i){var o=null,n=e.map((function(e,n){return Promise.resolve(e.provideFoldingRanges(t,M,i)).then((function(e){if(!i.isCancellationRequested&&Array.isArray(e)){Array.isArray(o)||(o=[]);for(var r=t.getLineCount(),s=0,a=e;s<a.length;s++){var d=a[s];d.start>0&&d.end>d.start&&d.end<=r&&o.push({start:d.start,end:d.end,rank:n,kind:d.kind})}}}),F.f)}));return Promise.all(n).then((function(e){return o}))}(this.providers,this.editorModel,e).then((function(e){return e?L(e,t.limit):null}))},e.prototype.dispose=function(){},e}();var E=function(){function e(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}return e.prototype.add=function(e,t,i,o){if(!(e>16777215||t>16777215)){var n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._nestingLevels[n]=o,this._types[n]=i,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}},e.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){for(var e=new Uint32Array(this._length),t=new Uint32Array(this._length),i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new u(e,t,this._types)}var o=0,n=this._nestingLevelCounts.length;for(i=0;i<this._nestingLevelCounts.length;i++){var r=this._nestingLevelCounts[i];if(r){if(r+o>this._foldingRangesLimit){n=i;break}o+=r}}e=new Uint32Array(this._foldingRangesLimit),t=new Uint32Array(this._foldingRangesLimit);for(var s=[],a=(i=0,0);i<this._length;i++){var d=this._nestingLevels[i];(d<n||d===n&&o++<this._foldingRangesLimit)&&(e[a]=this._startIndexes[i],t[a]=this._endIndexes[i],s[a]=this._types[i],a++)}return new u(e,t,s)},e}();function L(e,t){for(var i=e.sort((function(e,t){var i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i})),o=new E(t),n=void 0,r=[],s=0,a=i;s<a.length;s++){var d=a[s];if(n){if(d.start>n.start)if(d.end<=n.end)r.push(n),n=d,o.add(d.start,d.end,d.kind&&d.kind.value,r.length);else{if(d.start>n.end){do{n=r.pop()}while(n&&d.start>n.end);n&&r.push(n),n=d}o.add(d.start,d.end,d.kind&&d.kind.value,r.length)}}else n=d,o.add(d.start,d.end,d.kind&&d.kind.value,r.length)}return o.toIndentRanges()}var P=function(){function e(e,t,i,o){if(this.editorModel=e,this.id="init",t.length){this.decorationIds=e.deltaDecorations([],t.map((function(t){return{range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{stickiness:1}}}))),this.timeout=setTimeout(i,o)}}return e.prototype.dispose=function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"===typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)},e.prototype.compute=function(e){var t=[];if(this.decorationIds)for(var i=0,o=this.decorationIds;i<o.length;i++){var n=o[i],r=this.editorModel.getDecorationRange(n);r&&t.push({start:r.startLineNumber,end:r.endLineNumber,rank:1})}return Promise.resolve(L(t,Number.MAX_VALUE))},e}(),T=i(11);i.d(t,"FoldingController",(function(){return V}));var k=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),A=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},W=function(e,t){return function(i,o){t(i,o,e)}},j=new T.d("foldingEnabled",!1),V=function(e){function t(t,i){var o=e.call(this)||this;o.contextKeyService=i,o.localToDispose=o._register(new d.b),o.editor=t;var n=o.editor.getOptions();return o._isEnabled=n.get(29),o._autoHideFoldingControls="mouseover"===n.get(80),o._useFoldingProviders="indentation"!==n.get(30),o.foldingModel=null,o.hiddenRangeModel=null,o.rangeProvider=null,o.foldingRegionPromise=null,o.foldingStateMemento=null,o.foldingModelPromise=null,o.updateScheduler=null,o.cursorChangedScheduler=null,o.mouseDownInfo=null,o.foldingDecorationProvider=new v(t),o.foldingDecorationProvider.autoHideFoldingControls=o._autoHideFoldingControls,o.foldingEnabled=j.bindTo(o.contextKeyService),o.foldingEnabled.set(o._isEnabled),o._register(o.editor.onDidChangeModel((function(){return o.onModelChanged()}))),o._register(o.editor.onDidChangeConfiguration((function(e){if(e.hasChanged(29)||e.hasChanged(80)||e.hasChanged(30)){var t=o._isEnabled,i=o.editor.getOptions();o._isEnabled=i.get(29),o.foldingEnabled.set(o._isEnabled),t!==o._isEnabled&&o.onModelChanged();var n=o._autoHideFoldingControls;o._autoHideFoldingControls="mouseover"===i.get(80),n!==o._autoHideFoldingControls&&(o.foldingDecorationProvider.autoHideFoldingControls=o._autoHideFoldingControls,o.onModelContentChanged());var r=o._useFoldingProviders;o._useFoldingProviders="indentation"!==i.get(30),r!==o._useFoldingProviders&&o.onFoldingStrategyChanged()}}))),o.onModelChanged(),o}return k(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.saveViewState=function(){var e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){var t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i}}},t.prototype.restoreViewState=function(e){var t=this.editor.getModel();if(t&&this._isEnabled&&!t.isTooLargeForTokenization()&&this.hiddenRangeModel&&e&&e.collapsedRegions&&e.lineCount===t.getLineCount()){"syntax"!==e.provider&&"init"!==e.provider||(this.foldingStateMemento=e);var i=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){var o=this.getFoldingModel();o&&o.then((function(e){e&&e.applyMemento(i)})).then(void 0,F.e)}}},t.prototype.onModelChanged=function(){var e=this;this.localToDispose.clear();var t=this.editor.getModel();this._isEnabled&&t&&!t.isTooLargeForTokenization()&&(this.foldingModel=new g(t,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new R(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((function(t){return e.onHiddenRangesChanges(t)}))),this.updateScheduler=new s.a(200),this.cursorChangedScheduler=new s.d((function(){return e.revealCursor()}),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(x.m.onDidChange((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelContent((function(){return e.onModelContentChanged()}))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((function(){return e.onCursorPositionChanged()}))),this.localToDispose.add(this.editor.onMouseDown((function(t){return e.onEditorMouseDown(t)}))),this.localToDispose.add(this.editor.onMouseUp((function(t){return e.onEditorMouseUp(t)}))),this.localToDispose.add({dispose:function(){e.foldingRegionPromise&&(e.foldingRegionPromise.cancel(),e.foldingRegionPromise=null),e.updateScheduler&&e.updateScheduler.cancel(),e.updateScheduler=null,e.foldingModel=null,e.foldingModelPromise=null,e.hiddenRangeModel=null,e.cursorChangedScheduler=null,e.foldingStateMemento=null,e.rangeProvider&&e.rangeProvider.dispose(),e.rangeProvider=null}}),this.onModelContentChanged())},t.prototype.onFoldingStrategyChanged=function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()},t.prototype.getRangeProvider=function(e){var t=this;if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new O(e),this._useFoldingProviders&&this.foldingModel){var i=x.m.ordered(this.foldingModel.textModel);if(0===i.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new P(e,this.foldingStateMemento.collapsedRegions,(function(){t.foldingStateMemento=null,t.onFoldingStrategyChanged()}),3e4);i.length>0&&(this.rangeProvider=new D(e,i))}return this.foldingStateMemento=null,this.rangeProvider},t.prototype.getFoldingModel=function(){return this.foldingModelPromise},t.prototype.onModelContentChanged=function(){var e=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((function(){var t=e.foldingModel;if(!t)return null;var i=e.foldingRegionPromise=Object(s.f)((function(i){return e.getRangeProvider(t.textModel).compute(i)}));return i.then((function(o){if(o&&i===e.foldingRegionPromise){var n=e.editor.getSelections(),r=n?n.map((function(e){return e.startLineNumber})):[];t.update(o,r)}return t}))})).then(void 0,(function(e){return Object(F.e)(e),null})))},t.prototype.onHiddenRangesChanges=function(e){if(this.hiddenRangeModel&&e.length){var t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)},t.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()},t.prototype.revealCursor=function(){var e=this,t=this.getFoldingModel();t&&t.then((function(t){if(t){var i=e.editor.getSelections();if(i&&i.length>0){for(var o=[],n=function(i){var n=i.selectionStartLineNumber;e.hiddenRangeModel&&e.hiddenRangeModel.isHidden(n)&&o.push.apply(o,t.getAllRegionsAtLine(n,(function(e){return e.isCollapsed&&n>e.startLineNumber})))},r=0,s=i;r<s.length;r++){n(s[r])}o.length&&(t.toggleCollapseState(o),e.reveal(i[0].getPosition()))}}})).then(void 0,F.e)},t.prototype.onEditorMouseDown=function(e){if(this.mouseDownInfo=null,this.hiddenRangeModel&&e.target&&e.target.range&&(e.event.leftButton||e.event.middleButton)){var t=e.target.range,i=!1;switch(e.target.type){case 4:var o=e.target.detail,n=e.target.element.offsetLeft;if(o.offsetX-n<5)return;i=!0;break;case 7:if(this.hiddenRangeModel.hasRanges())if(!e.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){var r=this.editor.getModel();if(r&&t.startColumn===r.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}},t.prototype.onEditorMouseUp=function(e){var t=this,i=this.getFoldingModel();if(i&&this.mouseDownInfo&&e.target){var o=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,r=e.target.range;if(r&&r.startLineNumber===o){if(n){if(4!==e.target.type)return}else{var s=this.editor.getModel();if(!s||r.startColumn!==s.getLineMaxColumn(o))return}i.then((function(i){if(i){var r=i.getRegionAtLine(o);if(r&&r.startLineNumber===o){var s=r.isCollapsed;if(n||s){var a=[r];(e.event.middleButton||e.event.shiftKey)&&a.push.apply(a,i.getRegionsInside(r,(function(e){return e.isCollapsed===s}))),i.toggleCollapseState(a),t.reveal({lineNumber:o,column:1})}}}})).then(void 0,F.e)}}},t.prototype.reveal=function(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)},t.ID="editor.contrib.folding",t=A([W(1,T.c)],t)}(d.a),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.runEditorCommand=function(e,t,i){var o=this,n=V.get(t);if(n){var r=n.getFoldingModel();return r?(this.reportTelemetry(e,t),r.then((function(e){if(e){o.invoke(n,e,t,i);var r=t.getSelection();r&&n.reveal(r.getStartPosition())}}))):void 0}},t.prototype.getSelectedLines=function(e){var t=e.getSelections();return t?t.map((function(e){return e.startLineNumber})):[]},t.prototype.getLineNumbers=function(e,t){return e&&e.selectionLines?e.selectionLines.map((function(e){return e+1})):this.getSelectedLines(t)},t.prototype.run=function(e,t){},t}(l.b);function H(e){if(!n.k(e)){if(!n.i(e))return!1;var t=e;if(!n.k(t.levels)&&!n.h(t.levels))return!1;if(!n.k(t.direction)&&!n.j(t.direction))return!1;if(!n.k(t.selectionLines)&&(!n.d(t.selectionLines)||!t.selectionLines.every(n.h)))return!1}return!0}var U=function(e){function t(){return e.call(this,{id:"editor.unfold",label:o.a("unfoldAction.label","Unfold"),alias:"Unfold",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:H,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return k(t,e),t.prototype.invoke=function(e,t,i,o){var n=o&&o.levels||1,r=this.getLineNumbers(o,i);o&&"up"===o.direction?_(t,!1,n,r):p(t,!1,n,r)},t}(B),q=function(e){function t(){return e.call(this,{id:"editor.unfoldRecursively",label:o.a("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:Object(a.a)(2089,2137),weight:100}})||this}return k(t,e),t.prototype.invoke=function(e,t,i,o){p(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))},t}(B),Z=function(e){function t(){return e.call(this,{id:"editor.fold",label:o.a("foldAction.label","Fold"),alias:"Fold",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold. Defaults to 1.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:H,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return k(t,e),t.prototype.invoke=function(e,t,i,o){var n=o&&o.levels||1,r=this.getLineNumbers(o,i);o&&"up"===o.direction?_(t,!0,n,r):p(t,!0,n,r)},t}(B),K=function(e){function t(){return e.call(this,{id:"editor.toggleFold",label:o.a("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:Object(a.a)(2089,2090),weight:100}})||this}return k(t,e),t.prototype.invoke=function(e,t,i){!function(e,t,i){for(var o=[],n=function(i){var n=e.getRegionAtLine(i);if(n){var r=!n.isCollapsed;if(o.push(n),t>1){var s=e.getRegionsInside(n,(function(e,i){return e.isCollapsed!==r&&i<t}));o.push.apply(o,s)}}},r=0,s=i;r<s.length;r++){n(s[r])}e.toggleCollapseState(o)}(t,1,this.getSelectedLines(i))},t}(B),z=function(e){function t(){return e.call(this,{id:"editor.foldRecursively",label:o.a("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:Object(a.a)(2089,2135),weight:100}})||this}return k(t,e),t.prototype.invoke=function(e,t,i){var o=this.getSelectedLines(i);p(t,!0,Number.MAX_VALUE,o)},t}(B),G=function(e){function t(){return e.call(this,{id:"editor.foldAllBlockComments",label:o.a("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:Object(a.a)(2089,2133),weight:100}})||this}return k(t,e),t.prototype.invoke=function(e,t,i){if(t.regions.hasTypes())m(t,x.l.Comment.value,!0);else{var o=i.getModel();if(!o)return;var n=I.a.getComments(o.getLanguageIdentifier().id);if(n&&n.blockCommentStartToken)f(t,new RegExp("^\\s*"+Object(r.p)(n.blockCommentStartToken)),!0)}},t}(B),X=function(e){function t(){return e.call(this,{id:"editor.foldAllMarkerRegions",label:o.a("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:Object(a.a)(2089,2077),weight:100}})||this}return k(t,e),t.prototype.invoke=function(e,t,i){if(t.regions.hasTypes())m(t,x.l.Region.value,!0);else{var o=i.getModel();if(!o)return;var n=I.a.getFoldingRules(o.getLanguageIdentifier().id);if(n&&n.markers&&n.markers.start)f(t,new RegExp(n.markers.start),!0)}},t}(B),Y=function(e){function t(){return e.call(this,{id:"editor.unfoldAllMarkerRegions",label:o.a("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:Object(a.a)(2089,2078),weight:100}})||this}return k(t,e),t.prototype.invoke=function(e,t,i){if(t.regions.hasTypes())m(t,x.l.Region.value,!1);else{var o=i.getModel();if(!o)return;var n=I.a.getFoldingRules(o.getLanguageIdentifier().id);if(n&&n.markers&&n.markers.start)f(t,new RegExp(n.markers.start),!1)}},t}(B),Q=function(e){function t(){return e.call(this,{id:"editor.foldAll",label:o.a("foldAllAction.label","Fold All"),alias:"Fold All",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:Object(a.a)(2089,2069),weight:100}})||this}return k(t,e),t.prototype.invoke=function(e,t,i){p(t,!0)},t}(B),$=function(e){function t(){return e.call(this,{id:"editor.unfoldAll",label:o.a("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:Object(a.a)(2089,2088),weight:100}})||this}return k(t,e),t.prototype.invoke=function(e,t,i){p(t,!1)},t}(B),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(t.ID_PREFIX.length))},t.prototype.invoke=function(e,t,i){!function(e,t,i,o){var n=e.getRegionsInside(null,(function(e,n){return n===t&&e.isCollapsed!==i&&!o.some((function(t){return e.containsLine(t)}))}));e.toggleCollapseState(n)}(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))},t.ID_PREFIX="editor.foldLevel",t.ID=function(e){return t.ID_PREFIX+e},t}(B);Object(l.h)(V.ID,V),Object(l.f)(U),Object(l.f)(q),Object(l.f)(Z),Object(l.f)(z),Object(l.f)(Q),Object(l.f)($),Object(l.f)(G),Object(l.f)(X),Object(l.f)(Y),Object(l.f)(K);for(var ee=1;ee<=7;ee++)Object(l.i)(new J({id:J.ID(ee),label:o.a("foldLevelAction.label","Fold Level {0}",ee),alias:"Fold Level "+ee,precondition:j,kbOpts:{kbExpr:y.a.editorTextFocus,primary:Object(a.a)(2089,2048|21+ee),weight:100}}))},413:function(e,t,i){"use strict";i.r(t);i(656);var o=i(2),n=i(15),r=i(5),s=i(10),a=i(3),d=i(24),l=function(){function e(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}return e.prototype.getEditOperations=function(e,t){var i=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new a.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new d.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new d.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new d.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new d.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new d.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection},e.prototype.computeCursorState=function(e,t){return this.targetSelection},e}(),c=i(31);i.d(t,"DragAndDropController",(function(){return g}));var u=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();function h(e){return n.e?e.altKey:e.ctrlKey}var g=function(e){function t(t){var i=e.call(this)||this;return i._editor=t,i._register(i._editor.onMouseDown((function(e){return i._onEditorMouseDown(e)}))),i._register(i._editor.onMouseUp((function(e){return i._onEditorMouseUp(e)}))),i._register(i._editor.onMouseDrag((function(e){return i._onEditorMouseDrag(e)}))),i._register(i._editor.onMouseDrop((function(e){return i._onEditorMouseDrop(e)}))),i._register(i._editor.onKeyDown((function(e){return i.onEditorKeyDown(e)}))),i._register(i._editor.onKeyUp((function(e){return i.onEditorKeyUp(e)}))),i._register(i._editor.onDidBlurEditorWidget((function(){return i.onEditorBlur()}))),i._dndDecorationIds=[],i._mouseDown=!1,i._modifierPressed=!1,i._dragSelection=null,i}return u(t,e),t.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1},t.prototype.onEditorKeyDown=function(e){this._editor.getOption(23)&&(h(e)&&(this._modifierPressed=!0),this._mouseDown&&h(e)&&this._editor.updateOptions({mouseStyle:"copy"}))},t.prototype.onEditorKeyUp=function(e){this._editor.getOption(23)&&(h(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===t.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},t.prototype._onEditorMouseDown=function(e){this._mouseDown=!0},t.prototype._onEditorMouseUp=function(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},t.prototype._onEditorMouseDrag=function(e){var t=e.target;if(null===this._dragSelection){var i=(this._editor.getSelections()||[]).filter((function(e){return t.position&&e.containsPosition(t.position)}));if(1!==i.length)return;this._dragSelection=i[0]}h(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))},t.prototype._onEditorMouseDrop=function(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){var i=new s.a(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){var o=null;if(e.event.shiftKey){var n=this._editor.getSelection();if(n){var r=n.selectionStartLineNumber,a=n.selectionStartColumn;o=[new d.a(r,a,i.lineNumber,i.column)]}}else o=(this._editor.getSelections()||[]).map((function(e){return e.containsPosition(i)?new d.a(i.lineNumber,i.column,i.lineNumber,i.column):e}));this._editor.setSelections(o||[],"mouse")}else(!this._dragSelection.containsPosition(i)||(h(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(i)||this._dragSelection.getStartPosition().equals(i)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(t.ID,new l(this._dragSelection,i,h(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},t.prototype.showAt=function(e){var i=[{range:new a.a(e.lineNumber,e.column,e.lineNumber,e.column),options:t._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,i),this._editor.revealPosition(e,1)},t.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},t.prototype._hitContent=function(e){return 6===e.type||7===e.type},t.prototype._hitMargin=function(e){return 2===e.type||3===e.type||4===e.type},t.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,e.prototype.dispose.call(this)},t.ID="editor.contrib.dragAndDrop",t.TRIGGER_KEY_VALUE=n.e?6:5,t._DECORATION_OPTIONS=c.a.register({className:"dnd-target"}),t}(o.a);Object(r.h)(g.ID,g)},428:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return p}));var o=i(17),n=i(33),r=i(137),s=i(13),a=i(71),d=i(12),l=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),c=function(){function e(){}return e.prototype.remove=function(){this.parent&&delete this.parent.children[this.id]},e.findId=function(e,t){var i;"string"===typeof e?i=t.id+"/"+e:(i=t.id+"/"+e.name,void 0!==t.children[i]&&(i=t.id+"/"+e.name+"_"+e.range.startLineNumber+"_"+e.range.startColumn));for(var o=i,n=0;void 0!==t.children[o];n++)o=i+"_"+n;return o},e.empty=function(e){for(var t in e.children)return!1;return!0},e}(),u=function(e){function t(t,i,o){var n=e.call(this)||this;return n.id=t,n.parent=i,n.symbol=o,n.children=Object.create(null),n}return l(t,e),t}(c),h=function(e){function t(t,i,o,n){var r=e.call(this)||this;return r.id=t,r.parent=i,r.provider=o,r.providerIndex=n,r.children=Object.create(null),r}return l(t,e),t}(c),g=function(){function e(){this._n=1,this._val=0}return e.prototype.update=function(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this},e}(),p=function(e){function t(t){var i=e.call(this)||this;return i.textModel=t,i.id="root",i.parent=void 0,i._groups=Object.create(null),i.children=Object.create(null),i.id="root",i.parent=void 0,i}return l(t,e),t.create=function(e,i){var o=this,r=this._keys.for(e,!0),s=t._requests.get(r);if(!s){var a=new n.b;s={promiseCnt:0,source:a,promise:t._create(e,a.token),model:void 0},t._requests.set(r,s);var d=Date.now();s.promise.then((function(){var t=o._keys.for(e,!1),i=o._requestDurations.get(t);i||(i=new g,o._requestDurations.set(t,i)),i.update(Date.now()-d)}))}return s.model?Promise.resolve(s.model):(s.promiseCnt+=1,i.onCancellationRequested((function(){0===--s.promiseCnt&&(s.source.cancel(),t._requests.delete(r))})),new Promise((function(e,i){s.promise.then((function(t){s.model=t,e(t)}),(function(e){t._requests.delete(r),i(e)}))})))},t._create=function(e,i){var r=new n.b(i),a=new t(e),l=d.k.ordered(e),u=l.map((function(e,i){var o=c.findId("provider_"+i,a),n=new h(o,a,e,i);return Promise.resolve(e.provideDocumentSymbols(a.textModel,r.token)).then((function(e){for(var i=0,o=e||[];i<o.length;i++){var r=o[i];t._makeOutlineElement(r,n)}return n}),(function(e){return Object(s.f)(e),n})).then((function(e){c.empty(e)?e.remove():a._groups[o]=e}))})),g=d.k.onDidChange((function(){var t=d.k.ordered(e);Object(o.g)(t,l)||r.cancel()}));return Promise.all(u).then((function(){return r.token.isCancellationRequested&&!i.isCancellationRequested?t._create(e,i):a._compact()})).finally((function(){g.dispose()}))},t._makeOutlineElement=function(e,i){var o=c.findId(e,i),n=new u(o,i,e);if(e.children)for(var r=0,s=e.children;r<s.length;r++){var a=s[r];t._makeOutlineElement(a,n)}i.children[n.id]=n},t.prototype._compact=function(){var e=0;for(var t in this._groups){var i=this._groups[t];void 0===Object(r.b)(i.children)?delete this._groups[t]:e+=1}if(1!==e)this.children=this._groups;else{i=Object(r.b)(this._groups);for(var t in i.children){var o=i.children[t];o.parent=this,this.children[o.id]=o}}return this},t._requestDurations=new a.a(50,.7),t._requests=new a.a(9,.75),t._keys=new(function(){function e(){this._counter=1,this._data=new WeakMap}return e.prototype.for=function(e,t){return e.id+"/"+(t?e.getVersionId():"")+"/"+this._hash(d.k.all(e))},e.prototype._hash=function(e){for(var t="",i=0,o=e;i<o.length;i++){var n=o[i],r=this._data.get(n);"undefined"===typeof r&&(r=this._counter++,this._data.set(n,r)),t+=r}return t},e}()),t}(c)},455:function(e,t,i){"use strict";i(747),i(749);var o=i(0),n=i(19),r=i(4),s=Object(r.Tb)("symbolIcon.arrayForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=Object(r.Tb)("symbolIcon.booleanForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=Object(r.Tb)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(o.a)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=Object(r.Tb)("symbolIcon.colorForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=Object(r.Tb)("symbolIcon.constantForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=Object(r.Tb)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(o.a)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h=Object(r.Tb)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(o.a)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=Object(r.Tb)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=Object(r.Tb)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(o.a)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=Object(r.Tb)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=Object(r.Tb)("symbolIcon.fileForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=Object(r.Tb)("symbolIcon.folderForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=Object(r.Tb)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(o.a)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=Object(r.Tb)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=Object(r.Tb)("symbolIcon.keyForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=Object(r.Tb)("symbolIcon.keywordForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=Object(r.Tb)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(o.a)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=Object(r.Tb)("symbolIcon.moduleForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=Object(r.Tb)("symbolIcon.namespaceForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=Object(r.Tb)("symbolIcon.nullForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=Object(r.Tb)("symbolIcon.numberForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=Object(r.Tb)("symbolIcon.objectForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=Object(r.Tb)("symbolIcon.operatorForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=Object(r.Tb)("symbolIcon.packageForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=Object(r.Tb)("symbolIcon.propertyForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=Object(r.Tb)("symbolIcon.referenceForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=Object(r.Tb)("symbolIcon.snippetForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=Object(r.Tb)("symbolIcon.stringForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=Object(r.Tb)("symbolIcon.structForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=Object(r.Tb)("symbolIcon.textForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=Object(r.Tb)("symbolIcon.typeParameterForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=Object(r.Tb)("symbolIcon.unitForeground",{dark:r.W,light:r.W,hc:r.W},Object(o.a)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=Object(r.Tb)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Object(n.e)((function(e,t){var i=e.getColor(s);i&&t.addRule(".codicon-symbol-array { color: "+i+" !important; }");var o=e.getColor(a);o&&t.addRule(".codicon-symbol-boolean { color: "+o+" !important; }");var n=e.getColor(d);n&&t.addRule(".codicon-symbol-class { color: "+n+" !important; }");var r=e.getColor(S);r&&t.addRule(".codicon-symbol-method { color: "+r+" !important; }");var j=e.getColor(l);j&&t.addRule(".codicon-symbol-color { color: "+j+" !important; }");var V=e.getColor(c);V&&t.addRule(".codicon-symbol-constant { color: "+V+" !important; }");var B=e.getColor(u);B&&t.addRule(".codicon-symbol-constructor { color: "+B+" !important; }");var H=e.getColor(h);H&&t.addRule("\n\t\t\t.codicon-symbol-value,.codicon-symbol-enum { color: "+H+" !important; }");var U=e.getColor(g);U&&t.addRule(".codicon-symbol-enum-member { color: "+U+" !important; }");var q=e.getColor(p);q&&t.addRule(".codicon-symbol-event { color: "+q+" !important; }");var Z=e.getColor(_);Z&&t.addRule(".codicon-symbol-field { color: "+Z+" !important; }");var K=e.getColor(f);K&&t.addRule(".codicon-symbol-file { color: "+K+" !important; }");var z=e.getColor(m);z&&t.addRule(".codicon-symbol-folder { color: "+z+" !important; }");var G=e.getColor(b);G&&t.addRule(".codicon-symbol-function { color: "+G+" !important; }");var X=e.getColor(v);X&&t.addRule(".codicon-symbol-interface { color: "+X+" !important; }");var Y=e.getColor(y);Y&&t.addRule(".codicon-symbol-key { color: "+Y+" !important; }");var Q=e.getColor(C);Q&&t.addRule(".codicon-symbol-keyword { color: "+Q+" !important; }");var $=e.getColor(R);$&&t.addRule(".codicon-symbol-module { color: "+$+" !important; }");var J=e.getColor(w);J&&t.addRule(".codicon-symbol-namespace { color: "+J+" !important; }");var ee=e.getColor(I);ee&&t.addRule(".codicon-symbol-null { color: "+ee+" !important; }");var te=e.getColor(O);te&&t.addRule(".codicon-symbol-number { color: "+te+" !important; }");var ie=e.getColor(N);ie&&t.addRule(".codicon-symbol-object { color: "+ie+" !important; }");var oe=e.getColor(x);oe&&t.addRule(".codicon-symbol-operator { color: "+oe+" !important; }");var ne=e.getColor(F);ne&&t.addRule(".codicon-symbol-package { color: "+ne+" !important; }");var re=e.getColor(M);re&&t.addRule(".codicon-symbol-property { color: "+re+" !important; }");var se=e.getColor(D);se&&t.addRule(".codicon-symbol-reference { color: "+se+" !important; }");var ae=e.getColor(E);ae&&t.addRule(".codicon-symbol-snippet { color: "+ae+" !important; }");var de=e.getColor(L);de&&t.addRule(".codicon-symbol-string { color: "+de+" !important; }");var le=e.getColor(P);le&&t.addRule(".codicon-symbol-struct { color: "+le+" !important; }");var ce=e.getColor(T);ce&&t.addRule(".codicon-symbol-text { color: "+ce+" !important; }");var ue=e.getColor(k);ue&&t.addRule(".codicon-symbol-type-parameter { color: "+ue+" !important; }");var he=e.getColor(A);he&&t.addRule(".codicon-symbol-unit { color: "+he+" !important; }");var ge=e.getColor(W);ge&&t.addRule(".codicon-symbol-variable { color: "+ge+" !important; }")}))},656:function(e,t,i){},660:function(e,t,i){},667:function(e,t,i){},747:function(e,t,i){},749:function(e,t,i){}}]);
//# sourceMappingURL=26.06177f3d.chunk.js.map