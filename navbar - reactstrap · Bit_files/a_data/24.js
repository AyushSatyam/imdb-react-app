(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{170:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return g}));var i=n(17),o=n(33),r=n(13),a=n(5),s=n(12),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},u=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};function l(e,t,n,o){var a=n.ordered(e).map((function(n){return Promise.resolve(o(n,e,t)).then(void 0,(function(e){Object(r.f)(e)}))}));return Promise.all(a).then(i.m).then(i.d)}function d(e,t,n){return l(e,t,s.f,(function(e,t,i){return e.provideDefinition(t,i,n)}))}function h(e,t,n){return l(e,t,s.e,(function(e,t,i){return e.provideDeclaration(t,i,n)}))}function p(e,t,n){return l(e,t,s.o,(function(e,t,i){return e.provideImplementation(t,i,n)}))}function f(e,t,n){return l(e,t,s.B,(function(e,t,i){return e.provideTypeDefinition(t,i,n)}))}function g(e,t,n,i){var o=this;return l(e,t,s.s,(function(e,t,r){return c(o,void 0,void 0,(function(){var o,a;return u(this,(function(s){switch(s.label){case 0:return[4,e.provideReferences(t,r,{includeDeclaration:!0},i)];case 1:return o=s.sent(),n&&o&&2===o.length?[4,e.provideReferences(t,r,{includeDeclaration:!1},i)]:[2,o];case 2:return(a=s.sent())&&1===a.length?[2,a]:[2,o]}}))}))}))}Object(a.e)("_executeDefinitionProvider",(function(e,t){return d(e,t,o.a.None)})),Object(a.e)("_executeDeclarationProvider",(function(e,t){return h(e,t,o.a.None)})),Object(a.e)("_executeImplementationProvider",(function(e,t){return p(e,t,o.a.None)})),Object(a.e)("_executeTypeDefinitionProvider",(function(e,t){return f(e,t,o.a.None)})),Object(a.e)("_executeReferenceProvider",(function(e,t){return g(e,t,!1,o.a.None)}))},231:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(6),r=n(2),a=n(11),s=n(62),c=n(3),u=n(5),l=n(19),d=n(8),h=(n(669),n(1)),p=n(4),f=n(14),g=n(99),m=n(196),v=n(17),_=n(69),b=n(48),y=n(548),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C=function(){function e(e,t,n){var i=this;this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new r.b,this._editor=t;var o=document.createElement("div");o.className="descriptioncontainer",o.setAttribute("aria-live","assertive"),o.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),h.f(this._messageBlock,"message"),o.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),o.appendChild(this._relatedBlock),this._disposables.add(h.o(this._relatedBlock,"click",(function(e){e.preventDefault();var t=i._relatedDiagnostics.get(e.target);t&&n(t)}))),this._scrollable=new g.b(o,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((function(e){o.style.left="-"+e.scrollLeft+"px",o.style.top="-"+e.scrollTop+"px"}))),this._disposables.add(this._scrollable)}return e.prototype.dispose=function(){Object(r.f)(this._disposables)},e.prototype.update=function(e){var t=e.source,n=e.message,i=e.relatedInformation,o=e.code,r=n.split(/\r\n|\r|\n/g);this._lines=r.length,this._longestLineLength=0;for(var a=0,s=r;a<s.length;a++){var c=s[a];this._longestLineLength=Math.max(c.length,this._longestLineLength)}h.t(this._messageBlock),this._editor.applyFontInfo(this._messageBlock);for(var u=this._messageBlock,l=0,d=r;l<d.length;l++){c=d[l];(u=document.createElement("div")).innerText=c,""===c&&(u.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(u)}if(t||o){var p=document.createElement("span");if(h.f(p,"details"),u.appendChild(p),t){var f=document.createElement("span");f.innerText=t,h.f(f,"source"),p.appendChild(f)}if(o){var g=document.createElement("span");g.innerText="("+o+")",h.f(g,"code"),p.appendChild(g)}}if(h.t(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(v.q)(i)){var _=this._relatedBlock.appendChild(document.createElement("div"));_.style.paddingTop=Math.floor(.66*this._editor.getOption(47))+"px",this._lines+=1;for(var b=0,y=i;b<y.length;b++){var w=y[b],C=document.createElement("div"),O=document.createElement("a");h.f(O,"filename"),O.innerHTML=Object(m.a)(w.resource)+"("+w.startLineNumber+", "+w.startColumn+"): ",O.title=Object(m.b)(w.resource,void 0),this._relatedDiagnostics.set(O,w);var k=document.createElement("span");k.innerText=w.message,C.appendChild(O),C.appendChild(k),this._lines+=1,_.appendChild(C)}}var L=this._editor.getOption(32),M=Math.ceil(L.typicalFullwidthCharacterWidth*this._longestLineLength*.75),D=L.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:M,scrollHeight:D})},e.prototype.layout=function(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.getDomNode().style.width=t+"px",this._scrollable.setScrollDimensions({width:t,height:e})},e.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},e}(),O=function(e){function t(t,n,i){var a=e.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return a.actions=n,a._themeService=i,a._callOnDispose=new r.b,a._onDidSelectRelatedInformation=new o.a,a.onDidSelectRelatedInformation=a._onDidSelectRelatedInformation.event,a._severity=s.c.Warning,a._backgroundColor=f.a.white,a._applyTheme(i.getTheme()),a._callOnDispose.add(i.onThemeChange(a._applyTheme.bind(a))),a.create(),a}return w(t,e),t.prototype._applyTheme=function(e){this._backgroundColor=e.getColor(x);var t=D;this._severity===s.c.Warning?t=N:this._severity===s.c.Info&&(t=S);var n=e.getColor(t);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(_.q),secondaryHeadingColor:e.getColor(_.r)})},t.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),e.prototype._applyStyles.call(this)},t.prototype.dispose=function(){this._callOnDispose.dispose(),e.prototype.dispose.call(this)},t.prototype._fillHead=function(t){e.prototype._fillHead.call(this,t),this._actionbarWidget.push(this.actions,{label:!1,icon:!0})},t.prototype._fillTitleIcon=function(e){this._icon=h.q(e,h.a(""))},t.prototype._getActionBarOptions=function(){return{orientation:1}},t.prototype._fillBody=function(e){var t=this;this._parentContainer=e,h.f(e,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new C(this._container,this.editor,(function(e){return t._onDidSelectRelatedInformation.fire(e)})),this._disposables.add(this._message)},t.prototype.show=function(e,t){throw new Error("call showAtMarker")},t.prototype.showAtMarker=function(t,n,o){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getTheme());var r=c.a.lift(t),a=this.editor.getPosition(),u=a&&r.containsPosition(a)?a:r.getStartPosition();e.prototype.show.call(this,u,this.computeRequiredHeight());var l=this.editor.getModel();if(l){var d=o>1?i.a("problems","{0} of {1} problems",n,o):i.a("change","{0} of {1} problem",n,o);this.setTitle(Object(b.b)(l.uri),d)}this._icon.className="codicon "+y.a.className(s.c.toSeverity(this._severity)),this.editor.revealPositionInCenter(u,0)},t.prototype.updateMarker=function(e){this._container.classList.remove("stale"),this._message.update(e)},t.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},t.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n),this._heightInPixel=t,this._message.layout(t,n),this._container.style.height=t+"px"},t.prototype._onWidth=function(e){this._message.layout(this._heightInPixel,e)},t.prototype._relayout=function(){e.prototype._relayout.call(this,this.computeRequiredHeight())},t.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()},t}(_.c),k=Object(p.Kb)(p.q,p.p),L=Object(p.Kb)(p.P,p.O),M=Object(p.Kb)(p.H,p.G),D=Object(p.Tb)("editorMarkerNavigationError.background",{dark:k,light:k,hc:k},i.a("editorMarkerNavigationError","Editor marker navigation widget error color.")),N=Object(p.Tb)("editorMarkerNavigationWarning.background",{dark:L,light:L,hc:L},i.a("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),S=Object(p.Tb)("editorMarkerNavigationInfo.background",{dark:M,light:M,hc:M},i.a("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),x=Object(p.Tb)("editorMarkerNavigation.background",{dark:"#2D2D30",light:f.a.white,hc:"#0C141F"},i.a("editorMarkerNavigationBackground","Editor marker navigation widget background."));Object(l.e)((function(e,t){var n=e.getColor(p.ec);n&&t.addRule(".monaco-editor .marker-widget a { color: "+n+"; }")}));var P=n(9),I=n(43),E=n(13),R=n(83),j=n(85),T=n(54);n.d(t,"MarkerController",(function(){return B})),n.d(t,"NextMarkerAction",(function(){return G}));var A=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},W=function(e,t){return function(n,i){t(n,i,e)}},U=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},K=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},V=function(){function e(e,t){var n=this;this._toUnbind=new r.b,this._editor=e,this._markers=[],this._nextIdx=-1,this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new o.a,this._onMarkerSetChanged=new o.a,this.setMarkers(t),this._toUnbind.add(this._editor.onDidDispose((function(){return n.dispose()}))),this._toUnbind.add(this._editor.onDidChangeCursorPosition((function(){n._ignoreSelectionChange||n.currentMarker&&n._editor.getPosition()&&c.a.containsPosition(n.currentMarker,n._editor.getPosition())||(n._nextIdx=-1)})))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){var t=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=e||[],this._markers.sort(H.compareMarker),this._nextIdx=t?Math.max(-1,Object(v.c)(this._markers,t,H.compareMarker)):-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype._initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),i=0;i<this._markers.length;i++){var o=c.a.lift(this._markers[i]);if(o.isEmpty()&&this._editor.getModel()){var r=this._editor.getModel().getWordAtPosition(o.getStartPosition());r&&(o=new c.a(o.startLineNumber,r.startColumn,o.startLineNumber,r.endColumn))}if(n&&(o.containsPosition(n)||n.isBeforeOrEqual(o.getStartPosition()))){this._nextIdx=i,t=!0;break}}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(e.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},set:function(e){var t=this._nextIdx;this._nextIdx=-1,e&&(this._nextIdx=this.indexOf(e)),this._nextIdx!==t&&this._onCurrentMarkerChanged.fire(e)},enumerable:!0,configurable:!0}),e.prototype.move=function(e,t){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!t;var n=this._nextIdx,i=!1;if(-1===this._nextIdx?this._initIdx(e):e?t||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:i=!0:e||(t||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:i=!0),n!==this._nextIdx){var o=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(o)}return i},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.findMarkerAtPosition=function(e){return Object(v.h)(this._markers,(function(t){return c.a.containsPosition(t,e)}))},Object.defineProperty(e.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},e.prototype.dispose=function(){this._toUnbind.dispose()},e}(),B=function(){function e(e,t,n,i,o,a){this._markerService=t,this._contextKeyService=n,this._themeService=i,this._editorService=o,this._keybindingService=a,this._model=null,this._widget=null,this._disposeOnClose=new r.b,this._editor=e,this._widgetVisible=J.bindTo(this._contextKeyService)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._cleanUp(),this._disposeOnClose.dispose()},e.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose.clear(),this._widget=null,this._model=null},e.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();this._model=new V(this._editor,t),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose);var n=this._keybindingService.lookupKeybinding(q.ID),i=this._keybindingService.lookupKeybinding(G.ID),o=[new j.a(q.ID,q.LABEL+(n?" ("+n.getLabel()+")":""),"show-previous-problem codicon-chevron-up",this._model.canNavigate(),(function(){return U(e,void 0,void 0,(function(){return K(this,(function(e){return this._model&&this._model.move(!1,!0),[2]}))}))})),new j.a(G.ID,G.LABEL+(i?" ("+i.getLabel()+")":""),"show-next-problem codicon-chevron-down",this._model.canNavigate(),(function(){return U(e,void 0,void 0,(function(){return K(this,(function(e){return this._model&&this._model.move(!0,!0),[2]}))}))}))];this._widget=new O(this._editor,o,this._themeService),this._widgetVisible.set(!0),this._widget.onDidClose((function(){return e.closeMarkersNavigation()}),this,this._disposeOnClose),this._disposeOnClose.add(this._model),this._disposeOnClose.add(this._widget);for(var r=0,a=o;r<a.length;r++){var s=a[r];this._disposeOnClose.add(s)}return this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation((function(t){e._editorService.openCodeEditor({resource:t.resource,options:{pinned:!0,revealIfOpened:!0,selection:c.a.lift(t).collapseToStart()}},e._editor).then(void 0,E.e),e.closeMarkersNavigation(!1)}))),this._disposeOnClose.add(this._editor.onDidChangeModel((function(){return e._cleanUp()}))),this._disposeOnClose.add(this._model.onCurrentMarkerChanged((function(t){t&&e._model?e._model.withoutWatchingEditorPosition((function(){e._widget&&e._model&&e._widget.showAtMarker(t,e._model.indexOf(t),e._model.total)})):e._cleanUp()}))),this._disposeOnClose.add(this._model.onMarkerSetChanged((function(){if(e._widget&&e._widget.position&&e._model){var t=e._model.findMarkerAtPosition(e._widget.position);t?e._widget.updateMarker(t):e._widget.showStale()}}))),this._model},e.prototype.closeMarkersNavigation=function(e){void 0===e&&(e=!0),this._cleanUp(),e&&this._editor.focus()},e.prototype.show=function(e){this.getOrCreateModel().currentMarker=e},e.prototype._onMarkerChanged=function(e){var t=this._editor.getModel();t&&this._model&&e.some((function(e){return Object(b.e)(t.uri,e)}))&&this._model.setMarkers(this._getMarkers())},e.prototype._getMarkers=function(){var e=this._editor.getModel();return e?this._markerService.read({resource:e.uri,severities:s.c.Error|s.c.Warning|s.c.Info}):[]},e.ID="editor.contrib.markerController",e=F([W(1,s.b),W(2,a.c),W(3,l.c),W(4,I.a),W(5,T.a)],e)}(),H=function(e){function t(t,n,i){var o=e.call(this,i)||this;return o._isNext=t,o._multiFile=n,o}return A(t,e),t.prototype.run=function(e,n){var i=this,o=e.get(s.b),r=e.get(I.a),a=B.get(n);if(!a)return Promise.resolve(void 0);var c=a.getOrCreateModel();if(!c.move(this._isNext,!this._multiFile)||!this._multiFile)return Promise.resolve(void 0);var u=o.read({severities:s.c.Error|s.c.Warning|s.c.Info}).sort(t.compareMarker);if(0===u.length)return Promise.resolve(void 0);var l=n.getModel();if(!l)return Promise.resolve(void 0);var d=c.currentMarker||{resource:l.uri,severity:s.c.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},h=Object(v.c)(u,d,t.compareMarker);h<0?(h=~h,h%=u.length):h=this._isNext?(h+1)%u.length:(h+u.length-1)%u.length;var p=u[h];return Object(b.e)(p.resource,l.uri)?(c.move(this._isNext,!0),Promise.resolve(void 0)):(a.closeMarkersNavigation(),r.openCodeEditor({resource:p.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:p}},n).then((function(e){if(e)return e.getAction(i.id).run()})))},t.compareMarker=function(e,t){var n=Object(P.e)(e.resource.toString(),t.resource.toString());return 0===n&&(n=s.c.compare(e.severity,t.severity)),0===n&&(n=c.a.compareRangesUsingStarts(e,t)),n},t}(u.b),G=function(e){function t(){return e.call(this,!0,!1,{id:t.ID,label:t.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:578,weight:100}})||this}return A(t,e),t.ID="editor.action.marker.next",t.LABEL=i.a("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),t}(H),q=function(e){function t(){return e.call(this,!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:1602,weight:100}})||this}return A(t,e),t.ID="editor.action.marker.prev",t.LABEL=i.a("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),t}(H),z=function(e){function t(){return e.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:i.a("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:d.a.writable,kbOpts:{kbExpr:d.a.focus,primary:66,weight:100}})||this}return A(t,e),t}(H),Z=function(e){function t(){return e.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:i.a("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:d.a.writable,kbOpts:{kbExpr:d.a.focus,primary:1090,weight:100}})||this}return A(t,e),t}(H);Object(u.h)(B.ID,B),Object(u.f)(G),Object(u.f)(q),Object(u.f)(z),Object(u.f)(Z);var J=new a.d("markersNavigationVisible",!1),X=u.c.bindToContribution(B.get);Object(u.g)(new X({id:"closeMarkersNavigation",precondition:J,handler:function(e){return e.closeMarkersNavigation()},kbOpts:{weight:150,kbExpr:d.a.focus,primary:9,secondary:[1033]}})),R.c.appendMenuItem(17,{group:"6_problem_nav",command:{id:"editor.action.marker.nextInFiles",title:i.a({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem")},order:1}),R.c.appendMenuItem(17,{group:"6_problem_nav",command:{id:"editor.action.marker.prevInFiles",title:i.a({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem")},order:2})},252:function(e,t,n){"use strict";var i=n(0),o=n(13),r=n(2),a=n(43),s=n(20),c=n(11),u=n(50),l=n(111),d=n(76),h=(n(721),n(1)),p=n(14),f=n(6),g=n(44),m=n(48),v=n(274),_=n(3),b=n(31),y=n(141),w=n(239),C=n(551),O=n(190),k=n(19),L=n(161),M=n(196),D=n(54),N=n(81),S=n(178),x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t){return function(n,i){t(n,i,e)}},E=function(){function e(e){this._resolverService=e}return e.prototype.hasChildren=function(e){return e instanceof d.c||e instanceof d.a&&!e.failure},e.prototype.getChildren=function(e){if(e instanceof d.c)return e.groups;if(e instanceof d.a)return e.resolve(this._resolverService).then((function(e){return e.children}));throw new Error("bad tree")},e=P([I(0,y.a)],e)}(),R=function(){function e(){}return e.prototype.getHeight=function(){return 23},e.prototype.getTemplateId=function(e){return e instanceof d.a?F.id:U.id},e}(),j=function(){function e(e){this._keybindingService=e}return e.prototype.getKeyboardNavigationLabel=function(e){if(e instanceof d.b){var t=e.parent.preview,n=t&&t.preview(e.range);if(n)return n.value}return Object(m.b)(e.uri)},e=P([I(0,D.a)],e)}(),T=function(){function e(){}return e.prototype.getId=function(e){return e instanceof d.b?e.id:e.uri},e}(),A=function(e){function t(t,n,i){var o=e.call(this)||this;o._uriLabel=n;var r=document.createElement("div");return h.f(r,"reference-file"),o.file=o._register(new w.a(r,{supportHighlights:!0})),o.badge=new C.a(h.q(r,h.a(".count"))),o._register(Object(L.a)(o.badge,i)),t.appendChild(r),o}return x(t,e),t.prototype.set=function(e,t){var n=Object(m.d)(e.uri);this.file.setLabel(Object(M.a)(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});var o=e.children.length;this.badge.setCount(o),e.failure?this.badge.setTitleFormat(Object(i.a)("referencesFailre","Failed to resolve file.")):o>1?this.badge.setTitleFormat(Object(i.a)("referencesCount","{0} references",o)):this.badge.setTitleFormat(Object(i.a)("referenceCount","{0} reference",o))},t=P([I(1,O.a),I(2,k.c)],t)}(r.a),F=function(){function e(t){this._instantiationService=t,this.templateId=e.id}return e.prototype.renderTemplate=function(e){return this._instantiationService.createInstance(A,e)},e.prototype.renderElement=function(e,t,n){n.set(e.element,Object(N.c)(e.filterData))},e.prototype.disposeTemplate=function(e){e.dispose()},e.id="FileReferencesRenderer",e=P([I(0,s.a)],e)}(),W=function(){function e(e){this.label=new S.a(e,!1)}return e.prototype.set=function(e,t){var n=e.parent.preview,i=n&&n.preview(e.range);if(i){var o=i.value,r=i.highlight;t&&!N.a.isDefault(t)?(h.V(this.label.element,"referenceMatch",!1),this.label.set(o,Object(N.c)(t))):(h.V(this.label.element,"referenceMatch",!0),this.label.set(o,[r]))}else this.label.set(Object(m.b)(e.uri)+":"+(e.range.startLineNumber+1)+":"+(e.range.startColumn+1))},e}(),U=function(){function e(){this.templateId=e.id}return e.prototype.renderTemplate=function(e){return new W(e)},e.prototype.renderElement=function(e,t,n){n.set(e.element,e.filterData)},e.prototype.disposeTemplate=function(){},e.id="OneReferenceRenderer",e}(),K=function(){function e(){}return e.prototype.getAriaLabel=function(e){return e.ariaMessage},e}(),V=n(198),B=n(4),H=n(69),G=n(339),q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),z=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Z=function(e,t){return function(n,i){t(n,i,e)}},J=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},X=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},Q=function(){function e(e,t){var n=this;this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new r.b,this._callOnModelChange=new r.b,this._callOnDispose.add(this._editor.onDidChangeModel((function(){return n._onModelChanged()}))),this._onModelChanged()}return e.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()},e.prototype._onModelChanged=function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(e)for(var t=0,n=this._model.groups;t<n.length;t++){var i=n[t];if(Object(m.e)(i.uri,e.uri))return void this._addDecorations(i)}},e.prototype._addDecorations=function(t){var n=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((function(e){return n._onDecorationChanged()})));for(var i=[],o=[],r=0,a=t.children.length;r<a;r++){var s=t.children[r];this._decorationIgnoreSet.has(s.id)||(i.push({range:s.range,options:e.DecorationOptions}),o.push(r))}var c=this._editor.deltaDecorations([],i);for(r=0;r<c.length;r++)this._decorations.set(c[r],t.children[o[r]])}},e.prototype._onDecorationChanged=function(){var e=this,t=[],n=this._editor.getModel();if(n){this._decorations.forEach((function(i,o){var r=n.getDecorationRange(o);if(r){var a=!1;if(!_.a.equalsRange(r,i.range))_.a.spansMultipleLines(r)?a=!0:i.range.endColumn-i.range.startColumn!==r.endColumn-r.startColumn&&(a=!0),a?(e._decorationIgnoreSet.add(i.id),t.push(o)):i.range=r}}));for(var i=0,o=t.length;i<o;i++)this._decorations.delete(t[i]);this._editor.deltaDecorations(t,[])}},e.prototype.removeDecorations=function(){var e=[];this._decorations.forEach((function(t,n){e.push(n)})),this._editor.deltaDecorations(e,[]),this._decorations.clear()},e.DecorationOptions=b.a.register({stickiness:1,className:"reference-decoration"}),e}(),$=function(){function e(){this.ratio=.7,this.heightInLines=18}return e.fromJSON=function(e){var t,n;try{var i=JSON.parse(e);t=i.ratio,n=i.heightInLines}catch(o){}return{ratio:t||.7,heightInLines:n||18}},e}(),Y=function(e){function t(t,n,i,o,a,s,c,u){var l=e.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return l._defaultTreeKeyboardSupport=n,l.layoutData=i,l._textModelResolverService=a,l._instantiationService=s,l._peekViewService=c,l._uriLabel=u,l._disposeOnNewModel=new r.b,l._callOnDispose=new r.b,l._onDidSelectReference=new f.a,l.onDidSelectReference=l._onDidSelectReference.event,l._dim={height:0,width:0},l._applyTheme(o.getTheme()),l._callOnDispose.add(o.onThemeChange(l._applyTheme.bind(l))),l._peekViewService.addExclusiveWidget(t,l),l.create(),l}return q(t,e),t.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(r.f)(this._preview),Object(r.f)(this._previewNotAvailableMessage),Object(r.f)(this._tree),Object(r.f)(this._previewModelReference),this._splitView.dispose(),e.prototype.dispose.call(this)},t.prototype._applyTheme=function(e){var t=e.getColor(H.e)||p.a.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(H.p)||p.a.transparent,primaryHeadingColor:e.getColor(H.q),secondaryHeadingColor:e.getColor(H.r)})},t.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),e.prototype.show.call(this,t,this.layoutData.heightInLines||18)},t.prototype.focus=function(){this._tree.domFocus()},t.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})},t.prototype._fillBody=function(e){var t=this;this.setCssClass("reference-zone-widget"),this._messageContainer=h.q(e,h.a("div.messages")),h.H(this._messageContainer),this._splitView=new G.b(e,{orientation:1}),this._previewContainer=h.q(e,h.a("div.preview.inline"));this._preview=this._instantiationService.createInstance(v.a,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),h.H(this._previewContainer),this._previewNotAvailableMessage=b.b.createFromString(i.a("missingPreviewMessage","no preview available")),this._treeContainer=h.q(e,h.a("div.ref-tree.inline"));var n={ariaLabel:i.a("treeAriaLabel","References"),keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new K,keyboardNavigationLabelProvider:this._instantiationService.createInstance(j),identityProvider:new T,overrideStyles:{listBackground:H.j}};this._tree=this._instantiationService.createInstance(V.c,"ReferencesWidget",this._treeContainer,new R,[this._instantiationService.createInstance(F),this._instantiationService.createInstance(U)],this._instantiationService.createInstance(E),n),this._splitView.addView({onDidChange:f.b.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(e){t._preview.layout({height:t._dim.height,width:e})}},G.a.Distribute),this._splitView.addView({onDidChange:f.b.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(e){t._treeContainer.style.height=t._dim.height+"px",t._treeContainer.style.width=e+"px",t._tree.layout(t._dim.height,e)}},G.a.Distribute),this._disposables.add(this._splitView.onDidSashChange((function(){t._dim.width&&(t.layoutData.ratio=t._splitView.getViewSize(0)/t._dim.width)}),void 0));var o=function(e,n){e instanceof d.b&&("show"===n&&t._revealReference(e,!1),t._onDidSelectReference.fire({element:e,kind:n,source:"tree"}))};this._tree.onDidChangeFocus((function(e){o(e.elements[0],"show")})),this._tree.onDidOpen((function(e){e.browserEvent instanceof MouseEvent&&(e.browserEvent.ctrlKey||e.browserEvent.metaKey||e.browserEvent.altKey)?o(e.elements[0],"side"):e.browserEvent instanceof KeyboardEvent||e.browserEvent instanceof MouseEvent&&2===e.browserEvent.detail||2===e.browserEvent.tapCount?o(e.elements[0],"goto"):o(e.elements[0],"show")})),h.H(this._treeContainer)},t.prototype._onWidth=function(e){this._dim&&this._doLayoutBody(this._dim.height,e)},t.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n),this._dim={height:t,width:n},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)},t.prototype.setSelection=function(e){var t=this;return this._revealReference(e,!0).then((function(){t._model&&(t._tree.setSelection([e]),t._tree.setFocus([e]))}))},t.prototype.setModel=function(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()},t.prototype._onNewModel=function(){var e=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerHTML=i.a("noResults","No results"),h.U(this._messageContainer),Promise.resolve(void 0)):(h.H(this._messageContainer),this._decorationsManager=new Q(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((function(t){return e._tree.rerender(t)}))),this._disposeOnNewModel.add(this._preview.onMouseDown((function(t){var n=t.event,i=t.target;if(2===n.detail){var o=e._getFocusedReference();o&&e._onDidSelectReference.fire({element:{uri:o.uri,range:i.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})}}))),h.f(this.container,"results-loaded"),h.U(this._treeContainer),h.U(this._previewContainer),this._splitView.layout(this._dim.width),this.focus(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)},t.prototype._getFocusedReference=function(){var e=this._tree.getFocus()[0];return e instanceof d.b?e:e instanceof d.a&&e.children.length>0?e.children[0]:void 0},t.prototype._revealReference=function(e,t){return J(this,void 0,void 0,(function(){var n,o,a,s,c;return X(this,(function(u){switch(u.label){case 0:return this._revealedReference===e?[2]:(this._revealedReference=e,e.uri.scheme!==g.b.inMemory?this.setTitle(Object(m.c)(e.uri),this._uriLabel.getUriLabel(Object(m.d)(e.uri))):this.setTitle(i.a("peekView.alternateTitle","References")),n=this._textModelResolverService.createModelReference(e.uri),this._tree.getInput()!==e.parent?[3,1]:(this._tree.reveal(e),[3,3]));case 1:return t&&this._tree.reveal(e.parent),[4,this._tree.expand(e.parent)];case 2:u.sent(),this._tree.reveal(e),u.label=3;case 3:return[4,n];case 4:return o=u.sent(),this._model?(Object(r.f)(this._previewModelReference),(a=o.object)?(s=this._preview.getModel()===a.textEditorModel?0:1,c=_.a.lift(e.range).collapseToStart(),this._previewModelReference=o,this._preview.setModel(a.textEditorModel),this._preview.setSelection(c),this._preview.revealRangeInCenter(c,s)):(this._preview.setModel(this._previewNotAvailableMessage),o.dispose()),[2]):(o.dispose(),[2])}}))}))},t=z([Z(3,k.c),Z(4,y.a),Z(5,s.a),Z(6,H.a),Z(7,O.a)],t)}(H.c);Object(k.e)((function(e,t){var n=e.getColor(H.m);n&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: "+n+"; }");var i=e.getColor(H.h);i&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+i+"; }");var o=e.getColor(H.i);o&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+o+"; box-sizing: border-box; }");var r=e.getColor(B.b);r&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted "+r+"; box-sizing: border-box; }");var a=e.getColor(H.j);a&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+a+"; }");var s=e.getColor(H.l);s&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+s+"; }");var c=e.getColor(H.k);c&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+c+"; }");var u=e.getColor(H.n);u&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: "+u+"; }");var l=e.getColor(H.o);l&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: "+l+" !important; }");var d=e.getColor(H.f);d&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: "+d+";}");var h=e.getColor(H.g);h&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: "+h+";}")}));var ee=n(10),te=n(59),ne=n(18),ie=n(97);n.d(t,"a",(function(){return ue}));var oe=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},re=function(e,t){return function(n,i){t(n,i,e)}},ae=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},se=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},ce=new c.d("referenceSearchVisible",!1),ue=function(){function e(e,t,n,i,o,a,s,c){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=i,this._notificationService=o,this._instantiationService=a,this._storageService=s,this._configurationService=c,this._disposables=new r.b,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ce.bindTo(n)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._referenceSearchVisible.reset(),this._disposables.dispose(),Object(r.f)(this._widget),Object(r.f)(this._model),this._widget=void 0,this._model=void 0},e.prototype.toggleWidget=function(e,t,n){var o,r=this;if(this._widget&&(o=this._widget.position),this.closeWidget(),!o||!e.containsPosition(o)){this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){r.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((function(){r._ignoreModelChangeEvent||r.closeWidget()})));var a=$.fromJSON(this._storageService.get("peekViewLayout",0,"{}"));this._widget=this._instantiationService.createInstance(Y,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(i.a("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((function(){t.cancel(),r._widget&&(r._storageService.store("peekViewLayout",JSON.stringify(r._widget.layoutData),0),r._widget=void 0),r.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((function(e){var t=e.element,i=e.kind;if(t)switch(i){case"open":"editor"===e.source&&r._configurationService.getValue("editor.stablePeek")||r.openReference(t,!1);break;case"side":r.openReference(t,!0);break;case"goto":n?r._gotoReference(t):r.openReference(t,!1)}})));var s=++this._requestIdPool;t.then((function(t){if(s===r._requestIdPool&&r._widget)return r._model&&r._model.dispose(),r._model=t,r._widget.setModel(r._model).then((function(){if(r._widget&&r._model&&r._editor.hasModel()){r._model.isEmpty?r._widget.setMetaTitle(""):r._widget.setMetaTitle(i.a("metaTitle.N","{0} ({1})",r._model.title,r._model.references.length));var t=r._editor.getModel().uri,n=new ee.a(e.startLineNumber,e.startColumn),o=r._model.nearestReference(t,n);if(o)return r._widget.setSelection(o)}}))}),(function(e){r._notificationService.error(e)}))}},e.prototype.goToNextOrPreviousReference=function(e){return ae(this,void 0,void 0,(function(){var t,n,i,o;return se(this,(function(r){switch(r.label){case 0:return this._editor.hasModel()&&this._model&&this._widget&&((t=this._widget.position)&&(n=this._model.nearestReference(this._editor.getModel().uri,t)))?(i=this._model.nextOrPreviousReference(n,e),o=this._editor.hasTextFocus(),[4,this._widget.setSelection(i)]):[2];case 1:return r.sent(),[4,this._gotoReference(i)];case 2:return r.sent(),o&&this._editor.focus(),[2]}}))}))},e.prototype.closeWidget=function(){this._referenceSearchVisible.reset(),this._disposables.clear(),Object(r.f)(this._widget),Object(r.f)(this._model),this._widget=void 0,this._model=void 0,this._editor.focus(),this._requestIdPool+=1},e.prototype._gotoReference=function(t){var n=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var i=_.a.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i}},this._editor).then((function(t){var o;if(n._ignoreModelChangeEvent=!1,t&&n._widget)if(n._editor===t)n._widget.show(i),n._widget.focus();else{var r=e.get(t),a=n._model.clone();n.closeWidget(),t.focus(),r.toggleWidget(i,Object(ne.f)((function(e){return Promise.resolve(a)})),null!==(o=n._peekMode)&&void 0!==o&&o)}else n.closeWidget()}),(function(e){n._ignoreModelChangeEvent=!1,Object(o.e)(e)}))},e.prototype.openReference=function(e,t){t||this.closeWidget();var n=e.uri,i=e.range;this._editorService.openCodeEditor({resource:n,options:{selection:i}},this._editor,t)},e.ID="editor.contrib.referencesController",e=oe([re(2,c.c),re(3,a.a),re(4,te.a),re(5,s.a),re(6,l.a),re(7,u.a)],e)}();function le(e,t){var n=Object(H.d)(e);if(n){var i=ue.get(n);i&&t(i)}}ie.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:250,primary:62,secondary:[70],when:ce,handler:function(e){le(e,(function(e){e.goToNextOrPreviousReference(!0)}))}}),ie.a.registerCommandAndKeybindingRule({id:"goToNextReferenceFromEmbeddedEditor",weight:150,primary:62,secondary:[70],when:H.b.inPeekEditor,handler:function(e){le(e,(function(e){e.goToNextOrPreviousReference(!0)}))}}),ie.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:250,primary:1086,secondary:[1094],when:ce,handler:function(e){le(e,(function(e){e.goToNextOrPreviousReference(!1)}))}}),ie.a.registerCommandAndKeybindingRule({id:"goToPreviousReferenceFromEmbeddedEditor",weight:150,primary:1086,secondary:[1094],when:H.b.inPeekEditor,handler:function(e){le(e,(function(e){e.goToNextOrPreviousReference(!1)}))}}),ie.a.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:c.a.and(ce,c.a.not("config.editor.stablePeek")),handler:function(e){le(e,(function(e){return e.closeWidget()}))}}),ie.a.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:-1,primary:9,secondary:[1033],when:c.a.and(H.b.inPeekEditor,c.a.not("config.editor.stablePeek")),handler:function(e){le(e,(function(e){return e.closeWidget()}))}}),ie.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:c.a.and(ce,V.d),handler:function(e){var t,n=null===(t=e.get(V.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof d.b&&le(e,(function(e){return e.openReference(n[0],!0)}))}})},268:function(e,t,n){"use strict";n.r(t),n.d(t,"GotoDefinitionAtPositionEditorContribution",(function(){return O}));n(731);var i=n(0),o=n(18),r=n(13),a=n(103),s=n(123),c=n(3),u=n(12),l=n(5),d=n(170),h=n(2),p=n(141),f=n(19),g=n(4),m=n(102),v=n(269),_=n(311),b=n(10),y=n(23),w=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,i){t(n,i,e)}},O=function(){function e(e,t,n){var i=this;this.textModelResolverService=t,this.modeService=n,this.toUnhook=new h.b,this.toUnhookForKeyboard=new h.b,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;var o=new _.a(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown((function(e){var t=e[0],n=e[1];i.startFindDefinitionFromMouse(t,Object(y.n)(n))}))),this.toUnhook.add(o.onExecute((function(e){i.isEnabled(e)&&i.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((function(){i.removeLinkDecorations()}),(function(e){i.removeLinkDecorations(),Object(r.e)(e)}))}))),this.toUnhook.add(o.onCancel((function(){i.removeLinkDecorations(),i.currentWordAtPosition=null})))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.startFindDefinitionFromCursor=function(e){var t=this;return this.startFindDefinition(e).then((function(){t.toUnhookForKeyboard.add(t.editor.onDidChangeCursorPosition((function(){t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear()}))),t.toUnhookForKeyboard.add(t.editor.onKeyDown((function(e){e&&(t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear())})))}))},e.prototype.startFindDefinitionFromMouse=function(e,t){if(!(9===e.target.type&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();var n=e.target.position;this.startFindDefinition(n)}},e.prototype.startFindDefinition=function(e){var t,n=this;this.toUnhookForKeyboard.clear();var s=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!s)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===s.startColumn&&this.currentWordAtPosition.endColumn===s.endColumn&&this.currentWordAtPosition.word===s.word)return Promise.resolve(0);this.currentWordAtPosition=s;var u=new m.a(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(o.f)((function(t){return n.findDefinition(e,t)})),this.previousPromise.then((function(t){if(t&&t.length&&u.validate(n.editor))if(t.length>1)n.addDecoration(new c.a(e.lineNumber,s.startColumn,e.lineNumber,s.endColumn),(new a.a).appendText(i.a("multipleResults","Click to show {0} definitions.",t.length)));else{var o=t[0];if(!o.uri)return;n.textModelResolverService.createModelReference(o.uri).then((function(t){if(t.object&&t.object.textEditorModel){var i=t.object.textEditorModel,r=o.range.startLineNumber;if(r<1||r>i.getLineCount())t.dispose();else{var u,l=n.getPreviewValue(i,r,o);u=o.originSelectionRange?c.a.lift(o.originSelectionRange):new c.a(e.lineNumber,s.startColumn,e.lineNumber,s.endColumn);var d=n.modeService.getModeIdByFilepathOrFirstLine(i.uri);n.addDecoration(u,(new a.a).appendCodeblock(d||"",l)),t.dispose()}}else t.dispose()}))}else n.removeLinkDecorations()})).then(void 0,r.e)},e.prototype.getPreviewValue=function(t,n,i){var o=i.targetSelectionRange?i.range:this.getPreviewRangeBasedOnBrackets(t,n);return o.endLineNumber-o.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,n)),this.stripIndentationFromPreviewRange(t,n,o)},e.prototype.stripIndentationFromPreviewRange=function(e,t,n){for(var i=e.getLineFirstNonWhitespaceColumn(t),o=t+1;o<n.endLineNumber;o++){var r=e.getLineFirstNonWhitespaceColumn(o);i=Math.min(i,r)}return e.getValueInRange(n).replace(new RegExp("^\\s{"+(i-1)+"}","gm"),"").trim()},e.prototype.getPreviewRangeBasedOnIndentation=function(t,n){for(var i=t.getLineFirstNonWhitespaceColumn(n),o=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),r=n+1;r<o;r++){if(i===t.getLineFirstNonWhitespaceColumn(r))break}return new c.a(n,1,r+1,1)},e.prototype.getPreviewRangeBasedOnBrackets=function(t,n){for(var i=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),o=[],r=!0,a=t.findNextBracket(new b.a(n,1));null!==a;){if(0===o.length)o.push(a);else{var s=o[o.length-1];if(s.open[0]===a.open[0]&&s.isOpen&&!a.isOpen?o.pop():o.push(a),0===o.length){if(!r)return new c.a(n,1,a.range.endLineNumber+1,1);r=!1}}var u=t.getLineMaxColumn(n),l=a.range.endLineNumber,d=a.range.endColumn;if(u===a.range.endColumn&&(l++,d=1),l>i)return new c.a(n,1,i+1,1);a=t.findNextBracket(new b.a(l,d))}return new c.a(n,1,i+1,1)},e.prototype.addDecoration=function(e,t){var n={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[n])},e.prototype.removeLinkDecorations=function(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))},e.prototype.isEnabled=function(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&u.f.has(this.editor.getModel())},e.prototype.findDefinition=function(e,t){var n=this.editor.getModel();return n?Object(d.b)(n,e,t):Promise.resolve(null)},e.prototype.gotoDefinition=function(e,t){var n=this;this.editor.setPosition(e);var i=new v.DefinitionAction({openToSide:t,openInPeek:!1,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0});return this.editor.invokeWithinContext((function(e){return i.run(e,n.editor)}))},e.prototype.dispose=function(){this.toUnhook.dispose()},e.ID="editor.contrib.gotodefinitionatposition",e.MAX_SOURCE_PREVIEW_LINES=8,e=w([C(1,p.a),C(2,s.a)],e)}();Object(l.h)(O.ID,O),Object(f.e)((function(e,t){var n=e.getColor(g.n);n&&t.addRule(".monaco-editor .goto-definition-link { color: "+n+" !important; }")}))},269:function(e,t,n){"use strict";n.r(t);var i=n(72),o=n(18),r=n(46),a=n(15),s=n(138),c=n(5),u=n(43),l=n(10),d=n(3),h=n(8),p=n(12),f=n(167),g=n(69),m=n(252),v=n(76),_=n(0),b=n(83),y=n(11),w=n(59),C=n(134),O=n(170),k=n(40),L=n(102),M=n(20),D=n(147),N=n(97),S=n(2),x=n(6),P=n(54),I=n(48),E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},j=function(e,t){return function(n,i){t(n,i,e)}},T=new y.d("hasSymbols",!1),A=Object(M.c)("ISymbolNavigationService"),F=function(){function e(e,t,n,i){this._editorService=t,this._notificationService=n,this._keybindingService=i,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=T.bindTo(e)}return e.prototype.reset=function(){this._ctxHasSymbols.reset(),Object(S.f)(this._currentState),Object(S.f)(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1},e.prototype.put=function(e){var t=this,n=e.parent.parent;if(n.references.length<=1)this.reset();else{this._currentModel=n,this._currentIdx=n.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var i=new W(this._editorService),o=i.onDidChange((function(e){if(!t._ignoreEditorChange){var i=t._editorService.getActiveCodeEditor();if(i){var o=i.getModel(),r=i.getPosition();if(o&&r){for(var a=!1,s=!1,c=0,u=n.references;c<u.length;c++){var l=u[c];if(Object(I.e)(l.uri,o.uri))a=!0,s=s||d.a.containsPosition(l.range,r);else if(a)break}a&&s||t.reset()}}}}));this._currentState=Object(S.e)(i,o)}},e.prototype.revealNext=function(e){var t=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:d.a.collapseToStart(n.range),revealInCenterIfOutsideViewport:!0}},e).finally((function(){t._ignoreEditorChange=!1}))},e.prototype._showMessage=function(){Object(S.f)(this._currentMessage);var e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?Object(_.a)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):Object(_.a)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)},e=R([j(0,y.c),j(1,u.a),j(2,w.a),j(3,P.a)],e)}();Object(D.b)(A,F,!0),Object(c.g)(new(function(e){function t(){return e.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:T,kbOpts:{weight:100,primary:70}})||this}return E(t,e),t.prototype.runEditorCommand=function(e,t){return e.get(A).revealNext(t)},t}(c.c))),N.a.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:T,primary:9,handler:function(e){e.get(A).reset()}});var W=function(){function e(e){this._listener=new Map,this._disposables=new S.b,this._onDidChange=new x.a,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}return e.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),this._listener.forEach(S.f)},e.prototype._onDidAddEditor=function(e){var t=this;this._listener.set(e,Object(S.e)(e.onDidChangeCursorPosition((function(n){return t._onDidChange.fire({editor:e})})),e.onDidChangeModelContent((function(n){return t._onDidChange.fire({editor:e})}))))},e.prototype._onDidRemoveEditor=function(e){Object(S.f)(this._listener.get(e)),this._listener.delete(e)},e=R([j(0,u.a)],e)}(),U=n(25),K=n(28),V=n(23);n.d(t,"DefinitionAction",(function(){return te}));var B,H,G,q,z,Z,J,X,Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},Y=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};b.c.appendMenuItem(7,{submenu:8,title:_.a("peek.submenu","Peek"),group:"navigation",order:100});var ee=function(e){function t(t,n){var i=e.call(this,n)||this;return i._configuration=t,i}return Q(t,e),t.prototype.run=function(e,t){var n=this;if(!t.hasModel())return Promise.resolve(void 0);var r=e.get(w.a),a=e.get(u.a),s=e.get(C.a),c=e.get(A),l=t.getModel(),d=t.getPosition(),h=new L.b(t,5),p=Object(o.j)(this._getLocationModel(l,d,h.token),h.token).then((function(e){return $(n,void 0,void 0,(function(){var n,o,r,s;return Y(this,(function(u){if(!e||h.token.isCancellationRequested)return[2];if(Object(i.a)(e.ariaMessage),e.referenceAt(l.uri,d)&&(o=this._getAlternativeCommand(t))!==this.id&&(n=t.getAction(o)),0===(r=e.references.length))this._configuration.muteMessage||(s=l.getWordAtPosition(d),f.a.get(t).showMessage(this._getNoResultFoundMessage(s),d));else{if(1!==r||!n)return[2,this._onResult(a,c,t,e)];n.run()}return[2]}))}))}),(function(e){r.error(e)})).finally((function(){h.dispose()}));return s.showWhile(p,250),p},t.prototype._onResult=function(e,t,n,i){return $(this,void 0,void 0,(function(){var o,r,a,s;return Y(this,(function(c){switch(c.label){case 0:return o=this._getGoToPreference(n),this._configuration.openInPeek||"peek"===o&&i.references.length>1?(this._openInPeek(n,i),[3,3]):[3,1];case 1:return r=i.firstReference(),a=i.references.length>1&&"gotoAndPeek"===o,[4,this._openReference(n,e,r,this._configuration.openToSide,!a)];case 2:s=c.sent(),a&&s?this._openInPeek(s,i):i.dispose(),"goto"===o&&t.put(r),c.label=3;case 3:return[2]}}))}))},t.prototype._openReference=function(e,t,n,i,o){return $(this,void 0,void 0,(function(){var r,a,s,c;return Y(this,(function(u){switch(u.label){case 0:return r=void 0,Object(p.E)(n)&&(r=n.targetSelectionRange),r||(r=n.range),[4,t.openCodeEditor({resource:n.uri,options:{selection:d.a.collapseToStart(r),revealInCenterIfOutsideViewport:!0}},e,i)];case 1:return(a=u.sent())?(o&&(s=a.getModel(),c=a.deltaDecorations([],[{range:r,options:{className:"symbolHighlight"}}]),setTimeout((function(){a.getModel()===s&&a.deltaDecorations(c,[])}),350)),[2,a]):[2,void 0]}}))}))},t.prototype._openInPeek=function(e,t){var n=m.a.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),Object(o.f)((function(e){return Promise.resolve(t)})),this._configuration.openInPeek):t.dispose()},t}(c.b),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._getLocationModel=function(e,t,n){return $(this,void 0,void 0,(function(){var i;return Y(this,(function(o){switch(o.label){case 0:return i=v.c.bind,[4,Object(O.b)(e,t,n)];case 1:return[2,new(i.apply(v.c,[void 0,o.sent(),_.a("def.title","Definitions")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?_.a("noResultWord","No definition found for '{0}'",e.word):_.a("generic.noResults","No definition found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeDefinitionCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleDefinitions},t}(ee),ne=a.g&&!U.l?2118:70;Object(c.f)(((B=function(e){function t(){var n=e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.id,label:_.a("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:y.a.and(h.a.hasDefinitionProvider,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:ne,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:17,group:"4_symbol_nav",order:2,title:_.a({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}})||this;return k.a.registerCommandAlias("editor.action.goToDeclaration",t.id),n}return Q(t,e),t}(te)).id="editor.action.revealDefinition",B)),Object(c.f)(((H=function(e){function t(){var n=e.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:t.id,label:_.a("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:y.a.and(h.a.hasDefinitionProvider,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.a)(2089,ne),weight:100}})||this;return k.a.registerCommandAlias("editor.action.openDeclarationToTheSide",t.id),n}return Q(t,e),t}(te)).id="editor.action.revealDefinitionAside",H)),Object(c.f)(((G=function(e){function t(){var n=e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.id,label:_.a("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:y.a.and(h.a.hasDefinitionProvider,g.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:8,group:"peek",order:2}})||this;return k.a.registerCommandAlias("editor.action.previewDeclaration",t.id),n}return Q(t,e),t}(te)).id="editor.action.peekDefinition",G));var ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._getLocationModel=function(e,t,n){return $(this,void 0,void 0,(function(){var i;return Y(this,(function(o){switch(o.label){case 0:return i=v.c.bind,[4,Object(O.a)(e,t,n)];case 1:return[2,new(i.apply(v.c,[void 0,o.sent(),_.a("decl.title","Declarations")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?_.a("decl.noResultWord","No declaration found for '{0}'",e.word):_.a("decl.generic.noResults","No declaration found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeDeclarationCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleDeclarations},t}(ee);Object(c.f)(((q=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.id,label:_.a("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:y.a.and(h.a.hasDeclarationProvider,h.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:17,group:"4_symbol_nav",order:3,title:_.a({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})||this}return Q(t,e),t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?_.a("decl.noResultWord","No declaration found for '{0}'",e.word):_.a("decl.generic.noResults","No declaration found")},t}(ie)).id="editor.action.revealDeclaration",q)),Object(c.f)(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:_.a("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:y.a.and(h.a.hasDeclarationProvider,g.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:3}})||this}return Q(t,e),t}(ie));var oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._getLocationModel=function(e,t,n){return $(this,void 0,void 0,(function(){var i;return Y(this,(function(o){switch(o.label){case 0:return i=v.c.bind,[4,Object(O.e)(e,t,n)];case 1:return[2,new(i.apply(v.c,[void 0,o.sent(),_.a("typedef.title","Type Definitions")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?_.a("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):_.a("goToTypeDefinition.generic.noResults","No type definition found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeTypeDefinitionCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleTypeDefinitions},t}(ee);Object(c.f)(((z=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.ID,label:_.a("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:y.a.and(h.a.hasTypeDefinitionProvider,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:17,group:"4_symbol_nav",order:3,title:_.a({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})||this}return Q(t,e),t}(oe)).ID="editor.action.goToTypeDefinition",z)),Object(c.f)(((Z=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.ID,label:_.a("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:y.a.and(h.a.hasTypeDefinitionProvider,g.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:4}})||this}return Q(t,e),t}(oe)).ID="editor.action.peekTypeDefinition",Z));var re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._getLocationModel=function(e,t,n){return $(this,void 0,void 0,(function(){var i;return Y(this,(function(o){switch(o.label){case 0:return i=v.c.bind,[4,Object(O.c)(e,t,n)];case 1:return[2,new(i.apply(v.c,[void 0,o.sent(),_.a("impl.title","Implementations")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?_.a("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):_.a("goToImplementation.generic.noResults","No implementation found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeImplementationCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleImplementations},t}(ee);Object(c.f)(((J=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.ID,label:_.a("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:y.a.and(h.a.hasImplementationProvider,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:17,group:"4_symbol_nav",order:4,title:_.a({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})||this}return Q(t,e),t}(re)).ID="editor.action.goToImplementation",J)),Object(c.f)(((X=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.ID,label:_.a("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:y.a.and(h.a.hasImplementationProvider,g.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:8,group:"peek",order:5}})||this}return Q(t,e),t}(re)).ID="editor.action.peekImplementation",X));var ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._getNoResultFoundMessage=function(e){return e?_.a("references.no","No references found for '{0}'",e.word):_.a("references.noGeneric","No references found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeReferenceCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleReferences},t}(ee);Object(c.f)(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:_.a("goToReferences.label","Go to References"),alias:"Go to References",precondition:y.a.and(h.a.hasReferenceProvider,g.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h.a.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:17,group:"4_symbol_nav",order:5,title:_.a({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})||this}return Q(t,e),t.prototype._getLocationModel=function(e,t,n){return $(this,void 0,void 0,(function(){var i;return Y(this,(function(o){switch(o.label){case 0:return i=v.c.bind,[4,Object(O.d)(e,t,!0,n)];case 1:return[2,new(i.apply(v.c,[void 0,o.sent(),_.a("ref.title","References")]))]}}))}))},t}(ae)),Object(c.f)(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:_.a("references.action.label","Peek References"),alias:"Peek References",precondition:y.a.and(h.a.hasReferenceProvider,g.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:6}})||this}return Q(t,e),t.prototype._getLocationModel=function(e,t,n){return $(this,void 0,void 0,(function(){var i;return Y(this,(function(o){switch(o.label){case 0:return i=v.c.bind,[4,Object(O.d)(e,t,!1,n)];case 1:return[2,new(i.apply(v.c,[void 0,o.sent(),_.a("ref.title","References")]))]}}))}))},t}(ae));var se=function(e){function t(t,n){var i=e.call(this,{muteMessage:!0,openInPeek:!1,openToSide:!1},{id:"editor.action.goToLocation",label:_.a("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:y.a.and(g.b.notInPeekEditor,h.a.isInEmbeddedEditor.toNegated())})||this;return i._references=t,i._gotoMultipleBehaviour=n,i}return Q(t,e),t.prototype._getLocationModel=function(e,t,n){return $(this,void 0,void 0,(function(){return Y(this,(function(e){return[2,new v.c(this._references,_.a("generic.title","Locations"))]}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&_.a("generic.noResult","No results for '{0}'",e.word)||""},t.prototype._getGoToPreference=function(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(39).multipleReferences},t.prototype._getAlternativeCommand=function(){return""},t}(ee);k.a.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:K.a},{name:"position",description:"The position at which to start",constraint:l.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,t,n,i,o){return $(void 0,void 0,void 0,(function(){var r,a;return Y(this,(function(c){switch(c.label){case 0:return Object(V.a)(K.a.isUri(t)),Object(V.a)(l.a.isIPosition(n)),Object(V.a)(Array.isArray(i)),Object(V.a)("undefined"===typeof o||"string"===typeof o),[4,(r=e.get(u.a)).openCodeEditor({resource:t},r.getFocusedCodeEditor())];case 1:return a=c.sent(),Object(s.a)(a)?(a.setPosition(n),a.revealPositionInCenterIfOutsideViewport(n,0),[2,a.invokeWithinContext((function(e){var t=new se(i,o);e.get(M.a).invokeFunction(t.run.bind(t),a)}))]):[2]}}))}))}}),k.a.registerCommand({id:"editor.action.findReferences",handler:function(e,t,n){Object(V.a)(K.a.isUri(t)),Object(V.a)(l.a.isIPosition(n));var i=e.get(u.a);return i.openCodeEditor({resource:t},i.getFocusedCodeEditor()).then((function(e){if(Object(s.a)(e)&&e.hasModel()){var t=m.a.get(e);if(t){var i=Object(o.f)((function(t){return Object(O.d)(e.getModel(),l.a.lift(n),!1,t).then((function(e){return new v.c(e,_.a("ref.title","References"))}))})),r=new d.a(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(t.toggleWidget(r,i,!1))}}}))}}),k.a.registerCommandAlias("editor.action.showReferences","editor.action.goToLocations")},311:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(25),o=n(2),r=n(6),a=n(15),s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function c(e,t){return!!e[t]}var u=function(e,t){this.target=e.target,this.hasTriggerModifier=c(e.event,t.triggerModifier),this.hasSideBySideModifier=c(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.i||e.event.detail<=1},l=function(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=c(e,t.triggerModifier)},d=function(){function e(e,t,n,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=i}return e.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier},e}();function h(e){return"altKey"===e?a.e?new d(57,"metaKey",6,"altKey"):new d(5,"ctrlKey",6,"altKey"):a.e?new d(6,"altKey",57,"metaKey"):new d(6,"altKey",5,"ctrlKey")}var p=function(e){function t(t){var n=e.call(this)||this;return n._onMouseMoveOrRelevantKeyDown=n._register(new r.a),n.onMouseMoveOrRelevantKeyDown=n._onMouseMoveOrRelevantKeyDown.event,n._onExecute=n._register(new r.a),n.onExecute=n._onExecute.event,n._onCancel=n._register(new r.a),n.onCancel=n._onCancel.event,n._editor=t,n._opts=h(n._editor.getOption(57)),n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._register(n._editor.onDidChangeConfiguration((function(e){if(e.hasChanged(57)){var t=h(n._editor.getOption(57));if(n._opts.equals(t))return;n._opts=t,n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._onCancel.fire()}}))),n._register(n._editor.onMouseMove((function(e){return n.onEditorMouseMove(new u(e,n._opts))}))),n._register(n._editor.onMouseDown((function(e){return n.onEditorMouseDown(new u(e,n._opts))}))),n._register(n._editor.onMouseUp((function(e){return n.onEditorMouseUp(new u(e,n._opts))}))),n._register(n._editor.onKeyDown((function(e){return n.onEditorKeyDown(new l(e,n._opts))}))),n._register(n._editor.onKeyUp((function(e){return n.onEditorKeyUp(new l(e,n._opts))}))),n._register(n._editor.onMouseDrag((function(){return n.resetHandler()}))),n._register(n._editor.onDidChangeCursorSelection((function(e){return n.onDidChangeCursorSelection(e)}))),n._register(n._editor.onDidChangeModel((function(e){return n.resetHandler()}))),n._register(n._editor.onDidChangeModelContent((function(){return n.resetHandler()}))),n._register(n._editor.onDidScrollChange((function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&n.resetHandler()}))),n}return s(t,e),t.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},t.prototype.onEditorMouseMove=function(e){this.lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])},t.prototype.onEditorMouseDown=function(e){this.hasTriggerKeyOnMouseDown=e.hasTriggerModifier},t.prototype.onEditorMouseUp=function(e){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(e)},t.prototype.onEditorKeyDown=function(e){this.lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()},t.prototype.onEditorKeyUp=function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()},t.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},t}(o.a)},353:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(5),r=n(144),a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(e){function t(){return e.call(this,{id:"editor.action.fontZoomIn",label:i.a("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})||this}return a(t,e),t.prototype.run=function(e,t){r.a.setZoomLevel(r.a.getZoomLevel()+1)},t}(o.b),c=function(e){function t(){return e.call(this,{id:"editor.action.fontZoomOut",label:i.a("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})||this}return a(t,e),t.prototype.run=function(e,t){r.a.setZoomLevel(r.a.getZoomLevel()-1)},t}(o.b),u=function(e){function t(){return e.call(this,{id:"editor.action.fontZoomReset",label:i.a("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})||this}return a(t,e),t.prototype.run=function(e,t){r.a.setZoomLevel(0)},t}(o.b);Object(o.f)(s),Object(o.f)(c),Object(o.f)(u)},406:function(e,t,n){"use strict";n.r(t);n(733);var i=n(0),o=n(46),r=n(2),a=n(5),s=n(3),c=n(8),u=n(123),l=n(1),d=n(33),h=n(14),p=n(103),f=n(10),g=n(31),m=n(12),v=n(272),_=n(267),b=n(553),y=n(554),w=n(17),C=n(13);function O(e,t,n){var i=m.n.ordered(e).map((function(i){return Promise.resolve(i.provideHover(e,t,n)).then((function(e){return e&&function(e){var t="undefined"!==typeof e.range,n="undefined"!==typeof e.contents&&e.contents&&e.contents.length>0;return t&&n}(e)?e:void 0}),(function(e){Object(C.f)(e)}))}));return Promise.all(i).then(w.d)}Object(a.e)("_executeHoverProvider",(function(e,t){return O(e,t,d.a.None)}));var k=n(18),L=function(){function e(e,t,n,i,o){var r=this;this._computer=e,this._state=0,this._hoverTime=o,this._firstWaitScheduler=new k.d((function(){return r._triggerAsyncComputation()}),0),this._secondWaitScheduler=new k.d((function(){return r._triggerSyncComputation()}),0),this._loadingMessageScheduler=new k.d((function(){return r._showLoadingMessage()}),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=n,this._progressCallback=i}return e.prototype.setHoverTime=function(e){this._hoverTime=e},e.prototype._firstWaitTime=function(){return this._hoverTime/2},e.prototype._secondWaitTime=function(){return this._hoverTime/2},e.prototype._loadingMessageTime=function(){return 3*this._hoverTime},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Object(k.f)((function(t){return e._computer.computeAsync(t)})),this._asyncComputationPromise.then((function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)}),(function(t){return e._onError(t)}))):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},e.prototype._showLoadingMessage=function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):Object(C.e)(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}},e.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},e}(),M=n(99),D=n(82),N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i},x=function(e){function t(t,n){var i=e.call(this)||this;return i.allowEditorOverflow=!0,i._id=t,i._editor=n,i._isVisible=!1,i._stoleFocus=!1,i._containerDomNode=document.createElement("div"),i._containerDomNode.className="monaco-editor-hover hidden",i._containerDomNode.tabIndex=0,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover-content",i.scrollbar=new M.a(i._domNode,{}),i._register(i.scrollbar),i._containerDomNode.appendChild(i.scrollbar.getDomNode()),i.onkeydown(i._containerDomNode,(function(e){e.equals(9)&&i.hide()})),i._register(i._editor.onDidChangeConfiguration((function(e){e.hasChanged(32)&&i.updateFont()}))),i._editor.onDidLayoutChange((function(e){return i.layout()})),i.layout(),i._editor.addContentWidget(i),i._showAtPosition=null,i._showAtRange=null,i._stoleFocus=!1,i}return N(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,Object(l.V)(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._containerDomNode},t.prototype.showAt=function(e,t,n){this._showAtPosition=e,this._showAtRange=t,this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=n,n&&this._containerDomNode.focus()},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},t.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null},t.prototype.dispose=function(){this._editor.removeContentWidget(this),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this;Array.prototype.slice.call(this._domNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},t.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},t.prototype.layout=function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getOption(32),n=t.fontSize,i=t.lineHeight;this._domNode.style.fontSize=n+"px",this._domNode.style.lineHeight=i+"px",this._domNode.style.maxHeight=e+"px",this._domNode.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px"},t}(D.a),P=function(e){function t(t,n){var i=e.call(this)||this;return i._id=t,i._editor=n,i._isVisible=!1,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover hidden",i._domNode.setAttribute("aria-hidden","true"),i._domNode.setAttribute("role","presentation"),i._showAtLineNumber=-1,i._register(i._editor.onDidChangeConfiguration((function(e){e.hasChanged(32)&&i.updateFont()}))),i._editor.addOverlayWidget(i),i}return N(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,Object(l.V)(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._domNode},t.prototype.showAt=function(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),i=this._editor.getScrollTop(),o=this._editor.getOption(47),r=n-i-(this._domNode.clientHeight-o)/2;this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(r),0)+"px"},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},t.prototype.getPosition=function(){return null},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));S(t,n).forEach((function(t){return e._editor.applyFontInfo(t)}))},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()},t}(D.a),I=n(191),E=n(62),R=n(48),j=n(84),T=n(231),A=n(113),F=n(145),W=n(70),U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),K=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i},V=l.a,B=function(e,t,n){this.range=e,this.color=t,this.provider=n},H=function(e,t){this.range=e,this.marker=t},G=function(){function e(e,t){this._markerDecorationsService=t,this._editor=e,this._result=[]}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(e){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);var t=this._editor.getModel();return m.n.has(t)?O(t,new f.a(this._range.startLineNumber,this._range.startColumn),e):Promise.resolve([])},e.prototype.computeSync=function(){var e=this;if(!this._editor.hasModel()||!this._range)return[];var t=this._editor.getModel(),n=this._range.startLineNumber;if(n>this._editor.getModel().getLineCount())return[];var i=_.ColorDetector.get(this._editor),o=t.getLineMaxColumn(n),r=this._editor.getLineDecorations(n),a=!1,c=this._range,u=r.map((function(r){var u=r.range.startLineNumber===n?r.range.startColumn:1,l=r.range.endLineNumber===n?r.range.endColumn:o;if(u>c.startColumn||c.endColumn>l)return null;var d=new s.a(c.startLineNumber,u,c.startLineNumber,l),h=e._markerDecorationsService.getMarker(t,r);if(h)return new H(d,h);var f=i.getColorData(r.range.getStartPosition());if(!a&&f){a=!0;var g=f.colorInfo,m=g.color,v=g.range;return new B(v,m,f.provider)}return Object(p.b)(r.options.hoverMessage)?null:{contents:r.options.hoverMessage?Object(w.b)(r.options.hoverMessage):[],range:d}}));return Object(w.d)(u)},e.prototype.onResult=function(e,t){this._result=t?e.concat(this._result.sort((function(e,t){return e instanceof B?-1:t instanceof B?1:0}))):this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},e.prototype._getLoadingMessage=function(){return{range:this._range,contents:[(new p.a).appendText(i.a("modesContentHover.loading","Loading..."))]}},e}(),q=function(e){function t(n,i,o,a,s,c){void 0===c&&(c=j.b);var u=e.call(this,t.ID,n)||this;return u._themeService=o,u._keybindingService=a,u._modeService=s,u._openerService=c,u.renderDisposable=u._register(new r.d),u._messages=[],u._lastRange=null,u._computer=new G(u._editor,i),u._highlightDecorations=[],u._isChangingDecorations=!1,u._shouldFocus=!1,u._colorPicker=null,u._hoverOperation=new L(u._computer,(function(e){return u._withResult(e,!0)}),null,(function(e){return u._withResult(e,!1)}),u._editor.getOption(42).delay),u._register(l.o(u.getDomNode(),l.d.FOCUS,(function(){u._colorPicker&&l.f(u.getDomNode(),"colorpicker-hover")}))),u._register(l.o(u.getDomNode(),l.d.BLUR,(function(){l.M(u.getDomNode(),"colorpicker-hover")}))),u._register(n.onDidChangeConfiguration((function(e){u._hoverOperation.setHoverTime(u._editor.getOption(42).delay)}))),u._register(m.A.onDidChange((function(e){u.isVisible&&u._lastRange&&u._messages.length>0&&(u._domNode.textContent="",u._renderMessages(u._lastRange,u._messages))}))),u}return U(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},t.prototype.startShowingAt=function(e,t,n){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition&&this._showAtPosition.lineNumber===e.startLineNumber){for(var i=[],o=0,r=this._messages.length;o<r;o++){var a=this._messages[o],s=a.range;s&&s.startColumn<=e.startColumn&&s.endColumn>=e.endColumn&&i.push(a)}if(i.length>0){if(function(e,t){if(!e&&t||e&&!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i instanceof H&&o instanceof H)return E.a.makeKey(i.marker)===E.a.makeKey(o.marker);if(i instanceof B||o instanceof B)return!1;if(i instanceof H||o instanceof H)return!1;if(!Object(p.c)(i.contents,o.contents))return!1}return!0}(i,this._messages))return;this._renderMessages(e,i)}else this.hide()}else this.hide();this._lastRange=e,this._computer.setRange(e),this._shouldFocus=n,this._hoverOperation.start(t)}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null},t.prototype.isColorPickerVisible=function(){return!!this._colorPicker},t.prototype._withResult=function(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,n){var i=this;this.renderDisposable.dispose(),this._colorPicker=null;var o=1073741824,a=n[0].range?s.a.lift(n[0].range):null,c=document.createDocumentFragment(),u=!0,g=!1,m=new r.b,_=[];if(n.forEach((function(e){if(e.range)if(o=Math.min(o,e.range.startColumn),a=a?s.a.plusRange(a,e.range):s.a.lift(e.range),e instanceof B){g=!0;var t=e.color,n=t.red,f=t.green,w=t.blue,C=t.alpha,O=new h.c(Math.round(255*n),Math.round(255*f),Math.round(255*w),C),k=new h.a(O);if(!i._editor.hasModel())return;var L=i._editor.getModel(),M=new s.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),D={range:e.range,color:e.color},N=new b.a(k,[],0),S=new y.a(c,N,i._editor.getOption(101),i._themeService);Object(v.a)(L,D,e.provider,d.a.None).then((function(t){if(N.colorPresentations=t||[],i._editor.hasModel()){var n=i._editor.getModel().getValueInRange(e.range);N.guessColorPresentation(k,n);var o=function(){var e,t;N.presentation.textEdit?(e=[N.presentation.textEdit],t=(t=new s.a(N.presentation.textEdit.range.startLineNumber,N.presentation.textEdit.range.startColumn,N.presentation.textEdit.range.endLineNumber,N.presentation.textEdit.range.endColumn)).setEndPosition(t.endLineNumber,t.startColumn+N.presentation.textEdit.text.length)):(e=[{identifier:null,range:M,text:N.presentation.label,forceMoveMarkers:!1}],t=M.setEndPosition(M.endLineNumber,M.startColumn+N.presentation.label.length)),i._editor.pushUndoStop(),i._editor.executeEdits("colorpicker",e),N.presentation.additionalTextEdits&&(e=K(N.presentation.additionalTextEdits),i._editor.executeEdits("colorpicker",e),i.hide()),i._editor.pushUndoStop(),M=t},a=function(t){return Object(v.a)(L,{range:M,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},e.provider,d.a.None).then((function(e){N.colorPresentations=e||[]}))},u=N.onColorFlushed((function(e){a(e).then(o)})),l=N.onDidChangeColor(a);i._colorPicker=S,i.showAt(M.getStartPosition(),M,i._shouldFocus),i.updateContents(c),i._colorPicker.layout(),i.renderDisposable.value=Object(r.e)(u,l,S,m)}}))}else e instanceof H?(_.push(e),u=!1):e.contents.filter((function(e){return!Object(p.b)(e)})).forEach((function(e){var t=V("div.hover-row.markdown-hover"),n=l.q(t,V("div.hover-contents")),o=m.add(new I.a(i._editor,i._modeService,i._openerService));m.add(o.onDidRenderCodeBlock((function(){n.className="hover-contents code-hover-contents",i.onContentsChange()})));var r=m.add(o.render(e));n.appendChild(r.element),c.appendChild(t),u=!1}))})),_.length){_.forEach((function(e){return c.appendChild(i.renderMarkerHover(e))}));var w=1===_.length?_[0]:_.sort((function(e,t){return E.c.compare(e.marker.severity,t.marker.severity)}))[0];c.appendChild(this.renderMarkerStatusbar(w))}g||u||(this.showAt(new f.a(e.startLineNumber,o),a,this._shouldFocus),this.updateContents(c)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,a?[{range:a,options:t._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1},t.prototype.renderMarkerHover=function(e){var t=this,n=V("div.hover-row"),i=l.q(n,V("div.marker.hover-contents")),o=e.marker,r=o.source,a=o.message,s=o.code,c=o.relatedInformation;this._editor.applyFontInfo(i);var u=l.q(i,V("span"));if(u.style.whiteSpace="pre-wrap",u.innerText=a,r||s){var d=l.q(i,V("span"));d.style.opacity="0.6",d.style.paddingLeft="6px",d.innerText=r&&s?r+"("+s+")":r||"("+s+")"}if(Object(w.q)(c))for(var h=function(e,n,o,r){var a=l.q(i,V("div"));a.style.marginTop="8px";var s=l.q(a,V("a"));s.innerText=Object(R.b)(n)+"("+o+", "+r+"): ",s.style.cursor="pointer",s.onclick=function(e){e.stopPropagation(),e.preventDefault(),t._openerService&&t._openerService.open(n.with({fragment:o+","+r}),{fromUserGesture:!0}).catch(C.e)};var c=l.q(a,V("span"));c.innerText=e,p._editor.applyFontInfo(c)},p=this,f=0,g=c;f<g.length;f++){var m=g[f];h(m.message,m.resource,m.startLineNumber,m.startColumn)}return n},t.prototype.renderMarkerStatusbar=function(e){var t=this,n=V("div.hover-row.status-bar"),o=new r.b,a=l.q(n,V("div.actions"));e.marker.severity!==E.c.Error&&e.marker.severity!==E.c.Warning&&e.marker.severity!==E.c.Info||o.add(this.renderAction(a,{label:i.a("peek problem","Peek Problem"),commandId:T.NextMarkerAction.ID,run:function(){t.hide(),T.MarkerController.get(t._editor).show(e.marker),t._editor.focus()}}));var s=l.q(a,V("div"));s.style.opacity="0",s.style.transition="opacity 0.2s",setTimeout((function(){return s.style.opacity="1"}),200),s.textContent=i.a("checkingForQuickFixes","Checking for quick fixes..."),o.add(Object(r.h)((function(){return s.remove()})));var c=this.getCodeActions(e.marker);return o.add(Object(r.h)((function(){return c.cancel()}))),c.then((function(e){if(s.style.transition="",s.style.opacity="1",!e.validActions.length)return e.dispose(),void(s.textContent=i.a("noQuickFixes","No quick fixes available"));s.remove();var n=!1;o.add(Object(r.h)((function(){n||e.dispose()}))),o.add(t.renderAction(a,{label:i.a("quick fixes","Quick Fix..."),commandId:F.e.Id,run:function(i){n=!0;var o=F.f.get(t._editor),r=l.B(i);o.showCodeActions(e,{x:r.left+6,y:r.top+r.height+6})}}))})),this.renderDisposable.value=o,n},t.prototype.getCodeActions=function(e){var t=this;return Object(k.f)((function(n){return Object(A.c)(t._editor.getModel(),new s.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),{type:"manual",filter:{include:W.b.QuickFix}},n)}))},t.prototype.renderAction=function(e,t){var n=l.q(e,V("div.action-container")),i=l.q(n,V("a.action"));t.iconClass&&l.q(i,V("span.icon."+t.iconClass));var o=l.q(i,V("span"));o.textContent=t.label;var r=this._keybindingService.lookupKeybinding(t.commandId);return r&&(o.title=t.label+" ("+r.getLabel()+")"),l.j(n,l.d.CLICK,(function(e){e.stopPropagation(),e.preventDefault(),t.run(n)}))},t.ID="editor.contrib.modesContentHoverWidget",t._DECORATION_OPTIONS=g.a.register({className:"hoverHighlight"}),t}(x);var z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Z=function(){function e(e){this._editor=e,this._lineNumber=-1,this._result=[]}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;for(var i=0,o=t;i<o.length;i++){var r=o[i];if(r.options.glyphMarginClassName){var a=r.options.glyphMarginHoverMessage;a&&!Object(p.b)(a)&&n.push.apply(n,Object(w.b)(a).map(e))}}return n},e.prototype.onResult=function(e,t){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e.prototype.getResultWithLoadingMessage=function(){return this.getResult()},e}(),J=function(e){function t(n,i,o){void 0===o&&(o=j.b);var a=e.call(this,t.ID,n)||this;return a._renderDisposeables=a._register(new r.b),a._messages=[],a._lastLineNumber=-1,a._markdownRenderer=a._register(new I.a(a._editor,i,o)),a._computer=new Z(a._editor),a._hoverOperation=new L(a._computer,(function(e){return a._withResult(e)}),void 0,(function(e){return a._withResult(e)}),300),a}return z(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){this._renderDisposeables.clear();for(var n=document.createDocumentFragment(),i=0,o=t;i<o.length;i++){var r=o[i],a=this._markdownRenderer.render(r.value);this._renderDisposeables.add(a),n.appendChild(Object(l.a)("div.hover-row",void 0,a.element))}this.updateContents(n),this.showAt(e)},t.ID="editor.contrib.modesGlyphHoverWidget",t}(P),X=n(4),Q=n(19),$=n(312),Y=n(54),ee=n(268);n.d(t,"ModesHoverController",(function(){return oe}));var te=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ne=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ie=function(e,t){return function(n,i){t(n,i,e)}},oe=function(){function e(e,t,n,i,o,a){var s=this;this._editor=e,this._openerService=t,this._modeService=n,this._markerDecorationsService=i,this._keybindingService=o,this._themeService=a,this._toUnhook=new r.b,this._contentWidget=new r.d,this._glyphWidget=new r.d,this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(42)&&(s._hideWidgets(),s._unhookEvents(),s._hookEvents())}))}return Object.defineProperty(e.prototype,"contentWidget",{get:function(){return this._contentWidget.value||this._createHoverWidgets(),this._contentWidget.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"glyphWidget",{get:function(){return this._glyphWidget.value||this._createHoverWidgets(),this._glyphWidget.value},enumerable:!0,configurable:!0}),e.get=function(t){return t.getContribution(e.ID)},e.prototype._hookEvents=function(){var e=this,t=function(){return e._hideWidgets()},n=this._editor.getOption(42);this._isHoverEnabled=n.enabled,this._isHoverSticky=n.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)}))),this._toUnhook.add(this._editor.onDidChangeModelDecorations((function(){return e._onModelDecorationsChanged()})))):this._toUnhook.add(this._editor.onMouseMove(t)),this._toUnhook.add(this._editor.onMouseLeave(t)),this._toUnhook.add(this._editor.onDidChangeModel(t)),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))},e.prototype._unhookEvents=function(){this._toUnhook.clear()},e.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorScrollChanged=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()},e.prototype._onEditorMouseDown=function(e){this._isMouseDown=!0;var t=e.target.type;9!==t||e.target.detail!==q.ID?12===t&&e.target.detail===J.ID||(12!==t&&e.target.detail!==J.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0},e.prototype._onEditorMouseUp=function(e){this._isMouseDown=!1},e.prototype._onEditorMouseMove=function(e){var t=e.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible())&&(!this._isHoverSticky||9!==t||e.target.detail!==q.ID)&&(!this._isHoverSticky||12!==t||e.target.detail!==J.ID)){if(7===t){var n=this._editor.getOption(32).typicalHalfwidthCharacterWidth/2,i=e.target.detail;i&&!i.isAfterLines&&"number"===typeof i.horizontalDistanceToText&&i.horizontalDistanceToText<n&&(t=6)}6===t?(this.glyphWidget.hide(),this._isHoverEnabled&&e.target.range&&this.contentWidget.startShowingAt(e.target.range,0,!1)):2===t?(this.contentWidget.hide(),this._isHoverEnabled&&e.target.position&&this.glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets()}},e.prototype._onKeyDown=function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()},e.prototype._hideWidgets=function(){!this._glyphWidget.value||!this._contentWidget.value||this._isMouseDown&&this._hoverClicked&&this._contentWidget.value.isColorPickerVisible()||(this._glyphWidget.value.hide(),this._contentWidget.value.hide())},e.prototype._createHoverWidgets=function(){this._contentWidget.value=new q(this._editor,this._markerDecorationsService,this._themeService,this._keybindingService,this._modeService,this._openerService),this._glyphWidget.value=new J(this._editor,this._modeService,this._openerService)},e.prototype.showContentHover=function(e,t,n){this.contentWidget.startShowingAt(e,t,n)},e.prototype.dispose=function(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget.dispose(),this._contentWidget.dispose()},e.ID="editor.contrib.hover",e=ne([ie(1,j.a),ie(2,u.a),ie(3,$.a),ie(4,Y.a),ie(5,Q.c)],e)}(),re=function(e){function t(){return e.call(this,{id:"editor.action.showHover",label:i.a({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:c.a.editorTextFocus,primary:Object(o.a)(2089,2087),weight:100}})||this}return te(t,e),t.prototype.run=function(e,t){if(t.hasModel()){var n=oe.get(t);if(n){var i=t.getPosition(),o=new s.a(i.lineNumber,i.column,i.lineNumber,i.column),r=2===t.getOption(2);n.showContentHover(o,1,r)}}},t}(a.b),ae=function(e){function t(){return e.call(this,{id:"editor.action.showDefinitionPreviewHover",label:i.a({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})||this}return te(t,e),t.prototype.run=function(e,t){var n=oe.get(t);if(n){var i=t.getPosition();if(i){var o=new s.a(i.lineNumber,i.column,i.lineNumber,i.column),r=ee.GotoDefinitionAtPositionEditorContribution.get(t).startFindDefinitionFromCursor(i);r?r.then((function(){n.showContentHover(o,1,!0)})):n.showContentHover(o,1,!0)}}},t}(a.b);Object(a.h)(oe.ID,oe),Object(a.f)(re),Object(a.f)(ae),Object(Q.e)((function(e,t){var n=e.getColor(X.D);n&&t.addRule(".monaco-editor .hoverHighlight { background-color: "+n+"; }");var i=e.getColor(X.A);i&&t.addRule(".monaco-editor .monaco-editor-hover { background-color: "+i+"; }");var o=e.getColor(X.B);o&&(t.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+o+"; }"),t.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+o.transparent(.5)+"; }"),t.addRule(".monaco-editor .monaco-editor-hover hr { border-top: 1px solid "+o.transparent(.5)+"; }"),t.addRule(".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid "+o.transparent(.5)+"; }"));var r=e.getColor(X.ec);r&&t.addRule(".monaco-editor .monaco-editor-hover a { color: "+r+"; }");var a=e.getColor(X.C);a&&t.addRule(".monaco-editor .monaco-editor-hover { color: "+a+"; }");var s=e.getColor(X.E);s&&t.addRule(".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: "+s+"; }");var c=e.getColor(X.dc);c&&t.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+c+"; }")}))},407:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(46),r=n(105),a=n(5),s=n(58),c=n(557),u=n(132),l=n(74),d=n(10),h=n(3),p=n(24),f=n(8),g=function(){function e(e,t){this._selection=e,this._isCopyingDown=t,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return e.prototype.getEditOperations=function(e,t){var n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));for(var i=[],o=n.startLineNumber;o<=n.endLineNumber;o++)i.push(e.getLineContent(o));var r=i.join("\n");""===r&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new h.a(n.startLineNumber,1,n.startLineNumber,1),r+"\n"):t.addEditOperation(new h.a(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+r),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var i=n.startLineNumber,o=n.startColumn,r=n.endLineNumber,a=n.endColumn;0!==this._startLineNumberDelta&&(i+=this._startLineNumberDelta,o=1),0!==this._endLineNumberDelta&&(r+=this._endLineNumberDelta,a=1),n=p.a.createWithDirection(i,o,r,a,this._selectionDirection)}return n},e}(),m=n(9),v=n(181),_=n(73),b=n(35);function y(e,t){for(var n=0,i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function w(e,t,n){e=e<0?0:e;var i="";if(!n){var o=Math.floor(e/t);e%=t;for(var r=0;r<o;r++)i+="\t"}for(r=0;r<e;r++)i+=" ";return i}var C=function(){function e(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return e.prototype.getEditOperations=function(e,t){var n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)this._selectionId=t.trackSelection(this._selection);else if(this._isMovingDown||1!==this._selection.startLineNumber){this._moveEndPositionDown=!1;var i=this._selection;i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));var o=e.getOptions(),r=o.tabSize,a=o.indentSize,s=o.insertSpaces,c=this.buildIndentConverter(r,a,s),u={getLineTokens:function(t){return e.getLineTokens(t)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,n){return e.getLanguageIdAtPosition(t,n)},getLineContent:null};if(i.startLineNumber===i.endLineNumber&&1===e.getLineMaxColumn(i.startLineNumber)){var l=i.startLineNumber,d=this._isMovingDown?l+1:l-1;1===e.getLineMaxColumn(d)?t.addEditOperation(new h.a(1,1,1,1),null):(t.addEditOperation(new h.a(l,1,l,1),e.getLineContent(d)),t.addEditOperation(new h.a(d,1,d,e.getLineMaxColumn(d)),null)),i=new p.a(d,1,d,1)}else{var f,g=void 0;if(this._isMovingDown){f=i.endLineNumber+1,g=e.getLineContent(f),t.addEditOperation(new h.a(f-1,e.getLineMaxColumn(f-1),f,e.getLineMaxColumn(f)),null);var v=g;if(this.shouldAutoIndent(e,i)){var _=this.matchEnterRule(e,c,r,f,i.startLineNumber-1);if(null!==_){var C=w(S=_+y(k=m.u(e.getLineContent(f)),r),r,s);v=C+this.trimLeft(g)}else{u.getLineContent=function(t){return t===i.startLineNumber?e.getLineContent(f):e.getLineContent(t)};var O=b.a.getGoodIndentForLine(this._autoIndent,u,e.getLanguageIdAtPosition(f,1),i.startLineNumber,c);if(null!==O){var k=m.u(e.getLineContent(f));if((S=y(O,r))!==(x=y(k,r))){C=w(S,r,s);v=C+this.trimLeft(g)}}}if(t.addEditOperation(new h.a(i.startLineNumber,1,i.startLineNumber,1),v+"\n"),null!==(D=this.matchEnterRule(e,c,r,i.startLineNumber,i.startLineNumber,v)))0!==D&&this.getIndentEditsOfMovingBlock(e,t,i,r,s,D);else{u.getLineContent=function(t){return t===i.startLineNumber?v:t>=i.startLineNumber+1&&t<=i.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t)};var L=b.a.getGoodIndentForLine(this._autoIndent,u,e.getLanguageIdAtPosition(f,1),i.startLineNumber+1,c);if(null!==L){k=m.u(e.getLineContent(i.startLineNumber));if((S=y(L,r))!==(x=y(k,r))){var M=S-x;this.getIndentEditsOfMovingBlock(e,t,i,r,s,M)}}}}else t.addEditOperation(new h.a(i.startLineNumber,1,i.startLineNumber,1),v+"\n")}else{var D;if(f=i.startLineNumber-1,g=e.getLineContent(f),t.addEditOperation(new h.a(f,1,f+1,1),null),t.addEditOperation(new h.a(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+g),this.shouldAutoIndent(e,i))if(u.getLineContent=function(t){return t===f?e.getLineContent(i.startLineNumber):e.getLineContent(t)},null!==(D=this.matchEnterRule(e,c,r,i.startLineNumber,i.startLineNumber-2)))0!==D&&this.getIndentEditsOfMovingBlock(e,t,i,r,s,D);else{var N=b.a.getGoodIndentForLine(this._autoIndent,u,e.getLanguageIdAtPosition(i.startLineNumber,1),f,c);if(null!==N){var S,x,P=m.u(e.getLineContent(i.startLineNumber));if((S=y(N,r))!==(x=y(P,r))){M=S-x;this.getIndentEditsOfMovingBlock(e,t,i,r,s,M)}}}}}this._selectionId=t.trackSelection(i)}else this._selectionId=t.trackSelection(this._selection)},e.prototype.buildIndentConverter=function(e,t,n){return{shiftIndent:function(i){return v.a.shiftIndent(i,i.length+1,e,t,n)},unshiftIndent:function(i){return v.a.unshiftIndent(i,i.length+1,e,t,n)}}},e.prototype.matchEnterRule=function(e,t,n,i,o,r){for(var a=o;a>=1;){var s=void 0;if(s=a===o&&void 0!==r?r:e.getLineContent(a),m.E(s)>=0)break;a--}if(a<1||i>e.getLineCount())return null;var c=e.getLineMaxColumn(a),u=b.a.getEnterAction(this._autoIndent,e,new h.a(a,c,a,c));if(u){var l=u.indentation;u.indentAction===_.a.None?l=u.indentation+u.appendText:u.indentAction===_.a.Indent?l=u.indentation+u.appendText:u.indentAction===_.a.IndentOutdent?l=u.indentation:u.indentAction===_.a.Outdent&&(l=t.unshiftIndent(u.indentation)+u.appendText);var d=e.getLineContent(i);if(this.trimLeft(d).indexOf(this.trimLeft(l))>=0){var p=m.u(e.getLineContent(i)),f=m.u(l),g=b.a.getIndentMetadata(e,i);return null!==g&&2&g&&(f=t.unshiftIndent(f)),y(f,n)-y(p,n)}}return null},e.prototype.trimLeft=function(e){return e.replace(/^\s+/,"")},e.prototype.shouldAutoIndent=function(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;var n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==b.a.getIndentRulesSupport(n)},e.prototype.getIndentEditsOfMovingBlock=function(e,t,n,i,o,r){for(var a=n.startLineNumber;a<=n.endLineNumber;a++){var s=e.getLineContent(a),c=m.u(s),u=w(y(c,i)+r,i,o);u!==c&&(t.addEditOperation(new h.a(a,1,a,c.length+1),u),a===n.endLineNumber&&n.endColumn<=c.length+1&&""===u&&(this._moveEndLineSelectionShrink=!0))}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n},e}(),O=function(){function e(e,t){this.selection=e,this.descending=t,this.selectionId=null}return e.getCollator=function(){return e._COLLATOR||(e._COLLATOR=new Intl.Collator),e._COLLATOR},e.prototype.getEditOperations=function(e,t){var n=function(e,t,n){var i=k(e,t,n);if(!i)return null;return l.a.replace(new h.a(i.startLineNumber,1,i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),i.after.join("\n"))}(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e.canRun=function(e,t,n){if(null===e)return!1;var i=k(e,t,n);if(!i)return!1;for(var o=0,r=i.before.length;o<r;o++)if(i.before[o]!==i.after[o])return!0;return!1},e._COLLATOR=null,e}();function k(e,t,n){var i=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,i>=o)return null;for(var r=[],a=i;a<=o;a++)r.push(e.getLineContent(a));var s=r.slice(0);return s.sort(O.getCollator().compare),!0===n&&(s=s.reverse()),{startLineNumber:i,endLineNumber:o,before:r,after:s}}n.d(t,"DuplicateSelectionAction",(function(){return S})),n.d(t,"AbstractSortLinesAction",(function(){return E})),n.d(t,"SortLinesAscendingAction",(function(){return R})),n.d(t,"SortLinesDescendingAction",(function(){return j})),n.d(t,"TrimTrailingWhitespaceAction",(function(){return T})),n.d(t,"DeleteLinesAction",(function(){return A})),n.d(t,"IndentLinesAction",(function(){return F})),n.d(t,"InsertLineBeforeAction",(function(){return U})),n.d(t,"InsertLineAfterAction",(function(){return K})),n.d(t,"AbstractDeleteAllToBoundaryAction",(function(){return V})),n.d(t,"DeleteAllLeftAction",(function(){return B})),n.d(t,"DeleteAllRightAction",(function(){return H})),n.d(t,"JoinLinesAction",(function(){return G})),n.d(t,"TransposeAction",(function(){return q})),n.d(t,"AbstractCaseAction",(function(){return z})),n.d(t,"UpperCaseAction",(function(){return Z})),n.d(t,"LowerCaseAction",(function(){return J})),n.d(t,"TitleCaseAction",(function(){return X}));var L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),M=function(e){function t(t,n){var i=e.call(this,n)||this;return i.down=t,i}return L(t,e),t.prototype.run=function(e,t){for(var n=[],i=0,o=t.getSelections()||[];i<o.length;i++){var r=o[i];n.push(new g(r,this.down))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(a.b),D=function(e){function t(){return e.call(this,!1,{id:"editor.action.copyLinesUpAction",label:i.a("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:23,group:"2_line",title:i.a({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})||this}return L(t,e),t}(M),N=function(e){function t(){return e.call(this,!0,{id:"editor.action.copyLinesDownAction",label:i.a("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:23,group:"2_line",title:i.a({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})||this}return L(t,e),t}(M),S=function(e){function t(){return e.call(this,{id:"editor.action.duplicateSelection",label:i.a("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:f.a.writable,menuOpts:{menuId:23,group:"2_line",title:i.a({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})||this}return L(t,e),t.prototype.run=function(e,t,n){if(t.hasModel()){for(var i=[],o=t.getSelections(),r=t.getModel(),a=0,c=o;a<c.length;a++){var u=c[a];if(u.isEmpty())i.push(new g(u,!0));else{var l=new p.a(u.endLineNumber,u.endColumn,u.endLineNumber,u.endColumn);i.push(new s.c(l,r.getValueInRange(u)))}}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},t}(a.b),x=function(e){function t(t,n){var i=e.call(this,n)||this;return i.down=t,i}return L(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections()||[],o=t.getOption(8),r=0,a=i;r<a.length;r++){var s=a[r];n.push(new C(s,this.down,o))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(a.b),P=function(e){function t(){return e.call(this,!1,{id:"editor.action.moveLinesUpAction",label:i.a("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:23,group:"2_line",title:i.a({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})||this}return L(t,e),t}(x),I=function(e){function t(){return e.call(this,!0,{id:"editor.action.moveLinesDownAction",label:i.a("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:23,group:"2_line",title:i.a({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})||this}return L(t,e),t}(x),E=function(e){function t(t,n){var i=e.call(this,n)||this;return i.descending=t,i}return L(t,e),t.prototype.run=function(e,t){for(var n=t.getSelections()||[],i=0,o=n;i<o.length;i++){var r=o[i];if(!O.canRun(t.getModel(),r,this.descending))return}for(var a=[],s=0,c=n.length;s<c;s++)a[s]=new O(n[s],this.descending);t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()},t}(a.b),R=function(e){function t(){return e.call(this,!1,{id:"editor.action.sortLinesAscending",label:i.a("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:f.a.writable})||this}return L(t,e),t}(E),j=function(e){function t(){return e.call(this,!0,{id:"editor.action.sortLinesDescending",label:i.a("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:f.a.writable})||this}return L(t,e),t}(E),T=function(e){function t(){return e.call(this,{id:t.ID,label:i.a("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:Object(o.a)(2089,2102),weight:100}})||this}return L(t,e),t.prototype.run=function(e,t,n){var i=[];"auto-save"===n.reason&&(i=(t.getSelections()||[]).map((function(e){return new d.a(e.positionLineNumber,e.positionColumn)})));var o=t.getSelection();if(null!==o){var r=new c.a(o,i);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop()}},t.ID="editor.action.trimTrailingWhitespace",t}(a.b),A=function(e){function t(){return e.call(this,{id:"editor.action.deleteLines",label:i.a("lines.delete","Delete Line"),alias:"Delete Line",precondition:f.a.writable,kbOpts:{kbExpr:f.a.textInputFocus,primary:3113,weight:100}})||this}return L(t,e),t.prototype.run=function(e,t){if(t.hasModel()){var n=this._getLinesToRemove(t),i=t.getModel();if(1!==i.getLineCount()||1!==i.getLineMaxColumn(1)){for(var o=0,r=[],a=[],s=0,c=n.length;s<c;s++){var u=n[s],d=u.startLineNumber,h=u.endLineNumber,f=1,g=i.getLineMaxColumn(h);h<i.getLineCount()?(h+=1,g=1):d>1&&(d-=1,f=i.getLineMaxColumn(d)),r.push(l.a.replace(new p.a(d,f,h,g),"")),a.push(new p.a(d-o,u.positionColumn,d-o,u.positionColumn)),o+=u.endLineNumber-u.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,a),t.pushUndoStop()}}},t.prototype._getLinesToRemove=function(e){var t=e.getSelections().map((function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort((function(e,t){return e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber}));for(var n=[],i=t[0],o=1;o<t.length;o++)i.endLineNumber+1>=t[o].startLineNumber?i.endLineNumber=t[o].endLineNumber:(n.push(i),i=t[o]);return n.push(i),n},t}(a.b),F=function(e){function t(){return e.call(this,{id:"editor.action.indentLines",label:i.a("lines.indent","Indent Line"),alias:"Indent Line",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:2137,weight:100}})||this}return L(t,e),t.prototype.run=function(e,t){var n=t._getCursors();n&&(t.pushUndoStop(),t.executeCommands(this.id,u.a.indent(n.context.config,t.getModel(),t.getSelections())),t.pushUndoStop())},t}(a.b),W=function(e){function t(){return e.call(this,{id:"editor.action.outdentLines",label:i.a("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:2135,weight:100}})||this}return L(t,e),t.prototype.run=function(e,t){r.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)},t}(a.b),U=function(e){function t(){return e.call(this,{id:"editor.action.insertLineBefore",label:i.a("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:3075,weight:100}})||this}return L(t,e),t.prototype.run=function(e,t){var n=t._getCursors();n&&(t.pushUndoStop(),t.executeCommands(this.id,u.a.lineInsertBefore(n.context.config,t.getModel(),t.getSelections())))},t}(a.b),K=function(e){function t(){return e.call(this,{id:"editor.action.insertLineAfter",label:i.a("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:2051,weight:100}})||this}return L(t,e),t.prototype.run=function(e,t){var n=t._getCursors();n&&(t.pushUndoStop(),t.executeCommands(this.id,u.a.lineInsertAfter(n.context.config,t.getModel(),t.getSelections())))},t}(a.b),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.run=function(e,t){if(t.hasModel()){for(var n=t.getSelection(),i=this._getRangesToDelete(t),o=[],r=0,a=i.length-1;r<a;r++){var s=i[r],c=i[r+1];null===h.a.intersectRanges(s,c)?o.push(s):i[r+1]=h.a.plusRange(s,c)}o.push(i[i.length-1]);var u=this._getEndCursorState(n,o),d=o.map((function(e){return l.a.replace(e,"")}));t.pushUndoStop(),t.executeEdits(this.id,d,u),t.pushUndoStop()}},t}(a.b),B=function(e){function t(){return e.call(this,{id:"deleteAllLeft",label:i.a("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:f.a.writable,kbOpts:{kbExpr:f.a.textInputFocus,primary:0,mac:{primary:2049},weight:100}})||this}return L(t,e),t.prototype._getEndCursorState=function(e,t){var n=null,i=[],o=0;return t.forEach((function(t){var r;if(1===t.endColumn&&o>0){var a=t.startLineNumber-o;r=new p.a(a,t.startColumn,a,t.startColumn)}else r=new p.a(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=r:i.push(r)})),n&&i.unshift(n),i},t.prototype._getRangesToDelete=function(e){var t=e.getSelections();if(null===t)return[];var n=t,i=e.getModel();return null===i?[]:(n.sort(h.a.compareRangesUsingStarts),n=n.map((function(e){if(e.isEmpty()){if(1===e.startColumn){var t=Math.max(1,e.startLineNumber-1),n=1===e.startLineNumber?1:i.getLineContent(t).length+1;return new h.a(t,n,e.startLineNumber,1)}return new h.a(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new h.a(e.startLineNumber,1,e.endLineNumber,e.endColumn)})))},t}(V),H=function(e){function t(){return e.call(this,{id:"deleteAllRight",label:i.a("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:f.a.writable,kbOpts:{kbExpr:f.a.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})||this}return L(t,e),t.prototype._getEndCursorState=function(e,t){for(var n=null,i=[],o=0,r=t.length;o<r;o++){var a=t[o],s=new p.a(a.startLineNumber-0,a.startColumn,a.startLineNumber-0,a.startColumn);a.intersectRanges(e)?n=s:i.push(s)}return n&&i.unshift(n),i},t.prototype._getRangesToDelete=function(e){var t=e.getModel();if(null===t)return[];var n=e.getSelections();if(null===n)return[];var i=n.map((function(e){if(e.isEmpty()){var n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new h.a(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new h.a(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e}));return i.sort(h.a.compareRangesUsingStarts),i},t}(V),G=function(e){function t(){return e.call(this,{id:"editor.action.joinLines",label:i.a("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:f.a.writable,kbOpts:{kbExpr:f.a.editorTextFocus,primary:0,mac:{primary:296},weight:100}})||this}return L(t,e),t.prototype.run=function(e,t){var n=t.getSelections();if(null!==n){var i=t.getSelection();if(null!==i){n.sort(h.a.compareRangesUsingStarts);var o=[],r=n.reduce((function(e,t){return e.isEmpty()?e.endLineNumber===t.startLineNumber?(i.equalsSelection(e)&&(i=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new p.a(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new p.a(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)}));o.push(r);var a=t.getModel();if(null!==a){for(var s=[],c=[],u=i,d=0,f=0,g=o.length;f<g;f++){var m=o[f],v=m.startLineNumber,_=0,b=void 0,y=void 0,w=a.getLineContent(m.endLineNumber).length-m.endColumn;if(m.isEmpty()||m.startLineNumber===m.endLineNumber){var C=m.getStartPosition();C.lineNumber<a.getLineCount()?(b=v+1,y=a.getLineMaxColumn(b)):(b=C.lineNumber,y=a.getLineMaxColumn(C.lineNumber))}else b=m.endLineNumber,y=a.getLineMaxColumn(b);for(var O=a.getLineContent(v),k=v+1;k<=b;k++){var L=a.getLineContent(k),M=a.getLineFirstNonWhitespaceColumn(k);if(M>=1){var D=!0;""===O&&(D=!1),!D||" "!==O.charAt(O.length-1)&&"\t"!==O.charAt(O.length-1)||(D=!1,O=O.replace(/[\s\uFEFF\xA0]+$/g," "));var N=L.substr(M-1);O+=(D?" ":"")+N,_=D?N.length+1:N.length}else _=0}var S=new h.a(v,1,b,y);if(!S.isEmpty()){var x=void 0;m.isEmpty()?(s.push(l.a.replace(S,O)),x=new p.a(S.startLineNumber-d,O.length-_+1,v-d,O.length-_+1)):m.startLineNumber===m.endLineNumber?(s.push(l.a.replace(S,O)),x=new p.a(m.startLineNumber-d,m.startColumn,m.endLineNumber-d,m.endColumn)):(s.push(l.a.replace(S,O)),x=new p.a(m.startLineNumber-d,m.startColumn,m.startLineNumber-d,O.length-w)),null!==h.a.intersectRanges(S,i)?u=x:c.push(x)}d+=S.endLineNumber-S.startLineNumber}c.unshift(u),t.pushUndoStop(),t.executeEdits(this.id,s,c),t.pushUndoStop()}}}},t}(a.b),q=function(e){function t(){return e.call(this,{id:"editor.action.transpose",label:i.a("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:f.a.writable})||this}return L(t,e),t.prototype.run=function(e,t){var n=t.getSelections();if(null!==n){var i=t.getModel();if(null!==i){for(var o=[],r=0,a=n.length;r<a;r++){var c=n[r];if(c.isEmpty()){var u=c.getStartPosition(),l=i.getLineMaxColumn(u.lineNumber);if(u.column>=l){if(u.lineNumber===i.getLineCount())continue;var d=new h.a(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1),f=i.getValueInRange(d).split("").reverse().join("");o.push(new s.a(new p.a(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1),f))}else{d=new h.a(u.lineNumber,Math.max(1,u.column-1),u.lineNumber,u.column+1),f=i.getValueInRange(d).split("").reverse().join("");o.push(new s.b(d,f,new p.a(u.lineNumber,u.column+1,u.lineNumber,u.column+1)))}}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}},t}(a.b),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.run=function(e,t){var n=t.getSelections();if(null!==n){var i=t.getModel();if(null!==i){for(var o=t.getOption(92),r=[],a=0,c=n.length;a<c;a++){var u=n[a];if(u.isEmpty()){var l=u.getStartPosition(),d=i.getWordAtPosition(l);if(!d)continue;var f=new h.a(l.lineNumber,d.startColumn,l.lineNumber,d.endColumn),g=i.getValueInRange(f);r.push(new s.b(f,this._modifyText(g,o),new p.a(l.lineNumber,l.column,l.lineNumber,l.column)))}else{g=i.getValueInRange(u);r.push(new s.b(u,this._modifyText(g,o),u))}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}},t}(a.b),Z=function(e){function t(){return e.call(this,{id:"editor.action.transformToUppercase",label:i.a("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:f.a.writable})||this}return L(t,e),t.prototype._modifyText=function(e,t){return e.toLocaleUpperCase()},t}(z),J=function(e){function t(){return e.call(this,{id:"editor.action.transformToLowercase",label:i.a("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:f.a.writable})||this}return L(t,e),t.prototype._modifyText=function(e,t){return e.toLocaleLowerCase()},t}(z),X=function(e){function t(){return e.call(this,{id:"editor.action.transformToTitlecase",label:i.a("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:f.a.writable})||this}return L(t,e),t.prototype._modifyText=function(e,t){for(var n=("\r\n\t "+t).split(""),i="",o=!0,r=0;r<e.length;r++){var a=e[r];n.indexOf(a)>=0?(o=!0,i+=a):o?(o=!1,i+=a.toLocaleUpperCase()):i+=a.toLocaleLowerCase()}return i},t}(z);Object(a.f)(D),Object(a.f)(N),Object(a.f)(S),Object(a.f)(P),Object(a.f)(I),Object(a.f)(R),Object(a.f)(j),Object(a.f)(T),Object(a.f)(A),Object(a.f)(F),Object(a.f)(W),Object(a.f)(U),Object(a.f)(K),Object(a.f)(B),Object(a.f)(H),Object(a.f)(G),Object(a.f)(q),Object(a.f)(Z),Object(a.f)(J),Object(a.f)(X)},410:function(e,t,n){"use strict";n.r(t);var i=n(17),o=n(33),r=n(46),a=n(2),s=n(5),c=n(43),u=n(124),l=n(3),d=n(8),h=n(12),p=n(101),f=n(72),g=n(13),m=n(28),v=n(102),_=n(138),b=n(10),y=n(24),w=n(78),C=n(74),O=function(){function e(){}return e._handleEolEdits=function(e,t){for(var n=void 0,i=[],o=0,r=t;o<r.length;o++){var a=r[o];"number"===typeof a.eol&&(n=a.eol),a.range&&"string"===typeof a.text&&i.push(a)}return"number"===typeof n&&e.hasModel()&&e.getModel().pushEOL(n),i},e._isFullModelReplaceEdit=function(e,t){if(!e.hasModel())return!1;var n=e.getModel(),i=n.validateRange(t.range);return n.getFullModelRange().equalsRange(i)},e.execute=function(t,n){t.pushUndoStop();var i=e._handleEolEdits(t,n);1===i.length&&e._isFullModelReplaceEdit(t,i[0])?t.executeEdits("formatEditsCommand",i.map((function(e){return C.a.replace(l.a.lift(e.range),e.text)}))):t.executeEdits("formatEditsCommand",i.map((function(e){return C.a.replaceMove(l.a.lift(e.range),e.text)}))),t.pushUndoStop()},e}(),k=n(0),L=n(337),M=n(20),D=n(119),N=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},S=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};function x(e){if((e=e.filter((function(e){return e.range}))).length){for(var t=e[0].range,n=1;n<e.length;n++)t=l.a.plusRange(t,e[n].range);var i=t.startLineNumber,o=t.endLineNumber;i===o?1===e.length?Object(f.a)(k.a("hint11","Made 1 formatting edit on line {0}",i)):Object(f.a)(k.a("hintn1","Made {0} formatting edits on line {1}",e.length,i)):1===e.length?Object(f.a)(k.a("hint1n","Made 1 formatting edit between lines {0} and {1}",i,o)):Object(f.a)(k.a("hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,i,o))}}function P(e){for(var t=[],n=new Set,i=0,o=h.g.ordered(e);i<o.length;i++){var r=o[i];t.push(r),r.extensionId&&n.add(L.a.toKey(r.extensionId))}for(var a=function(e){if(e.extensionId){if(n.has(L.a.toKey(e.extensionId)))return"continue";n.add(L.a.toKey(e.extensionId))}t.push({displayName:e.displayName,extensionId:e.extensionId,provideDocumentFormattingEdits:function(t,n,i){return e.provideDocumentRangeFormattingEdits(t,t.getFullModelRange(),n,i)}})},s=0,c=h.j.ordered(e);s<c.length;s++){a(r=c[s])}return t}var I=function(){function e(){}return e.select=function(t,n,i){return N(this,void 0,void 0,(function(){var o;return S(this,(function(r){switch(r.label){case 0:return 0===t.length?[2,void 0]:(o=e._selectors.iterator().next().value)?[4,o(t,n,i)]:[3,2];case 1:return[2,r.sent()];case 2:return[2,t[0]]}}))}))},e._selectors=new D.a,e}();function E(e,t,n,i,o){return N(this,void 0,void 0,(function(){var r,a,s,c;return S(this,(function(u){switch(u.label){case 0:return r=e.get(M.a),a=Object(_.a)(t)?t.getModel():t,s=h.j.ordered(a),[4,I.select(s,a,i)];case 1:return(c=u.sent())?[4,r.invokeFunction(R,c,t,n,o)]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function R(e,t,n,i,o){return N(this,void 0,void 0,(function(){var r,a,s,c,u,d,h;return S(this,(function(f){switch(f.label){case 0:r=e.get(p.a),Object(_.a)(n)?(a=n.getModel(),s=new v.b(n,5,o)):(a=n,s=new v.d(n,o)),f.label=1;case 1:return f.trys.push([1,,4,5]),[4,t.provideDocumentRangeFormattingEdits(a,i,a.getFormattingOptions(),s.token)];case 2:return u=f.sent(),[4,r.computeMoreMinimalEdits(a.uri,u)];case 3:return c=f.sent(),s.token.isCancellationRequested?[2,!0]:[3,5];case 4:return s.dispose(),[7];case 5:return c&&0!==c.length?(Object(_.a)(n)?(O.execute(n,c),x(c),n.pushUndoStop(),n.focus(),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1)):(d=c[0].range,h=new y.a(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn),a.pushEditOperations([h],c.map((function(e){return{text:e.text,range:l.a.lift(e.range),forceMoveMarkers:!0}})),(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t].range;if(l.a.areIntersectingOrTouching(i,h))return[new y.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)]}return null}))),[2,!0]):[2,!1]}}))}))}function j(e,t,n,i){return N(this,void 0,void 0,(function(){var o,r,a,s;return S(this,(function(c){switch(c.label){case 0:return o=e.get(M.a),r=Object(_.a)(t)?t.getModel():t,a=P(r),[4,I.select(a,r,n)];case 1:return(s=c.sent())?[4,o.invokeFunction(T,s,t,n,i)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function T(e,t,n,i,o){return N(this,void 0,void 0,(function(){var r,a,s,c,u,d,h;return S(this,(function(f){switch(f.label){case 0:r=e.get(p.a),Object(_.a)(n)?(a=n.getModel(),s=new v.b(n,5,o)):(a=n,s=new v.d(n,o)),f.label=1;case 1:return f.trys.push([1,,4,5]),[4,t.provideDocumentFormattingEdits(a,a.getFormattingOptions(),s.token)];case 2:return u=f.sent(),[4,r.computeMoreMinimalEdits(a.uri,u)];case 3:return c=f.sent(),s.token.isCancellationRequested?[2,!0]:[3,5];case 4:return s.dispose(),[7];case 5:return c&&0!==c.length?(Object(_.a)(n)?(O.execute(n,c),2!==i&&(x(c),n.pushUndoStop(),n.focus(),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1))):(d=c[0].range,h=new y.a(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn),a.pushEditOperations([h],c.map((function(e){return{text:e.text,range:l.a.lift(e.range),forceMoveMarkers:!0}})),(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t].range;if(l.a.areIntersectingOrTouching(i,h))return[new y.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)]}return null}))),[2,!0]):[2,!1]}}))}))}function A(e,t,n,i,r){var a=h.r.ordered(t);return 0===a.length?Promise.resolve(void 0):a[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,n,i,r,o.a.None)).catch(g.f).then((function(n){return e.computeMoreMinimalEdits(t.uri,n)}))}Object(s.j)("_executeFormatRangeProvider",(function(e,t){var n=t.resource,r=t.range,a=t.options;if(!(n instanceof m.a)||!l.a.isIRange(r))throw Object(g.b)();var s=e.get(w.a).getModel(n);if(!s)throw Object(g.b)("resource");return function(e,t,n,o,r){return N(this,void 0,void 0,(function(){var a,s,c,u,l;return S(this,(function(d){switch(d.label){case 0:a=h.j.ordered(t),s=0,c=a,d.label=1;case 1:return s<c.length?(u=c[s],[4,Promise.resolve(u.provideDocumentRangeFormattingEdits(t,n,o,r)).catch(g.f)]):[3,5];case 2:return l=d.sent(),Object(i.q)(l)?[4,e.computeMoreMinimalEdits(t.uri,l)]:[3,4];case 3:return[2,d.sent()];case 4:return s++,[3,1];case 5:return[2,void 0]}}))}))}(e.get(p.a),s,l.a.lift(r),a,o.a.None)})),Object(s.j)("_executeFormatDocumentProvider",(function(e,t){var n=t.resource,r=t.options;if(!(n instanceof m.a))throw Object(g.b)("resource");var a=e.get(w.a).getModel(n);if(!a)throw Object(g.b)("resource");return function(e,t,n,o){return N(this,void 0,void 0,(function(){var r,a,s,c,u;return S(this,(function(l){switch(l.label){case 0:r=P(t),a=0,s=r,l.label=1;case 1:return a<s.length?(c=s[a],[4,Promise.resolve(c.provideDocumentFormattingEdits(t,n,o)).catch(g.f)]):[3,5];case 2:return u=l.sent(),Object(i.q)(u)?[4,e.computeMoreMinimalEdits(t.uri,u)]:[3,4];case 3:return[2,l.sent()];case 4:return a++,[3,1];case 5:return[2,void 0]}}))}))}(e.get(p.a),a,r,o.a.None)})),Object(s.j)("_executeFormatOnTypeProvider",(function(e,t){var n=t.resource,i=t.position,o=t.ch,r=t.options;if(!(n instanceof m.a)||!b.a.isIPosition(i)||"string"!==typeof o)throw Object(g.b)();var a=e.get(w.a).getModel(n);if(!a)throw Object(g.b)("resource");return A(e.get(p.a),a,b.a.lift(i),o,r)}));var F=n(40),W=n(11),U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),K=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},V=function(e,t){return function(n,i){t(n,i,e)}},B=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},H=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},G=function(){function e(e,t){var n=this;this._workerService=t,this._callOnDispose=new a.b,this._callOnModel=new a.b,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModel((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModelLanguage((function(){return n._update()}))),this._callOnDispose.add(h.r.onDidChange(this._update,this))}return e.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},e.prototype._update=function(){var e=this;if(this._callOnModel.clear(),this._editor.getOption(37)&&this._editor.hasModel()){var t=this._editor.getModel(),n=h.r.ordered(t)[0];if(n&&n.autoFormatTriggerCharacters){for(var i=new u.b,o=0,r=n.autoFormatTriggerCharacters;o<r.length;o++){var a=r[o];i.add(a.charCodeAt(0))}this._callOnModel.add(this._editor.onDidType((function(t){var n=t.charCodeAt(t.length-1);i.has(n)&&e._trigger(String.fromCharCode(n))})))}}},e.prototype._trigger=function(e){var t=this;if(this._editor.hasModel()&&!(this._editor.getSelections().length>1)){var n=this._editor.getModel(),o=this._editor.getPosition(),r=!1,a=this._editor.onDidChangeModelContent((function(e){if(e.isFlush)return r=!0,void a.dispose();for(var t=0,n=e.changes.length;t<n;t++){if(e.changes[t].range.endLineNumber<=o.lineNumber)return r=!0,void a.dispose()}}));A(this._workerService,n,o,e,n.getFormattingOptions()).then((function(e){a.dispose(),r||Object(i.q)(e)&&(O.execute(t._editor,e),x(e))}),(function(e){throw a.dispose(),e}))}},e.ID="editor.contrib.autoFormat",e=K([V(1,p.a)],e)}(),q=function(){function e(e,t){var n=this;this.editor=e,this._instantiationService=t,this._callOnDispose=new a.b,this._callOnModel=new a.b,this._callOnDispose.add(e.onDidChangeConfiguration((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModel((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModelLanguage((function(){return n._update()}))),this._callOnDispose.add(h.j.onDidChange(this._update,this))}return e.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},e.prototype._update=function(){var e=this;this._callOnModel.clear(),this.editor.getOption(36)&&this.editor.hasModel()&&h.j.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((function(t){return e._trigger(t)})))},e.prototype._trigger=function(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(E,this.editor,e,2,o.a.None).catch(g.e))},e.ID="editor.contrib.formatOnPaste",e=K([V(1,M.a)],e)}(),z=function(e){function t(){return e.call(this,{id:"editor.action.formatDocument",label:k.a("formatDocument.label","Format Document"),alias:"Format Document",precondition:W.a.and(d.a.writable,d.a.hasDocumentFormattingProvider),kbOpts:{kbExpr:W.a.and(d.a.editorTextFocus,d.a.hasDocumentFormattingProvider),primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{when:d.a.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}return U(t,e),t.prototype.run=function(e,t){return B(this,void 0,void 0,(function(){return H(this,(function(n){switch(n.label){case 0:return t.hasModel()?[4,e.get(M.a).invokeFunction(j,t,1,o.a.None)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t}(s.b),Z=function(e){function t(){return e.call(this,{id:"editor.action.formatSelection",label:k.a("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:W.a.and(d.a.writable,d.a.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:W.a.and(d.a.editorTextFocus,d.a.hasDocumentSelectionFormattingProvider),primary:Object(r.a)(2089,2084),weight:100},contextMenuOpts:{when:W.a.and(d.a.hasDocumentSelectionFormattingProvider,d.a.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}return U(t,e),t.prototype.run=function(e,t){return B(this,void 0,void 0,(function(){var n,i,r;return H(this,(function(a){switch(a.label){case 0:return t.hasModel()?(n=e.get(M.a),i=t.getModel(),(r=t.getSelection()).isEmpty()&&(r=new l.a(r.startLineNumber,1,r.startLineNumber,i.getLineMaxColumn(r.startLineNumber))),[4,n.invokeFunction(E,t,r,1,o.a.None)]):[2];case 1:return a.sent(),[2]}}))}))},t}(s.b);Object(s.h)(G.ID,G),Object(s.h)(q.ID,q),Object(s.f)(z),Object(s.f)(Z),F.a.registerCommand("editor.action.format",(function(e){return B(void 0,void 0,void 0,(function(){var t,n;return H(this,(function(i){switch(i.label){case 0:return(t=e.get(c.a).getFocusedCodeEditor())&&t.hasModel()?(n=e.get(F.b),t.getSelection().isEmpty()?[4,n.executeCommand("editor.action.formatDocument")]:[3,2]):[2];case 1:return i.sent(),[3,4];case 2:return[4,n.executeCommand("editor.action.formatSelection")];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))}))},412:function(e,t,n){"use strict";n.r(t);n(741);var i=n(0),o=n(18),r=n(33),a=n(13),s=n(103),c=n(2),u=n(15),l=n(5),d=n(31),h=n(12),p=n(311),f=n(28),g=n(3),m=n(78),v=n(40),_=n(17),b=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},w=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},C=function(){function e(e,t){this._link=e,this._provider=t}return e.prototype.toJSON=function(){return{range:this.range,url:this.url,tooltip:this.tooltip}},Object.defineProperty(e.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._link.tooltip},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){return y(this,void 0,void 0,(function(){var t=this;return w(this,(function(n){return this._link.url?[2,this._link.url]:"function"===typeof this._provider.resolveLink?[2,Promise.resolve(this._provider.resolveLink(this._link,e)).then((function(n){return t._link=n||t._link,t._link.url?t.resolve(e):Promise.reject(new Error("missing"))}))]:[2,Promise.reject(new Error("missing"))]}))}))},e}(),O=function(e){function t(n){for(var i=e.call(this)||this,o=[],r=function(e,n){var i=e.links.map((function(e){return new C(e,n)}));o=t._union(o,i),Object(c.g)(n)&&a._register(n)},a=this,s=0,u=n;s<u.length;s++){var l=u[s];r(l[0],l[1])}return i.links=o,i}return b(t,e),t._union=function(e,t){var n,i,o,r,a=[];for(n=0,o=0,i=e.length,r=t.length;n<i&&o<r;){var s=e[n],c=t[o];if(g.a.areIntersectingOrTouching(s.range,c.range))n++;else g.a.compareRangesUsingStarts(s.range,c.range)<0?(a.push(s),n++):(a.push(c),o++)}for(;n<i;n++)a.push(e[n]);for(;o<r;o++)a.push(t[o]);return a},t}(c.a);function k(e,t){var n=[],i=h.q.ordered(e).reverse().map((function(i,o){return Promise.resolve(i.provideLinks(e,t)).then((function(e){e&&(n[o]=[e,i])}),a.f)}));return Promise.all(i).then((function(){var e=new O(Object(_.d)(n));return t.isCancellationRequested?(e.dispose(),new O([])):e}))}v.a.registerCommand("_executeLinkProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return y(void 0,void 0,void 0,(function(){var n,i,o,a;return w(this,(function(s){switch(s.label){case 0:return(n=t[0])instanceof f.a&&(i=e.get(m.a).getModel(n))?[4,k(i,r.a.None)]:[2,[]];case 1:return(o=s.sent())?(a=o.links.slice(0),o.dispose(),[2,a]):[2,[]]}}))}))}));var L=n(59),M=n(84),D=n(4),N=n(19),S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=function(){return(x=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},P=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t){return function(n,i){t(n,i,e)}},E=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},R=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};var j={general:d.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:d.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},T=function(){function e(e,t){this.link=e,this.decorationId=t}return e.decoration=function(t,n){return{range:t.range,options:e._getOptions(t,n,!1)}},e._getOptions=function(e,t,n){var o=x({},n?j.active:j.general);return o.hoverMessage=function(e,t){var n=e.url&&/^command:/i.test(e.url.toString()),o=e.tooltip?e.tooltip:n?i.a("links.navigate.executeCmd","Execute command"):i.a("links.navigate.follow","Follow link"),r=t?u.e?i.a("links.navigate.kb.meta.mac","cmd + click"):i.a("links.navigate.kb.meta","ctrl + click"):u.e?i.a("links.navigate.kb.alt.mac","option + click"):i.a("links.navigate.kb.alt","alt + click");return e.url?new s.a("",!0).appendMarkdown("["+o+"]("+e.url.toString()+") ("+r+")"):(new s.a).appendText(o+" ("+r+")")}(e,t),o},e.prototype.activate=function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!0))},e.prototype.deactivate=function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!1))},e}(),A=function(){function e(e,t,n){var i=this;this.listenersToRemove=new c.b,this.editor=e,this.openerService=t,this.notificationService=n;var r=new p.a(e);this.listenersToRemove.add(r),this.listenersToRemove.add(r.onMouseMoveOrRelevantKeyDown((function(e){var t=e[0],n=e[1];i._onEditorMouseMove(t,n)}))),this.listenersToRemove.add(r.onExecute((function(e){i.onEditorMouseUp(e)}))),this.listenersToRemove.add(r.onCancel((function(e){i.cleanUpActiveLinkDecoration()}))),this.enabled=e.getOption(50),this.listenersToRemove.add(e.onDidChangeConfiguration((function(t){var n=e.getOption(50);i.enabled!==n&&(i.enabled=n,i.updateDecorations([]),i.stop(),i.beginCompute())}))),this.listenersToRemove.add(e.onDidChangeModelContent((function(e){return i.onChange()}))),this.listenersToRemove.add(e.onDidChangeModel((function(e){return i.onModelChanged()}))),this.listenersToRemove.add(e.onDidChangeModelLanguage((function(e){return i.onModelModeChanged()}))),this.listenersToRemove.add(h.q.onDidChange((function(e){return i.onModelModeChanged()}))),this.timeout=new o.e,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},e.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},e.prototype.onChange=function(){var t=this;this.timeout.setIfNotSet((function(){return t.beginCompute()}),e.RECOMPUTE_TIME)},e.prototype.beginCompute=function(){return E(this,void 0,void 0,(function(){var e,t,n;return R(this,(function(i){switch(i.label){case 0:if(!this.editor.hasModel()||!this.enabled)return[2];if(e=this.editor.getModel(),!h.q.has(e))return[2];this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=o.f((function(t){return k(e,t)})),i.label=1;case 1:return i.trys.push([1,3,4,5]),t=this,[4,this.computePromise];case 2:return t.activeLinksList=i.sent(),this.updateDecorations(this.activeLinksList.links),[3,5];case 3:return n=i.sent(),Object(a.e)(n),[3,5];case 4:return this.computePromise=null,[7];case 5:return[2]}}))}))},e.prototype.updateDecorations=function(e){for(var t="altKey"===this.editor.getOption(57),n=[],i=Object.keys(this.currentOccurrences),o=0,r=i.length;o<r;o++){var a=i[o],s=this.currentOccurrences[a];n.push(s.decorationId)}var c=[];if(e)for(var u=0,l=e;u<l.length;u++){var d=l[u];c.push(T.decoration(d,t))}var h=this.editor.deltaDecorations(n,c);this.currentOccurrences={},this.activeLinkDecorationId=null;for(o=0,r=h.length;o<r;o++){s=new T(e[o],h[o]);this.currentOccurrences[s.decorationId]=s}},e.prototype._onEditorMouseMove=function(e,t){var n=this,i="altKey"===this.editor.getOption(57);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var o=this.getLinkOccurrence(e.target.position);o&&this.editor.changeDecorations((function(e){o.activate(e,i),n.activeLinkDecorationId=o.decorationId}))}else this.cleanUpActiveLinkDecoration()},e.prototype.cleanUpActiveLinkDecoration=function(){var e="altKey"===this.editor.getOption(57);if(this.activeLinkDecorationId){var t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((function(n){t.deactivate(n,e)})),this.activeLinkDecorationId=null}},e.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}},e.prototype.openLinkOccurrence=function(e,t,n){var o=this;if(void 0===n&&(n=!1),this.openerService){var s=e.link;s.resolve(r.a.None).then((function(e){return o.openerService.open(e,{openToSide:t,fromUserGesture:n})}),(function(e){var t=e instanceof Error?e.message:e;"invalid"===t?o.notificationService.warn(i.a("invalid.url","Failed to open this link because it is not well-formed: {0}",s.url.toString())):"missing"===t?o.notificationService.warn(i.a("missing.url","Failed to open this link because its target is missing.")):Object(a.e)(e)}))}},e.prototype.getLinkOccurrence=function(e){if(!this.editor.hasModel()||!e)return null;for(var t=0,n=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);t<n.length;t++){var i=n[t],o=this.currentOccurrences[i.id];if(o)return o}return null},e.prototype.isEnabled=function(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))},e.prototype.stop=function(){this.timeout.cancel(),this.activeLinksList&&this.activeLinksList.dispose(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},e.prototype.dispose=function(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()},e.ID="editor.linkDetector",e.RECOMPUTE_TIME=1e3,e=P([I(1,M.a),I(2,L.a)],e)}(),F=function(e){function t(){return e.call(this,{id:"editor.action.openLink",label:i.a("label","Open Link"),alias:"Open Link",precondition:void 0})||this}return S(t,e),t.prototype.run=function(e,t){var n=A.get(t);if(n&&t.hasModel())for(var i=0,o=t.getSelections();i<o.length;i++){var r=o[i],a=n.getLinkOccurrence(r.getEndPosition());a&&n.openLinkOccurrence(a,!1)}},t}(l.b);Object(l.h)(A.ID,A),Object(l.f)(F),Object(N.e)((function(e,t){var n=e.getColor(D.n);n&&t.addRule(".monaco-editor .detected-link-active { color: "+n+" !important; }")}))},417:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(3),r=n(24),a=n(8),s=n(5),c=n(101),u=function(){function e(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._editRange,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new r.a(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new r.a(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)},e}(),l=n(102),d=n(19),h=n(51),p=n(31),f=n(18),g=n(13),m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),v=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},_=function(e,t){return function(n,i){t(n,i,e)}},b=function(){function e(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){},e.prototype.run=function(t,n){var i=this;this.currentRequest&&this.currentRequest.cancel();var a=this.editor.getSelection(),s=this.editor.getModel();if(s&&a){var c=a;if(c.startLineNumber===c.endLineNumber){var d=new l.a(this.editor,5),h=s.uri;return this.editorWorkerService.canNavigateValueSet(h)?(this.currentRequest=Object(f.f)((function(e){return i.editorWorkerService.navigateValueSet(h,c,n)})),this.currentRequest.then((function(n){if(n&&n.range&&n.value&&d.validate(i.editor)){var a=o.a.lift(n.range),s=n.range,l=n.value.length-(c.endColumn-c.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+n.value.length},l>1&&(c=new r.a(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn+l-1));var h=new u(a,c,n.value);i.editor.pushUndoStop(),i.editor.executeCommand(t,h),i.editor.pushUndoStop(),i.decorationIds=i.editor.deltaDecorations(i.decorationIds,[{range:s,options:e.DECORATION}]),i.decorationRemover&&i.decorationRemover.cancel(),i.decorationRemover=Object(f.l)(350),i.decorationRemover.then((function(){return i.decorationIds=i.editor.deltaDecorations(i.decorationIds,[])})).catch(g.e)}})).catch(g.e)):Promise.resolve(void 0)}}},e.ID="editor.contrib.inPlaceReplaceController",e.DECORATION=p.a.register({className:"valueSetReplacement"}),e=v([_(1,c.a)],e)}(),y=function(e){function t(){return e.call(this,{id:"editor.action.inPlaceReplace.up",label:i.a("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3154,weight:100}})||this}return m(t,e),t.prototype.run=function(e,t){var n=b.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)},t}(s.b),w=function(e){function t(){return e.call(this,{id:"editor.action.inPlaceReplace.down",label:i.a("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3156,weight:100}})||this}return m(t,e),t.prototype.run=function(e,t){var n=b.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)},t}(s.b);Object(s.h)(b.ID,b),Object(s.f)(y),Object(s.f)(w),Object(d.e)((function(e,t){var n=e.getColor(h.d);n&&t.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+n+"; }")}))},669:function(e,t,n){},721:function(e,t,n){},731:function(e,t,n){},733:function(e,t,n){},741:function(e,t,n){},76:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p}));var i=n(0),o=n(6),r=n(48),a=n(2),s=n(9),c=n(238),u=n(3),l=function(){function e(e,t,n,i){this.isProviderFirst=e,this.parent=t,this._range=n,this._rangeCallback=i,this.id=c.b.nextId()}return Object.defineProperty(e.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._rangeCallback(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){return Object(i.a)("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(r.b)(this.uri),this.range.startLineNumber,this.range.startColumn)},enumerable:!0,configurable:!0}),e}(),d=function(){function e(e){this._modelReference=e}return e.prototype.dispose=function(){this._modelReference.dispose()},e.prototype.preview=function(e,t){void 0===t&&(t=8);var n=this._modelReference.object.textEditorModel;if(n){var i=e.startLineNumber,o=e.startColumn,r=e.endLineNumber,a=e.endColumn,s=n.getWordUntilPosition({lineNumber:i,column:o-t}),c=new u.a(i,s.startColumn,i,o),l=new u.a(r,a,r,1073741824),d=n.getValueInRange(c).replace(/^\s+/,""),h=n.getValueInRange(e);return{value:d+h+n.getValueInRange(l).replace(/\s+$/,""),highlight:{start:d.length,end:d.length+h.length}}}},e}(),h=function(){function e(e,t){this.parent=e,this.uri=t,this.children=[]}return e.prototype.dispose=function(){Object(a.f)(this._preview),this._preview=void 0},Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){var e=this.children.length;return 1===e?Object(i.a)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(r.b)(this.uri),this.uri.fsPath):Object(i.a)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Object(r.b)(this.uri),this.uri.fsPath)},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){var t=this;return this._resolved?Promise.resolve(this):Promise.resolve(e.createModelReference(this.uri).then((function(e){if(!e.object)throw e.dispose(),new Error;return t._preview=new d(e),t._resolved=!0,t}),(function(e){return t.children.length=0,t._resolved=!0,t._loadFailure=e,t})))},e}(),p=function(){function e(t,n){var i=this;this._disposables=new a.b,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new o.a,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=n;var r,s=t[0];t.sort(e._compareReferences);for(var c=0,d=t;c<d.length;c++){var p=d[c];if(r&&r.uri.toString()===p.uri.toString()||(r=new h(this,p.uri),this.groups.push(r)),0===r.children.length||!u.a.equalsRange(p.range,r.children[r.children.length-1].range)){var f=new l(s===p,r,p.targetSelectionRange||p.range,(function(e){return i._onDidChangeReferenceRange.fire(e)}));this.references.push(f),r.children.push(f)}}}return e.prototype.dispose=function(){Object(a.f)(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0},e.prototype.clone=function(){return new e(this._links,this._title)},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){return this.isEmpty?Object(i.a)("aria.result.0","No results found"):1===this.references.length?Object(i.a)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?Object(i.a)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(i.a)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},enumerable:!0,configurable:!0}),e.prototype.nextOrPreviousReference=function(e,t){var n=e.parent,i=n.children.indexOf(e),o=n.children.length,r=n.parent.groups.length;return 1===r||t&&i+1<o||!t&&i>0?(i=t?(i+1)%o:(i+o-1)%o,n.children[i]):(i=n.parent.groups.indexOf(n),t?(i=(i+1)%r,n.parent.groups[i].children[0]):(i=(i+r-1)%r,n.parent.groups[i].children[n.parent.groups[i].children.length-1]))},e.prototype.nearestReference=function(e,t){var n=this.references.map((function(n,i){return{idx:i,prefixLen:s.c(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}})).sort((function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0}))[0];if(n)return this.references[n.idx]},e.prototype.referenceAt=function(e,t){for(var n=0,i=this.references;n<i.length;n++){var o=i[n];if(o.uri.toString()===e.toString()&&u.a.containsPosition(o.range,t))return o}},e.prototype.firstReference=function(){for(var e=0,t=this.references;e<t.length;e++){var n=t[e];if(n.isProviderFirst)return n}return this.references[0]},e._compareReferences=function(e,t){return s.e(e.uri.toString(),t.uri.toString())||u.a.compareRangesUsingStarts(e.range,t.range)},e}()}}]);
//# sourceMappingURL=24.fb879e2d.chunk.js.map